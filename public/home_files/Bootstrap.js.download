(function ensightenInit(){var ensightenOptions = {client: "citi", clientId: 1129, publishPath: "na_prod", isPublic:0, serverComponentLocation: "nexus.ensighten.com/citi/na_prod/serverComponent.php", staticJavascriptPath: "nexus.ensighten.com/citi/na_prod/code/", ns: 'Bootstrapper', nexus:"nexus.ensighten.com", scUseCacheBuster: "true", enableTagAuditBeacon : "true", enablePagePerfBeacon : "true", registryNs : "ensBootstraps", generatedOn : "Thu Feb 28 18:30:49 GMT 2019", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(f){function l(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function m(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function n(){for(var a=b.dataDefinitionIds.length,c=!0,d=0;d<a;d++){var e=b.dataDefinitions[b.dataDefinitionIds[d]];if(!e||
null==e.endRegistration){c=!1;break}}c&&b.callOnDataDefintionComplete()}var e={},b={};b.ensightenOptions=ensightenOptions;b.scDataObj={};e.version="1.26.0";e.nexus=f.nexus||"nexus.ensighten.com";e.rand=-1;e.currSec=(new Date).getSeconds();e.options={interval:f.interval||100,erLoc:f.errorLocation||e.nexus+"/error/e.gif",scLoc:f.serverComponentLocation||e.nexus+"/"+f.client+"/serverComponent.php",sjPath:f.staticJavascriptPath||e.nexus+"/"+f.client+"/code/",alLoc:f.alertLocation||e.nexus+"/alerts/a.gif",
publishPath:f.publishPath,isPublic:f.isPublic,client:f.client,clientId:f.clientId,enableTagAuditBeacon:f.enableTagAuditBeacon,scUseCacheBuster:f.scUseCacheBuster,beaconSamplingSeedValue:f.beaconSamplingSeedValue||-1};e.ruleList=[];e.allDeploymentIds=[];e.runDeploymentIds=[];e.runRuleIds=[];e.exceptionList=[];e.ensightenVariables={};e.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var c=0;c<a.dependencies.length;c++)if(!1===a.dependencies[c]())return;
a.execute()}};l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;e.DependencyNotAvailableException=l;m.prototype=Error();m.prototype||(m.prototype={});m.prototype.constructor=m;e.BeaconException=m;e.checkForInvalidDependencies=function(a,c,d,h){for(a=0;a<d.length;a++)if("DEPENDENCYNEVERAVAILABLE"===d[a])return b.currentRuleId=this.id,b.currentDeploymentId=this.deploymentId,b.reportException(new e.DependencyNotAvailableException(h[a])),c&&-1!==c&&e.allDeploymentIds.push(c),
!0;return!1};b.currentRuleId=-1;b.currentDeploymentId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.AF=[];b._serverTime="";b._clientIP="";b.sampleBeacon=function(){var a=!1;try{var c=(e.currSec||0)%20,b=e.options.beaconSamplingSeedValue;-1===b?a=!0:0!==c&&0===b%c&&(a=!0)}catch(h){}return a};b.getServerComponent=function(a){b.callOnGetServerComponent();b.insertScript(window.location.protocol+"//"+e.options.scLoc,!1,a||!0,e.options.scUseCacheBuster)};b.setVariable=function(a,c){e.ensightenVariables[a]=
c};b.getVariable=function(a){return a in e.ensightenVariables?e.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<e.ruleList.length;a++)e.test(e.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};b.reportException=function(a){a.timestamp=(new Date).getTime();e.exceptionList.push(a);a=window.location.protocol+"//"+e.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||
a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+encodeURIComponent(e.options.clientId||-1)+"&client="+encodeURIComponent(e.options.client||"")+"&publishPath="+encodeURIComponent(e.options.publishPath||"")+"&rid="+encodeURIComponent(b.currentRuleId||-1)+"&did="+encodeURIComponent(b.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=b.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);
b.currentRuleId=this.id;b.currentDeploymentId=this.deploymentId;try{this.code()}catch(c){window[ensightenOptions.ns].reportException(c)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(e.runDeploymentIds.push(this.deploymentId),e.runRuleIds.push(this.id)),b.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;e.ruleList.push(a);
-1!==a.deploymentId&&e.allDeploymentIds.push(a.deploymentId);b.testAll();return!0};b.getRule=function(a){for(var c=0;c<e.ruleList.length;c++)if(e.ruleList[c].id===a)return e.ruleList[c];return!1};b.getRuleList=function(){return e.ruleList};b.clearRuleList=function(){e.ruleList=[]};b.getAllDeploymentIds=function(){return e.allDeploymentIds};b.getRunRuleIds=function(){return e.runRuleIds};b.getRunDeploymentIds=function(){return e.runDeploymentIds};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:
!1};e.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var c=new Date;c=c.getFullYear()+"-"+e.toTwoChar(c.getMonth())+"-"+e.toTwoChar(c.getDate())+" "+e.toTwoChar(c.getHours())+":"+e.toTwoChar(c.getMinutes())+":"+e.toTwoChar(c.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(c);this.subject=encodeURIComponent(this.subject);
this.type=encodeURIComponent(this.type)};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+e.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+e.options.clientId+"&client="+e.options.client+"&publishPath="+e.options.publishPath+"&rid="+b.currentRuleId+"&did="+b.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.imageRequest=function(a){var c=new Image(0,0);c.src=a;return c};b.insertScript=function(a,c,d,h){var p=
document.getElementsByTagName("script"),g;h=void 0!==h?h:!0;if(void 0!==c?c:1)for(g=0;g<p.length;g++)if(p[g].src===a&&p[g].readyState&&/loaded|complete/.test(p[g].readyState))return;if(d){d=1==d&&"object"==typeof b.scDataObj?b.scDataObj:d;e.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));c=window.location.href;"object"===typeof d&&d.PageID&&(c=d.PageID,delete d.PageID);if("object"===typeof d)for(g in d){g=~c.indexOf("#")?c.slice(c.indexOf("#"),c.length):"";c=c.slice(0,g.length?c.length-g.length:
c.length);c+=~c.indexOf("?")?"&":"?";for(k in d)c+=k+"="+d[k]+"&";c=c.slice(0,-1)+g;break}a+="?";h&&(a+="r="+e.rand+"&");a+="ClientID="+encodeURIComponent(e.options.clientId)+"&PageID="+encodeURIComponent(c)}(function(a,c,b){var d=c.head||c.getElementsByTagName("head");setTimeout(function(){if("item"in d){if(!d[0]){setTimeout(arguments.callee,25);return}d=d[0]}var a=c.createElement("script");a.src=b;a.onload=a.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.insertBefore(a,
d.firstChild)},0)})(window,document,a)};b.loadScriptCallback=function(a,c,b){var d=document.getElementsByTagName("script"),e;b=d[0];for(e=0;e<d.length;e++)if(d[e].src===a&&d[e].readyState&&/loaded|complete/.test(d[e].readyState))try{c()}catch(g){window[ensightenOptions.ns].reportException(g)}finally{return}d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=a;d.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.onload=d.onreadystatechange=function(){if(!this.readyState||
"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{c.call(this)}catch(g){window[ensightenOptions.ns].reportException(g)}}};b.parentNode.insertBefore(d,b)};b.insertPageFiles=function(a){var b=0,d=0,e=function(){d==a.length-1&&window[ensightenOptions.ns].callOnPageSpecificCompletion();d++};for(b=0;b<a.length;++b)window[ensightenOptions.ns].loadScriptCallback(a[b],e)};b.unobtrusiveAddEvent=function(a,
b,d){try{var c=a[b]?a[b]:function(){};a[b]=function(){d.apply(this,arguments);return c.apply(this,arguments)}}catch(p){window[ensightenOptions.ns].reportException(p)}};b.anonymous=function(a,c){return function(){try{b.currentRuleId=c?c:"anonymous",a()}catch(d){window[ensightenOptions.ns].reportException(d)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.setCurrentDeploymentId=function(a){b.currentDeploymentId=a};b.bindImmediate=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,
deploymentId:d||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMParsed=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMLoaded=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindPageSpecificCompletion=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindOnGetServerComponent=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDataDefinitionComplete=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.checkHasRun=function(a){if(0===a.length)return!0;for(var c,d=0;d<a.length;++d)if(c=b.getRule(parseInt(a[d],10)),!c||!c.executionData.hasRun)return!1;return!0};
b.bindDependencyImmediate=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMLoaded=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});
if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMParsed=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyOnGetServerComponent=function(a,
c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,c,d,f,p){var g=[];if(!e.checkForInvalidDependencies(c,f,d,p)){g.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});
g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:f||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.dataDefintionIds=[];b.dataDefinitions=[];b.pageSpecificDataDefinitionsSet=!1;b.setPageSpecificDataDefinitionIds=function(a){for(var c=a?a.length:0,d=0;d<c;d++){var e=a[d];if(Array.prototype.indexOf)-1==b.dataDefinitionIds.indexOf(e)&&b.dataDefinitionIds.push(e);else{for(var f=!1,g=
b.dataDefinitionIds.length,l=0;l<g;l++)if(b.dataDefinitionIds[l]===e){f=!0;break}f||b.dataDefinitionIds.push(e)}}b.pageSpecificDataDefinitionsSet=!0;n()};b.DataDefinition=function(a,b){this.id=a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};b.registerDataDefinition=function(a,c){var d=b.dataDefinitions[c];d||(d=new b.DataDefinition(c,
a),b.dataDefinitions[c]=d);d.startRegistrationTime||(d.startRegistration(),d.registrationFn(),d.endRegistration());b.pageSpecificDataDefinitionsSet&&n()};b.callOnDataDefintionComplete=function(){b.executionState.dataDefinitionComplete=!0;b.testAll()};b.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=
!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.callOnGetServerComponent=
function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var r=function(){var a=[],b=!1,d=!1;return{add:function(c){b&&!d?c():"function"==typeof c&&(a[a.length]=
c)},exec:function(){d=!0;do{var c=a;a=[];b=!0;for(var e=0;e<c.length;e++)try{c[e].call(window)}catch(g){window[ensightenOptions.ns].reportException(g)}}while(0<a.length);d=!1},haveRun:function(){return b}}};b.new_fArray=function(){return r()};e.timer=null;(function(){function a(a,b){return function(){a.apply(b,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var d=log4javascript.getDefaultLogger();b.log=a(d.info,d);b.debug=a(d.debug,d);b.info=
a(d.info,d);b.warn=a(d.warn,d);b.error=a(d.error,d)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?e.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(e.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",b.callOnDOMLoaded,
!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(b.executionState.DOMParsed=!0,b.executionState.DOMLoaded=!0);"true"===e.options.enableTagAuditBeacon&&b.sampleBeacon()&&
window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],c,d,h,l,g=0;g<e.ruleList.length;++g)d=e.ruleList[g],h=d.executionData.hasRun?"1":"0",l=d.deploymentId.toString()+"|"+d.id.toString()+"|"+h,a.push(l);c="["+a.join(";")+"]";var m=window.location.protocol+"//"+e.nexus+"/"+encodeURIComponent(f.client)+"/"+encodeURIComponent(f.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(f.clientId)+"&data="+c+"&idx=0&r="+e.rand;b.imageRequest(m)}catch(q){b.currentRuleId=
-1,b.currentDeploymentId=-1,a=new e.BeaconException(q),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(b.testAll,e.options.interval);return b}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var f=window.performance;if(f){f=f.timing||{};var l=f.navigationStart||0,m={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var n="&ns="+encodeURIComponent(f.navigationStart);for(var e in m)if(void 0!==f[e]){var b=f[e]-l;n+="&"+m[e]+"="+(0<b?encodeURIComponent(b):0)}else n+="&"+m[e]+"=-1";window[ensightenOptions.ns].timing=n;e=ensightenOptions.nexus||"nexus.ensighten.com";f=ensightenOptions.staticJavascriptPath||
"";n=f.indexOf("/",0);l=f.indexOf("/code/");f=f.substring(n,l)+"/perf.rnc";f+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+e+f)}}});
	
    /*
     MIT License (c) copyright 2013 original author or authors */
    window[ensightenOptions.ns].data||(window[ensightenOptions.ns].when=function(){function f(a,b,d,c){return l(a).then(b,d,c)}function p(a){this.then=a}function l(a){return c(function(b){b(a)})}function c(b){function g(a){k&&(r=e(a),d(k,r),k=u)}function f(a){g(h(a))}function q(b){k&&d(k,a(b))}var r,k=[];try{b(g,f,q)}catch(E){f(E)}return new p(function(a,b,d){return c(function(c,g,e){k?k.push(function(f){f.then(a,b,d).then(c,g,e)}):n(function(){r.then(a,b,d).then(c,g,e)})})})}function e(a){return a instanceof
    p?a:a!==Object(a)?m(a):c(function(b,d,c){n(function(){try{var g=a.then;"function"===typeof g?z(g,a,b,d,c):b(m(a))}catch(y){d(y)}})})}function m(a){var b=new p(function(d){try{return"function"==typeof d?e(d(a)):b}catch(D){return h(D)}});return b}function h(a){var b=new p(function(d,c){try{return"function"==typeof c?e(c(a)):b}catch(F){return h(F)}});return b}function a(b){var d=new p(function(c,g,e){try{return"function"==typeof e?a(e(b)):d}catch(y){return a(y)}});return d}function d(a,b){n(function(){for(var d,
    c=0;d=a[c++];)d(b)})}function b(a,b,d,g,e){q(2,arguments);return f(a,function(a){return c(function(d,c,g){function e(a){h(a)}function q(a){u(a)}var k;var n=a.length>>>0;var t=Math.max(0,Math.min(b,n));var w=[];var x=n-t+1;var m=[];if(t){var h=function(a){m.push(a);--x||(u=h=r,c(m))};var u=function(a){w.push(a);--t||(u=h=r,d(w))};for(k=0;k<n;++k)k in a&&f(a[k],q,e,g)}else d(w)}).then(d,g,e)})}function t(a,b,d,c){q(1,arguments);return k(a,w).then(b,d,c)}function k(a,b){return f(a,function(a){return c(function(d,
    c,g){var e,q;var k=e=a.length>>>0;var r=[];if(k){var n=function(a,e){f(a,b).then(function(a){r[e]=a;--k||d(r)},c,g)};for(q=0;q<e;q++)q in a?n(a[q],q):--k}else d(r)})})}function n(a){1===x.push(a)&&A(g)}function g(){for(var a,b=0;a=x[b++];)a();x=[]}function q(a,b){for(var d,c=b.length;c>a;)if(d=b[--c],null!=d&&"function"!=typeof d)throw Error("arg "+c+" must be a function");}function r(){}function w(a){return a}f.defer=function(){var a,b;var d={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,
    reject:u,notify:u}};d.promise=a=c(function(c,g,e){d.resolve=d.resolver.resolve=function(d){if(b)return l(d);b=!0;c(d);return a};d.reject=d.resolver.reject=function(d){if(b)return l(h(d));b=!0;g(d);return a};d.notify=d.resolver.notify=function(a){e(a);return a}});return d};f.resolve=l;f.reject=function(a){return f(a,h)};f.join=function(){return k(arguments,w)};f.all=t;f.map=k;f.reduce=function(a,b){var d=z(B,arguments,1);return f(a,function(a){var c=a.length;d[0]=function(a,d,g){return f(a,function(a){return f(d,
    function(d){return b(a,d,g,c)})})};return G.apply(a,d)})};f.any=function(a,d,c,g){return b(a,1,function(a){return d?d(a[0]):a[0]},c,g)};f.some=b;f.isPromise=function(a){return a&&"function"===typeof a.then};p.prototype={otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return l(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return t(b,function(b){return a.apply(u,b)})})},always:function(a,
    b){return this.then(a,a,b)}};var u;var x=[];var H=setTimeout;var A="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){H(a,0)};var v=Function.prototype;var C=v.call;var z=v.bind?C.bind(C):function(a,b){return a.apply(b,B.call(arguments,2))};v=[];var B=v.slice;var G=v.reduce||function(a){var b=0;var d=Object(this);var c=d.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in
    d){g=d[b++];break}if(++b>=c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in d&&(g=a(g,d[b],b,d));return g};return f}(),function(){function f(c,f){return l.all(f||[],function(e){return c.apply(null,e)})}function p(e){var m=c.call(arguments,1);return function(){return f(e,m.concat(c.call(arguments)))}}var l=window[ensightenOptions.ns].when;var c=[].slice;l.apply=f;l.call=function(e){return f(e,c.call(arguments,1))};l.lift=p;l.bind=p;l.compose=function(e){var m=c.call(arguments,1);return function(){var h=
    c.call(arguments);h=f(e,h);return l.reduce(m,function(a,d){return d(a)},h)}}}(),window[ensightenOptions.ns].data=function(f,p){function l(a,d){this.name="DataDefinitionException";this.message=d||"Data definitions cannot be resolved as there are invalid id(s): "+a}var c={engines:{memory:{get:function(a){if(e.utils.isArray(a)){for(var d=[],b=0;b<a.length;b++)d.push(c.data[a[b]]);return f[ensightenOptions.ns].when.resolve(d)}d=c.dataDefinitions[a]||{storage:{get:function(){}}};d=d.storage.get(d);c.data[a]=
    d;return f[ensightenOptions.ns].when.resolve(c.data[a])},set:function(a,d){if(e.utils.isArray(a))for(var b in a)c.data[a[b]]=d[b];else c.data[a]=d;return f[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(e.utils.isArray(a))for(var d in a)delete c.data[a[d]];else delete c.data[a];return f[ensightenOptions.ns].when.resolve(!0)},clear:function(a){c.data={};c.definitions={};return f[ensightenOptions.ns].when.resolve(!0)},all:function(){return f[ensightenOptions.ns].when.resolve(c.data)}}},
    normalizeInputArgs:function(a,d){var b={key:[],val:p},c;if(e.utils.isPlainObject(a))for(c in b.val=[],a)b.key.push(c),b.val.push(a[c]);else e.utils.isArray(a),b.key=a,b.val=d;return b},definitions:{},data:{}},e={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(d){return a}}}},m=function(){return f[ensightenOptions.ns].when.reject("Not Implemented.")};
    l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DataDefinitionException=l;c.checkForInvalidDataDefinitions=function(a){e.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a)),!0):!1};c.collectAvailableDataDefinitions=function(a){for(var d=[],b=0;b<a.length;b++){var t=parseInt(a[b],10),k=f[ensightenOptions.ns].dataDefinitions[t];if(null===k||k===p)if(k=e.storage.session.get({id:t}),
    null!==k&&k!==p)e.set(t,k),c.dataDefinitions[t]={id:t,load:"visitor",storage:e.storage.visitor,missingDDFromCache:!0},d.push(f[ensightenOptions.ns].data.get(""+t));else return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Invalid data definition used: "+t)),{promises:[],isInvalid:!0};else d.push(f[ensightenOptions.ns].data.get(""+a[b]))}return{promises:d,isInvalid:!1}};c.getSync=function(a){function d(a){var d=a.extract||t,c=a.transform||k,g=!1,e=null,f=null;try{e=d()}catch(v){e=
    null,g=!0}try{f=c(e)}catch(v){f=null,g=!0}g&&b.push(a.id);return f}var b=[],t=function(){return document},k=function(a){return null!==a&&a!==p?a.toString():null},n=parseInt(a);a="string"===typeof a?a.split("."):[];var g={},q="";if(!isNaN(n)&&"undefined"===typeof c.dataDefinitions[n])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(n,"Error resolving data definition: "+n+".  Does not exist on the page.")),"Data definition specified does not exist on the page";if(isNaN(n)&&
    "undefined"===typeof c.dataDefinitionsBySourceCollName[""+a[0]+"."+a[1]+"."+a[2]])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definition: "+a[0]+"."+a[1]+"."+a[2]+".  Does not exist on the page.")),"Data definition specified does not exist on the page";isNaN(n)?3==a.length&&(g=e.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):g=e.getDataDefinitionById(n);q=g.load&&g.load.match(/(session|visitor)/i)&&g.storage&&g.storage.get?g.storage.get(g):
    d(g);0<b.length&&f[ensightenOptions.ns].reportException(new c.DataDefinitionException(b,"Error resolving data definitions synchronously: "+b));return q};c.dataDefinitions={};c.dataDefinitionsBySourceCollName={};e.defineEngine=function(a,d){var b,e=["get","set","remove","clear","all"];c.engines[a]=d;if(!d.returnsPromise)for(b=0;b<e.length;b++){var k=e[b];d[k]=f[ensightenOptions.ns].when.lift(d[k])}};e.storage={instance:{set:function(a,d){},get:function(a){return c.getSync(a.id)}},page:{set:function(a,
    d){},get:function(a){return c.data[a.id]}},session:{set:function(a,d){var b=e.storage.session.get({id:a}),c=new Date,k=c.getTime();c.setTime(k+18E5);null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d,{expires:c.toGMTString()});b={expires:c.getTime(),value:d};f[ensightenOptions.ns].data.local.utils.set(a,b)},get:function(a){var d=f[ensightenOptions.ns].data.cookie.utils.get(a.id),b=f.JSON&&f.JSON.stringify?f.JSON:f[ensightenOptions.ns].JSON;b=b||{};var c=new Date;c=c.getTime();if(null===
    d){try{var e=b.parse(f[ensightenOptions.ns].data.local.utils.get(a.id))}catch(n){e=null}null!=e&&(e.expires=+e.expires,c<=e.expires?d=e.value:""==e.expires&&e.value!=p?d=e.value:f[ensightenOptions.ns].data.local.utils.remove(a.id))}return d}},visitor:{set:function(a,d){var b=e.storage.session.get({id:a});null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d);f[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:d})},get:function(a){return e.storage.session.get(a)}}};e.getEngine=
    e.engine=function(a){return a?c.engines[a]||{get:m,set:m,remove:m,clear:m,all:m}:c.engines};e.all=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").all()};e.get=function(a,d,b){d=d||"memory";b=b||{};-1<a.indexOf(",")?(a=a.split(","),a=c.normalizeInputArgs(a)):a=c.normalizeInputArgs(a);return b.wait?c.getWait(a.key,f[ensightenOptions.ns].data.engine(d),b):c.data&&c.data.hasOwnProperty(a.key)?f[ensightenOptions.ns].data.engine(d).get(a.key):c.getWaitForKey(a.key,f[ensightenOptions.ns].data.engine(d),
    b)};c.getWait=function(a,d,b){var c=+new Date,k=f[ensightenOptions.ns].when.defer(),n=function(){var c=d.get(a);if(-1===b.wait)return c;c.then(function(a){b.setCheck(a)?k.resolve(a):setTimeout(g,b.interval)},function(a){setTimeout(g,b.interval)})},g=function(){var a=+new Date-c;-1!==b.wait&&a<b.wait?n():k.reject("Timeout")};b.interval=b.interval||500;b.wait=b.wait||5E3;e.utils.isArray(a)?b.setCheck=b.setCheck||function(a){for(var b=!0,d=0;d<a.length;d++)b=b&&!!a[d];return b}:b.setCheck=b.setCheck||
    function(a){return!!a};n();return k.promise};c.getWaitForKey=function(a,d,b){var e=f[ensightenOptions.ns].when.defer(),k=function(){if(c.data&&c.data.hasOwnProperty(a)){var g=d.get(a);if(-1===b.wait)return g;g.then(function(a){e.resolve(a)},function(a){e.reject(a)})}else setTimeout(n,b.interval)},n=function(){k()};b.interval=b.interval||100;b.wait=b.wait||1;k();return e.promise};e.set=function(a,d,b){var e=c.normalizeInputArgs(a,d);Array.prototype.slice.call(arguments);return f[ensightenOptions.ns].data.engine(b||
    "memory").set(e.key,e.val)};e.remove=function(a,d){return f[ensightenOptions.ns].data.engine(d||"memory").remove(a)};e.clear=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").clear()};e.define=function(a,d){d&&(a.name=d.id||d.name);if(!a.name)return f[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var b=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return f[ensightenOptions.ns].when.resolve()};
    a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=f[ensightenOptions.ns].data.engine("memory");a.storage=e.storage[b.toLowerCase()]||e.storage.page;var h=a.extract||function(){return document},k=a.transform||function(a){return a},n=function(b,d){var c=[];c.push(a.persist.set(b,d));a.storage.set(a.id,d);"object"==typeof f[ensightenOptions.ns].data.dataExport&&f[ensightenOptions.ns].data.dataExport(b,d,a.collection);f[ensightenOptions.ns].when.all(c).then(function(a){g.resolve(a)},
    function(a){g.reject(a)})},g=f[ensightenOptions.ns].when.defer();try{var q=a.trigger()}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),q=f[ensightenOptions.ns].data.bottomOfBodyTrigger()}q.then(function(){g.resolve(f[ensightenOptions.ns].when.reduce([function(){try{return h()}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,
    '"'+r+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return k.apply(this,arguments)}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},n],function(b,d,c,e){if(1==c)return d(b);2==c&&d(a.name,b)}))},function(a){g.reject(a)});c.dataDefinitions[a.id]=a;c.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+
    "."+a.dataDefName]=a;return g.promise};e.checkConditions=function(a){var d,b={lt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):d<e},gt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+
    b)),!1):d>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==p||""==a?!1:!0},re:function(a,b,d){b=new RegExp(b,d?"i":"");try{return a.match(b)}catch(q){return!1}},starts:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,"^"+d,c)},ends:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,d+"$",c)},contains:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,".*"+d+".*",c)}};b.is=b.eql;b["starts with"]=b.starts;b["ends with"]=b.ends;b["is greater than"]=b.gt;b["is less than"]=
    b.lt;b.matches=b.re;for(d=0;d<a.values.length;d++){var h=(a.customComparator?a.customComparator[d]?a.customComparator[d]:b[a.comparators[d]]:b[a.comparators[d]])(a.values[d],a.compareTo[d],a.caseInsensitive?a.caseInsensitive[d]||!1:!1);a.not[d]&&(h=!h);if(!h)return!1}return!0};e.triggerPromise=function(a,d,b){b=b||5E3;var c=+new Date,e=f[ensightenOptions.ns].when.defer();(function(){var f=a();f!=d?e.resolve(f):+new Date-c<b?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};
    e.timeoutPromise=function(a,d){var b=f[ensightenOptions.ns].when.defer();d=d||800;a.then(b.resolve,b.reject);setTimeout(function(){b.reject(Error("timed out"))},d);return b.promise};e.delayTrigger=function(a){a=a||10;var d=f[ensightenOptions.ns].when.defer();setTimeout(function(){d.resolve()},a);return d.promise};e.delayUntilTrigger=function(a,d,b,c){b=b||null;c=c||200;var e=+new Date,h=f[ensightenOptions.ns].when.defer();(function(){var g=a();g!=d?h.resolve(g):b?+new Date-e<b?setTimeout(arguments.callee,
    c):h.reject("timed out"):setTimeout(arguments.callee,c)})();return h.promise};c.applyTrigger=function(a){var d=f[ensightenOptions.ns].when.defer();a(function(){d.resolve(!0)});return d.promise};e.immediateTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindImmediate)};e.bottomOfBodyTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMParsed)};e.whenValueExistsTrigger=function(){return f[ensightenOptions.ns].when.resolve(this.extract())};e.afterEnsightenCompleteTrigger=
    function(){return c.applyTrigger(f[ensightenOptions.ns].bindPageSpecificCompletion)};e.afterElementsDownloadedTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMLoaded)};e.getAllDataDefinitionsOnCurrentPage=function(){return c.dataDefinitions};e.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return c.dataDefinitionsBySourceCollName};e.getDataDefinitionById=function(a){return c.dataDefinitions[a||-1]||{}};e.getDataDefinitionBySourceCollectionName=function(a,d,b){return c.dataDefinitionsBySourceCollName[""+
    a+"."+d+"."+b]||{}};e.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:c.dataDefinitions[a[1]]||{}};e.resolve=function(a,d){var b=this,h=null;if(!c.checkForInvalidDataDefinitions(a))if(d)f[ensightenOptions.ns].bindDataDefinitionComplete(function(){var e=c.collectAvailableDataDefinitions(a);e.isInvalid||f[ensightenOptions.ns].when.all(e.promises).then(function(e){try{d.apply(b,e)}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+
    a+". Details: "+r))}},function(b){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{h=[];var k=a;e.utils.isArray(a)||(k=[a]);for(var m=0;m<k.length;m++)h.push(c.getSync(k[m]));return h=e.utils.isArray(a)?h:h[0]}};e.extract=function(a,d){var b="",c=function(a,b){var d=~b.indexOf("#")?b.split("#")[1]:"",c=d?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,e=(d?b.split("#")[0]:c?b.split("[")[0]:b).toLowerCase();
    if(a==document&&"html"==e&&0==c)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var g=a.firstChild;if(!g)return null;var f=0;for(c=0!=c?c-1:c;g;){if(1==g.nodeType){if(g.tagName.toLowerCase()==e&&""!=d&&g.id==d||g.tagName.toLowerCase()==e&&f==c&&""==d)return g;g.tagName.toLowerCase()==e&&f++}g=g.nextSibling}},e=function(a,b){a=a.split("/");for(var d=c(b||document,a[1]),e=2;e<a.length;e++){if(null==d)return null;d=c(d,a[e])}return d},
    h=function(){for(var a={},b=f.document.getElementsByTagName("META")||[],d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";0!==e.length&&(a[e]=b[d].content)}return a}(),g=function(a){var b=h[a];if(b)return b;b=f.document.getElementsByTagName("META")||[];for(var d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";if(a==e)return b[d].content}},q=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(f.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:
    ""},r=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(f.document.cookie))?val[0].split("=")[1].split(";")[0]:""},m=function(a){(a=l(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},l=function(a){var b="";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(A){b=""}return b};try{return d?"meta"==d?b=g(a):"cookie"==d?b=r(a):"param"==d?b=q(a):"content"==d?b=m(a):"event"==d?b=l(a):"var"==d&&(b=f[a]):b=g(a)||r(a)||
    q(a)||m(a)||l(a)||f[a]||"",b||""}catch(x){return""}};if("undefined"==typeof h)var h={exports:{}};return e}(window),window[ensightenOptions.ns].data.defineEngine("store",function(){function f(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);k.appendChild(b);b.addBehavior("#default#userData");b.load(h);d=a.apply(store,d);k.removeChild(b);return d}}function p(a){return a.replace(l,"___")}var l=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c={},e=window,m=e.document,
    h="localStorage",a,d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.set=function(a,b){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};try{if(h in e&&e[h]){var b=e[h];c.set=function(a,c){var e,g=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(d(a)){var f=0;for(e=a.length;f<e;f++)b.setItem(a[f],"string"===typeof c[f]?c[f]:g.stringify(c[f]))}else b.setItem(a,"string"===typeof c?c:g.stringify(c))};c.get=function(a){if(d(a)){var c=
    {},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=b.getItem(a[f]);return c}return b.getItem(a)};c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)b.removeItem(a[e])}else b.removeItem(a)};c.clear=function(){b.clear()};c.all=function(){return b}}else if("globalStorage"in e&&e.globalStorage)b=e.globalStorage[e.location.hostname],c.set=function(a,c){if(d(a)){var e;var f=0;for(e=a.length;f<e;f++)b[a[f]]=c[f]}else b[a]=c},c.get=function(a){if(d(a)){var c={},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=
    b[a[f]]&&b[a[f]].value;return c}return b[a]&&b[a].value},c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)delete b[a[e]]}else delete b[a]},c.clear=function(){for(var a in b)delete b[a]},c.all=function(){return b};else if(m.documentElement.addBehavior){try{var t=new ActiveXObject("htmlfile");t.open();t.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');t.close();var k=t.w.frames[0].document;b=k.createElement("div")}catch(g){b=m.createElement("div"),
    k=m.body}c.set=f(function(a,b,e){if(d(b)){var f;var g=0;for(f=b.length;g<f;g++){fixedKey=p(b[g]);if(void 0===e[g])return c.remove(fixedKey);a.setAttribute(fixedKey,e[g]);a.save(h)}}else{fixedKey=p(b);if(void 0===e)return c.remove(fixedKey);a.setAttribute(fixedKey,e);a.save(h)}});c.get=f(function(a,b){if(d(b)){var c={},e;var f=0;for(e=b.length;f<e;f++){var g=p(b[f]);c[b[f]]=a.getAttribute(g)}return c}b=p(b);return a.getAttribute(b)});c.remove=f(function(a,b){if(d(b)){var c;var e=0;for(c=b.length;e<
    c;e++)a.removeAttribute(p(b[e])),a.save(h)}else b=p(b),a.removeAttribute(b),a.save(h)});c.clear=f(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var d=0,c;c=b[d];d++)a.removeAttribute(c.name);a.save(h)});c.all=f(function(a){for(var b=a.XMLDocument.documentElement.attributes,d={},c=0,e;e=b[c];++c){var f=p(e.name);d[e.name]=a.getAttribute(f)}return d})}}catch(g){}var n={};for(a in c)n[a]=c[a];n.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());n.set(a,"test");
    if("test"===n.get(a))return n.remove(a),!0}catch(q){}return!1};c.utils=n;return window[ensightenOptions.ns].data.local=c}()),window[ensightenOptions.ns].data.defineEngine("cookie",function(f,p){var l=function(){return l.get.apply(l,arguments)},c=l.utils={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(c){return Array.prototype.slice.call(c)},getKeys:Object.keys||function(c){var e=
    [],f="";for(f in c)c.hasOwnProperty(f)&&e.push(f);return e},escape:function(c){return String(c).replace(/[,;"\\=\s%]/g,function(c){return encodeURIComponent(c)})},retrieve:function(c,f){return null==c?f:c},getAllCookies:function(){if(""===f.cookie)return{};for(var c=f.cookie.split("; "),m={},h=0,a=c.length;h<a;h++){var d=c[h].split("=");m[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return m},set:function(e,m,h){h=h||-1;if(c.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&l.set(a,e[a],
    m);else if(c.isArray(e)){var d;a=0;for(d=e.length;a<d;a++)l.set(e[a],m[a],h)}else{a=h.expires!==p?h.expires:l.defaults.expires||"";"number"===typeof a&&(a=new Date(a));a=c.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():c.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;d=(d=h.path||l.defaults.path)?";path="+d:"";var b=h.domain||l.defaults.domain;b=b?";domain="+b:"";h=h.secure||l.defaults.secure?";secure":"";f.cookie=c.escape(e)+"="+c.escape(m)+a+d+b+h}},
    get:function(e,f){f=f||p;var h=c.getAllCookies();if(c.isArray(e)){for(var a={},d=0,b=e.length;d<b;d++)a[e[d]]=c.retrieve(h[e[d]],f),a[e[d]]===p&&(a[e[d]]=null);return a}a=c.retrieve(h[e],f);return a===p?null:a},getGMTString:function(c){var e=new Date;e.setTime(e.getTime()+864E5*c);return e.toGMTString()}};l.defaults={path:"/",expires:c.getGMTString(90)};l.set=function(e,f){c.set(e,f)};l.remove=function(e){e=c.isArray(e)?e:c.toArray(arguments);for(var f=0,h=e.length;f<h;f++)c.set(e[f],"",{expires:-1})};
    l.clear=function(){return l.remove(c.getKeys(c.getAllCookies()))};l.get=function(e,f){return c.get(e,f)};l.all=function(){return c.getAllCookies()};l.utils=c;return window[ensightenOptions.ns].data.cookie=l}(document)));
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [49823];Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return citiData.serverSideBullseye}catch(e){return""}},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"citiData_serverSideBullseye",collection:"DD_citiData",source:"Manage",priv:"false"},{id:"49823"})},49823)},
-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{try{try{var arr_microsites=["jJRSMARKETING_Thankyou-Preferred-credit-card","jJRSMARKETING_Thankyou-Premier-credit-card","jJRSMARKETING_Thankyou-Prestige-credit-card","jJRSMARKETING_DoubleCash","jJRSMARKETING_Compare-Thankyou-credit-cards","jJRSMARKETING_citi-apple-pay","jJRSMICROSITE_CitiDigitalServices"];var arr_postLogin=["jcbol_pnt_crecarpay_Input","jcbol_pnt_schpayhis_showResult","jcbol_pnt_adddra_Input",
"jcbol_pnt_seedrw_Input","jcbol_pnt_crecardirdeblan_landing","jcbol_pnt_crecardirdebset_input","jcbol_common_Dashboard","jjba_tfr_common_100","j7_120","j7_700","jUSCBOL_NCManageAuthUser","jUSCBOL_CManageAuthUser","jEDelivery_PlessWizard","j23_257","jEDelivery_PlessDocumentSettings","jEDelivery_PlessConfirm","jcbol_ain_mrcdasboa_MrcDashboard","jcbol_cpo_maroff_OffersForYou","jcbol_pnt_crecardirdebset_EnrollAutoPay","jcbol_pnt_crecardirdebset_ConfirmAutoPay"];var arr_banking=["jJSOSIGNON_SignOffAdOverlay",
"jJRSPRODSERV_ProdServDetail","jcbol_common_PaymentNTransfers","jUSCBOL_Loginpage_Cookied","jUSCBOL_Loginpage_Uncookied","jcbol_common_ADA","jUSCBOL_Loginpage_Citigold","jcbol_marketing_citigold","jcbol_marketing_citi-priority","jcbol_marketing_citi-bank","jcbol_marketing_basic-banking-account","jcbol_marketing_access-account","jcbol_marketing_citibank-savings-plus-account","jcbol_marketing_citi-savings","jcbol_marketing_certificates-of-deposit","jcbol_marketing_citi-ira","jcbol_marketing_banking-overview",
"jJRSPRODSERV_CitigoldOverview","jJRSPRODSERV_InsightsTools","jJRSPRODSERV_InvestingCiti","jJRSPRODSERV_FinancialGoals","jUSCBOL_balconLandingPage","jcbol_marketing_banking-overview-checking","jcbol_marketing_banking-overview-savings","jcbol_marketing_banking-overview-cds-iras"];var arr_cardPages=["jJRSMARKETING_CitiHome","jJRSMARKETING_view-all-credit-cards","jJRSMARKETING_most-popular-credit-cards","jJRSMARKETING_balance-transfer-credit-cards","jJRSMARKETING_reward-credit-cards","jJRSMARKETING_savings-and-cash-back-credit-cards",
"jJRSMARKETING_all-small-business-credit-cards","jJRSMARKETING_all-student-credit-cards","jJRSMARKETING_travel-reward-credit-cards","jJRSMARKETING_american-airlines-aadvantage-credit-cards","jJRSMARKETING_thank-you-rewards-credit-cards","jJRSMARKETING_visa-credit-cards","jJRSMARKETING_mastercard-credit-cards","jJRSMARKETING_Citi-costco-anywhere-visa-credit-card","jJRSMARKETING_Citi-costco-anywhere-visa-business-credit-card","jJRSMARKETING_citi-aadvantage-platinum-select-credit-card","jJRSMARKETING_citi-aadvantage-gold-credit-card",
"jJRSMARKETING_citibusiness-aadvantage-platinum-select-credit-card","jJRSMARKETING_citi-aadvantage-executive-credit-card","jJRSMARKETING_citi-diamond-preferred-credit-card","jJRSMARKETING_citi-double-cash-credit-card","jJRSMARKETING_expedia-plus","jJRSMARKETING_expedia-plus-voyager","jJRSMARKETING_hilton-hhonors-visa-signature-card","jJRSMARKETING_hilton-hhonors-reserve-card","jJRSMARKETING_citi-simplicity-credit-card","jJRSMARKETING_citi-thankyou-credit-card-preferred-card","jJRSMARKETING_citi-thankyou-premier-credit-card",
"jJRSMARKETING_citi-prestige-card","jJRSMARKETING_citi-thankyou-preferred-credit-cards-for-college-students","jJRSMARKETING_citi-att-access-credit-card","jJRSMARKETING_citi-att-access-more-credit-card","jJRSMARKETING_citi-secured-credit-card","jJRSMARKETING_low-interest-credit-card","jJRSMARKETING_citi-aadvantage-platinum-elite-credit-card","jJRSMARKETING_hilton-honors-reserve-card","jJRSMARKETING_hilton-honors-visa-signature-card","jJRSACQ_HHonorsReservation","jJRSMARKETING_no-annual-fee-credit-cards",
"jJRSMARKETING_secured-credit-card","jJRSMARKETING_credit-card-comparison","jJRSMARKETING_citi-aadvantage-gold-elite-credit-card","jJRSMARKETING_no-foreign-transaction-fee-credit-cards","jJRSMARKETING_aadvantage-mile-up-credit-card","jJRSMARKETING_credit-cards-to-build-or-rebuild-credit"];var arr_acquisition=["jJRSACQ_Application_Default","jJRSACQ_Application_AA","jJRSACQ_Application_BizAA","jJRSACQ_Application_Costco","jJRSACQ_Application_Costco_Biz","jJRSACQ_Application_Hilton","jJRSACQ_Application_TY",
"jJRSACQ_Application_college","jJRSACQ_Application_Secured","jJRSACQ_Approval_Default","jJRSACQ_Pending_Default","jJRSACQ_Declined_Default","jJRSACQ_Processing_Default","jJRSACQ_Invitation","jJRSAO_MUSSNEntry","jJRSAO_IAOProfile","jJRSACQ_AboutYou_Default","jJRSACQ_AccountDetails_Pending_Default","jJRSACQ_AccountDetails_Declined_Default","jJRSACQ_AccountDetails_Approval_Default","jJRSACQ_JAMP_Default","jJRSACQ_CardOptions_Default","jJRSACQ_Application_ATT","jJRSACQ_BusinessInvitation","jJRSACQ_AboutYou_Secured",
"jJRSACQ_AboutYou_ATT","jJRSACQ_AboutYou_College","jJRSACQ_AboutYou_AA","jJRSACQ_AboutYou_AA_Biz","jJRSACQ_AboutYou_Costco_Biz","jJRSACQ_AboutYou_Default_Biz","jJRSACQ_AboutYou_Costco"];var arr_sapient=["Sapient_cbol_balance_build","Sapient_cbol_16_savings_Q4_10X-interest-offer","Sapient_cbol_16_checking_aquisition_400-offer","Sapient_citi_benefit_home_landing"];var arr_tntDomains=["https://accountonline-uat.bridgetrack.com/benefithub","https://yourbenefits.citi.com","online.citi.com/US/JRS/pands/detail.do?ID\x3dAOProductSelection"];
var arr_CBOLECM=[{"name":"IsAutoPayEnroll","position":3},{"name":"PID","position":10},{"name":"hasChecking","position":14},{"name":"hasCreditCard","position":16},{"name":"hasMortgage","position":17},{"name":"hasSavings","position":18},{"name":"isCitiBlue","position":20},{"name":"isPaperless","position":25}];var currentPageDef_tnt="";var addMbox_tnt=false;var addAll_Mbox_tnt=false;var langWrapper=document.getElementsByTagName("html");var tnt_pageLang=langWrapper[0].getAttribute("lang");if(typeof window.citiData!=
"undefined"&&typeof window.citiData.globalInfo!="undefined"&&typeof window.citiData.globalInfo.pageDef!="undefined")currentPageDef_tnt=window.citiData.globalInfo.pageDef;else if(typeof window.citiData!="undefined"&&typeof window.citiData.pageDef!="undefined")currentPageDef_tnt=window.citiData.pageDef;else if(typeof window._citiData!="undefined"&&typeof window._citiData.pageDef!="undefined")currentPageDef_tnt=window._citiData.pageDef;else if(typeof window.pageDef!="undefined")currentPageDef_tnt=window.pageDef;
function tntGetCookie(c){var dc=document.cookie;if(dc.indexOf(c)!=-1){var cs=dc.split(c)[1];return(cs.substr(0,1)=="\x3d"?cs.substr(1):cs).split(";")[0]}return""}function positionCookie(position){var strCookie=tntGetCookie("CBOLECM").split("-");if(strCookie[position-1]==="")return"N";if(typeof strCookie[position-1]!=="undefined")return strCookie[position-1];return""}function isUrlInArray(){var currentUrl=window.location.href.toString();var result=false;for(var i=0;i<arr_tntDomains.length&&result==
false;i++)if(currentUrl.indexOf(arr_tntDomains[i])!=-1)result=true;return result}if(arr_sapient.indexOf(currentPageDef_tnt)!=-1||arr_acquisition.indexOf(currentPageDef_tnt)!=-1||arr_microsites.indexOf(currentPageDef_tnt)!=-1||arr_cardPages.indexOf(currentPageDef_tnt)!=-1||arr_postLogin.indexOf(currentPageDef_tnt)!=-1)addMbox_tnt=true;else if(arr_banking.indexOf(currentPageDef_tnt)!=-1)addAll_Mbox_tnt=true;else if(isUrlInArray())addAll_Mbox_tnt=true;if(addMbox_tnt||addAll_Mbox_tnt){window.targetPageParams=
function(){var tnt_params="pageDef\x3d"+currentPageDef_tnt;if(arr_cardPages.indexOf(currentPageDef_tnt)!=-1){var categoryID_tnt="";var campaignID_tnt="";var tnt_ECM="";if(typeof window.citiData!="undefined"&&typeof window.citiData.generalInfo!="undefined"&&typeof window.citiData.generalInfo.isECM!="undefined")tnt_ECM="\x26isECM\x3d"+window.citiData.generalInfo.isECM;if(typeof window.bk_results!="undefined"&&typeof window.bk_results.campaigns!="undefined"&&window.bk_results.campaigns.length>0)if(typeof window.bk_results.campaigns[0].campaign!=
"undefined"&&typeof window.bk_results.campaigns[0].categories!="undefined"){campaignID_tnt="\x26bkCampaignIDs\x3d"+window.bk_results.campaigns[0].campaign;categoryID_tnt+="\x26bkCategoryIDs\x3d,";for(i=0;i<window.bk_results.campaigns[0].categories.length;i++)categoryID_tnt+=window.bk_results.campaigns[0].categories[i].categoryID+","}tnt_params+=campaignID_tnt+categoryID_tnt+tnt_ECM}if(arr_acquisition.indexOf(currentPageDef_tnt)!=-1){var cardType_tnt="";var sc_tnt="";var status_tnt="";if(typeof window.citiData!=
"undefined"&&typeof window.citiData.prodName!="undefined"){var newCardType=window.citiData.prodName.replace("\x26","_");cardType_tnt="\x26cardType\x3d"+newCardType}if(typeof window.citiData!="undefined"&&typeof window.citiData.cardProdSourceCode!="undefined")sc_tnt="\x26sourceCode\x3d"+window.citiData.cardProdSourceCode;if(typeof window.citiData!="undefined"&&typeof window.citiData.cardAppStatus!="undefined")status_tnt="\x26appStatus\x3d"+window.citiData.cardAppStatus;tnt_params+=cardType_tnt+sc_tnt+
status_tnt}if(currentPageDef_tnt==="jUSCBOL_Loginpage_Cookied"||currentPageDef_tnt==="jUSCBOL_Loginpage_Uncookied"||currentPageDef_tnt==="jUSCBOL_Loginpage_Citigold"||currentPageDef_tnt==="jcbol_common_Dashboard"||currentPageDef_tnt==="jcbol_cpo_maroff_OffersForYou"||currentPageDef_tnt==="jcbol_pnt_crecardirdebset_EnrollAutoPay"||currentPageDef_tnt==="jcbol_pnt_crecardirdebset_ConfirmAutoPay"){if(!tntGetCookie("CBOLECM",false))tnt_params+="\x26ProspectCustomer\x3dtrue";else{if(tntGetCookie("username")!=
"")tnt_params+="\x26cookiedUID\x3dYES";var tnt_cookieval="";for(var i=0;i<arr_CBOLECM.length;i++){tnt_cookieval=positionCookie(arr_CBOLECM[i]["position"]);if(tnt_cookieval!==""){tnt_params+="\x26"+arr_CBOLECM[i]["name"]+"\x3d"+tnt_cookieval;if(arr_CBOLECM[i]["name"]=="PID")tnt_params+="\x26cards_cc\x3d"+tnt_cookieval.split("|").length}}}if(typeof citiData!="undefined"&&typeof citiData.pageLanguage!="undefined")tnt_params+="\x26pageLanguage\x3d"+citiData.pageLanguage;if(typeof lang!="undefined")tnt_params+=
"\x26pageLang\x3d"+lang;else tnt_params+="\x26pageLang\x3d"+tnt_pageLang}if(currentPageDef_tnt==="jcbol_marketing_banking-overview"||currentPageDef_tnt==="jcbol_marketing_banking-overview-checking"||currentPageDef_tnt==="jcbol_marketing_banking-overview-savings"||currentPageDef_tnt==="jcbol_marketing_banking-overview-cds-iras"||currentPageDef_tnt==="jcbol_marketing_citigold"||currentPageDef_tnt==="jcbol_marketing_citi-priority"||currentPageDef_tnt==="jcbol_marketing_citi-bank"||currentPageDef_tnt===
"jcbol_marketing_basic-banking-account"||currentPageDef_tnt==="jcbol_marketing_access-account"||currentPageDef_tnt==="jcbol_marketing_citi-savings")if(typeof citiData!="undefined"&&typeof citiData.loginStatus!="undefined")tnt_params+="\x26loginStatus\x3d"+citiData.loginStatus;return tnt_params};var mboxCopyright="Copyright 1996-2015. Adobe Systems Incorporated. All rights reserved.";var TNT=TNT||{};TNT.a=function(){return{nestedMboxes:[],b:{companyName:"Test\x26amp;Target",isProduction:true,adminUrl:"http://admin6.testandtarget.omniture.com/admin",
clientCode:"citicorpcreditservic",serverHost:"citicorpcreditservic.tt.omtrdc.net",mboxTimeout:15E3,mboxLoadedTimeout:100,mboxFactoryDisabledTimeout:30*60,bodyPollingTimeout:16,bodyHidingEnabled:false,bodyHiddenStyle:"body{opacity:0}",sessionExpirationTimeout:31*60,experienceManagerDisabledTimeout:30*60,experienceManagerTimeout:5E3,visitorApiTimeout:500,visitorApiPageDisplayTimeout:500,overrideMboxEdgeServer:false,overrideMboxEdgeServerTimeout:31*60,tntIdLifetime:1209600,crossDomain:"enabled",trafficDuration:10368E3,
trafficLevelPercentage:100,clientSessionIdSupport:false,clientTntIdSupport:false,passPageParameters:true,usePersistentCookies:true,crossDomainEnabled:true,crossDomainXOnly:false,imsOrgId:"61834D9B5228A7430A490D45@AdobeOrg",globalMboxName:"target-global-mbox",globalMboxLocationDomId:"",globalMboxAutoCreate:true,experienceManagerPluginUrl:"//cdn.tt.omtrdc.net/cdn/target.js",siteCatalystPluginName:"tt",mboxVersion:63,optoutEnabled:false,secureOnly:false,mboxIsSupportedFunction:function(){return true},
parametersFunction:function(){return""},cookieDomainFunction:function(){return mboxCookiePageDomain()}},c:{d:"mboxPage",e:"mboxMCGVID",f:"mboxMCGLH",g:"mboxAAMB",h:"mboxMCAVID",i:"mboxMCSDID",j:"mboxCount",k:"mboxHost",l:"mboxFactoryId",m:"mboxPC",n:"screenHeight",o:"screenWidth",p:"browserWidth",q:"browserHeight",r:"browserTimeOffset",s:"colorDepth",t:"mboxXDomain",u:"mboxURL",v:"mboxReferrer",w:"mboxVersion",x:"mbox",y:"mboxId",z:"mboxDOMLoaded",A:"mboxTime",B:"scPluginVersion"},C:{D:"mboxDisable",
E:"mboxSession",F:"mboxEnv",G:"mboxDebug"},H:{D:"disable",E:"session",m:"PC",I:"level",J:"check",G:"debug",K:"em-disabled",L:"mboxEdgeServer"},M:{N:"default",O:"mbox",P:"mboxImported-",Q:6E4,R:"mboxDefault",S:"mboxMarker-",T:250,B:1,U:"mboxedge",V:"tt.omtrdc.net"}}}();TNT.a.W={};(function(X){var Y={}.toString;function Z(_){return _===void 0}function ab(_){return _===null}function bb(_){if(Z(_)||ab(_))return true;return _.length===0}function cb(_){return Y.call(_)==="[object Function]"}function db(_){return Y.call(_)===
"[object Array]"}function eb(_){return Y.call(_)==="[object String]"}function fb(_){return Y.call(_)==="[object Object]"}function gb(hb,ib){var jb=hb.length,kb=-1;while(++kb<jb)ib(hb[kb])}X.Z=Z;X.ab=ab;X.bb=bb;X.cb=cb;X.db=db;X.eb=eb;X.fb=fb;X.gb=gb})(TNT.a.W);mboxUrlBuilder=function(lb,mb){this.lb=lb;this.mb=mb;this.nb=[];this.ob=function(u){return u};this.pb=null};mboxUrlBuilder.prototype={constructor:mboxUrlBuilder,addNewParameter:function(qb,_){this.nb.push({name:qb,value:_});return this},addParameterIfAbsent:function(qb,
_){if(!_)return;for(var rb=0;rb<this.nb.length;rb++){var sb=this.nb[rb];if(sb.name===qb)return this}this.checkInvalidCharacters(qb);return this.addNewParameter(qb,_)},addParameter:function(qb,_){this.checkInvalidCharacters(qb);for(var rb=0;rb<this.nb.length;rb++){var sb=this.nb[rb];if(sb.name===qb){sb.value=_;return this}}return this.addNewParameter(qb,_)},addParameters:function(nb){if(!nb)return this;for(var rb=0;rb<nb.length;rb++){var tb=nb[rb];var ub=tb.indexOf("\x3d");if(ub===-1||ub===0)continue;
this.addParameter(tb.substring(0,ub),tb.substring(ub+1,tb.length))}return this},setServerType:function(vb){this.wb=vb},setBasePath:function(pb){this.pb=pb},setUrlProcessAction:function(xb){this.ob=xb},buildUrl:function(){var yb=TNT.a.b.secureOnly,zb=yb?"https:":"",Ab=TNT.a.Bb(this.lb),Cb=this.pb?this.pb:"/m2/"+this.mb+"/mbox/"+this.wb,u=zb+"//"+Ab+Cb,Db=[];for(var rb=0;rb<this.nb.length;rb++){var sb=this.nb[rb];Db.push(encodeURIComponent(sb.name)+"\x3d"+encodeURIComponent(sb.value))}u+=u.indexOf("?")!=
-1?"\x26"+Db.join("\x26"):"?"+Db.join("\x26");return this.Eb(this.ob(u))},getParameters:function(){return this.nb},setParameters:function(nb){this.nb=nb},clone:function(){var Fb=new mboxUrlBuilder(this.lb,this.mb);Fb.setServerType(this.wb);Fb.setBasePath(this.pb);Fb.setUrlProcessAction(this.ob);for(var rb=0;rb<this.nb.length;rb++)Fb.addParameter(this.nb[rb].name,this.nb[rb].value);return Fb},Eb:function(Gb){return Gb.replace(/\"/g,"\x26quot;").replace(/>/g,"\x26gt;")},checkInvalidCharacters:function(qb){var Hb=
new RegExp("('|\")");if(Hb.exec(qb))throw"Parameter '"+qb+"' contains invalid characters";}};TNT.a.Ib=function(){var Jb=[],Kb=0,Lb=[];function Mb(Nb,Ob){Kb+=1;Jb[Nb]=Ob;Pb()}function Pb(){var jb=Lb.length,kb=-1,Qb;if(Kb!==Jb.length||!Lb.length)return;while(++kb<jb){Qb=Lb[kb];Qb.fn.apply(Qb.ctx,Jb)}}return{Rb:function(){var Nb=Jb.length;Jb[Jb.length]=null;return function(){Mb(Nb,[].slice.call(arguments))}},Sb:function(cb,context){Lb.push({fn:cb,ctx:context});Pb()}}};(function(X,W,c,b,Tb){var Ub=new RegExp("\\|MCMID\\|"),
Vb="vst.",Wb=Vb+"trk",Xb=Vb+"trks";function Yb(Zb,_){return encodeURIComponent(Zb)+"\x3d"+encodeURIComponent(_)}function _b(ac){var bc,cc=function(Zb){return Vb+Zb};if(!W.cb(ac.getCustomerIDs))return[];bc=ac.getCustomerIDs();if(!W.fb(bc))return[];return X.dc(bc,[],cc)}function ec(ac,fc){var gc=ac.trackingServer,hc=ac.trackingServerSecure;if(gc)fc.push(Yb(Wb,gc));if(hc)fc.push(Yb(Xb,hc))}function ic(ac,fc){fc.push.apply(fc,_b(ac))}function jc(Ob){var fc=[];W.gb(Ob,function(hb){fc.push(hb[0])});return fc}
function kc(lc){return!W.bb(lc.value)}function mc(Ib,ac,nc,Zb){var oc;if(!W.cb(ac[nc]))return;oc=Ib.Rb();ac[nc](function(_){oc({key:Zb,value:_})},true)}function pc(Ib,ac,qc){qc(Ib,ac,"getMarketingCloudVisitorID",c.e);qc(Ib,ac,"getAudienceManagerBlob",c.g);qc(Ib,ac,"getAnalyticsVisitorID",c.h);qc(Ib,ac,"getAudienceManagerLocationHint",c.f)}function rc(Ib,ac,sc,tc,uc){if(tc){window.clearTimeout(sc.id);uc({optout:tc,params:[]});vc();return}pc(Ib,ac,mc);Ib.Sb(function(){if(sc.done)return;var c=jc([].slice.call(arguments)),
fc=[];window.clearTimeout(sc.id);W.gb(c,function(lc){if(kc(lc))fc.push(Yb(lc.key,lc.value))});ic(ac,fc);ec(ac,fc);uc({optout:tc,params:fc});vc()})}function wc(xc){var ac;if(W.bb(xc)||W.Z(window.Visitor)||!W.cb(window.Visitor.getInstance))return null;ac=window.Visitor.getInstance(xc);if(W.Z(ac)||W.ab(ac)||!ac.isAllowed())return null;return ac}function yc(){return!W.ab(wc(b.imsOrgId))}function zc(){var ac=wc(b.imsOrgId);if(W.ab(ac))return false;if(W.Z(ac.cookieName))return false;if(!W.cb(ac.cookieRead))return false;
var Ac=ac.cookieRead(ac.cookieName);if(W.bb(Ac))return false;return Ub.test(Ac)}function Bc(ac,Cc){return Cc&&W.cb(ac.isOptedOut)&&!W.Z(window.Visitor.OptOut)}function Dc(Cc,uc){var xc=b.imsOrgId,Ec=b.visitorApiTimeout,Ib=Tb(),sc={id:NaN,done:false},ac;ac=wc(xc);if(W.ab(ac)){uc(null);return}Fc();sc.id=window.setTimeout(function(){sc.done=true;uc(null);vc()},Ec);if(Bc(ac,Cc))ac.isOptedOut(function(tc){rc(Ib,ac,sc,tc,uc)},window.Visitor.OptOut.GLOBAL,true);else rc(Ib,ac,sc,false,uc)}function Gc(ac,
nc,Zb,Hc){if(ac[nc]){var _=ac[nc]();if(_)Hc.push(Yb(Zb,_))}}function Ic(){var ac=wc(b.imsOrgId),fc=[];Gc(ac,"getMarketingCloudVisitorID",c.e,fc);Gc(ac,"getAudienceManagerBlob",c.g,fc);Gc(ac,"getAnalyticsVisitorID",c.h,fc);Gc(ac,"getAudienceManagerLocationHint",c.f,fc);ic(ac,fc);ec(ac,fc);return fc}function Jc(x){var xc=b.imsOrgId,mb=b.clientCode,ac=wc(xc);if(W.ab(ac)||!W.cb(ac.getSupplementalDataID))return"";return ac.getSupplementalDataID("mbox:"+mb+":"+x)}function Fc(){if(!b.bodyHidingEnabled)return;
if(!b.globalMboxAutoCreate)return;var Kc=document.getElementsByTagName("head")[0];var Lc=document.createElement("style");Lc.type="text/css";Lc.id="at-id-body-style";if(Lc.styleSheet)Lc.styleSheet.cssText=css;else Lc.appendChild(document.createTextNode(b.bodyHiddenStyle));if(Kc)Kc.appendChild(Lc)}function vc(){if(!b.bodyHidingEnabled)return;if(!b.globalMboxAutoCreate)return;window.setTimeout(function(){var Kc=document.getElementsByTagName("head")[0];var Lc=document.getElementById("at-id-body-style");
if(Kc&&Lc)Kc.removeChild(Lc)},b.visitorApiPageDisplayTimeout)}X.yc=yc;X.zc=zc;X.Dc=Dc;X.Ic=Ic;X.Jc=Jc})(TNT.a,TNT.a.W,TNT.a.c,TNT.a.b,TNT.a.Ib);mboxStandardFetcher=function(){};mboxStandardFetcher.prototype={constructor:mboxStandardFetcher,getType:function(){return"standard"},fetch:function(Mc){Mc.setServerType(this.getType());document.write("\x3c"+"scr"+'ipt src\x3d"'+Mc.buildUrl()+'"\x3e\x3c'+"/scr"+"ipt\x3e")},cancel:function(){}};mboxAjaxFetcher=function(){};mboxAjaxFetcher.prototype={constructor:mboxAjaxFetcher,
getType:function(){return"ajax"},fetch:function(Mc){Mc.setServerType(this.getType());var Kc=document.getElementsByTagName("head")[0],Nc=document.createElement("script");Nc.src=Mc.buildUrl();Kc.appendChild(Nc)},cancel:function(){}};(function(X){function Oc(){}Oc.prototype={constructor:Oc,getType:function(){return"ajax"},fetch:function(Mc){Mc.setServerType(this.getType());document.write("\x3c"+"scr"+'ipt src\x3d"'+Mc.buildUrl()+'"\x3e\x3c'+"/scr"+"ipt\x3e")},cancel:function(){}};X.Oc=Oc})(TNT.a);mboxMap=
function(){this.Pc={};this.Qc=[]};mboxMap.prototype={constructor:mboxMap,put:function(Zb,_){if(!this.Pc[Zb])this.Qc[this.Qc.length]=Zb;this.Pc[Zb]=_},get:function(Zb){return this.Pc[Zb]},remove:function(Zb){var Rc=[];this.Pc[Zb]=undefined;for(var i=0;i<this.Qc.length;i++)if(this.Qc[i]!==Zb)Rc.push(this.Qc[i]);this.Qc=Rc},each:function(xb){for(var rb=0;rb<this.Qc.length;rb++){var Zb=this.Qc[rb];var _=this.Pc[Zb];if(_){var fc=xb(Zb,_);if(fc===false)break}}},isEmpty:function(){return this.Qc.length===
0}};mboxList=function(){this.Sc=[]};mboxList.prototype={constructor:mboxList,add:function(Tc){if(!Tc)return;this.Sc.push(Tc)},get:function(x){var fc=new mboxList;for(var rb=0;rb<this.Sc.length;rb++){var Tc=this.Sc[rb];if(Tc.getName()===x)fc.add(Tc)}return fc},getById:function(Nb){return this.Sc[Nb]},length:function(){return this.Sc.length},each:function(xb){var W=TNT.a.W;if(!W.cb(xb))throw"Action must be a function, was: "+typeof xb;for(var rb=0;rb<this.Sc.length;rb++)xb(this.Sc[rb])}};mboxSignaler=
function(Uc){this.Uc=Uc};mboxSignaler.prototype={constructor:mboxSignaler,signal:function(Vc,x){if(!this.Uc.isEnabled())return;var Wc=mboxSignaler.Xc(),Yc=this.Zc(this.Uc._c(x));Wc.appendChild(Yc);var Ob=[].slice.call(arguments,1),Tc=this.Uc.create(x,Ob,Yc),Mc=Tc.getUrlBuilder();Mc.addParameter(TNT.a.c.d,mboxGenerateId());Tc.setFetcher(new mboxAjaxFetcher);Tc.load()},Zc:function(ad){var fc=document.createElement("div");fc.id=ad;fc.style.visibility="hidden";fc.style.display="none";return fc}};mboxSignaler.Xc=
function(){return document.body};mboxLocatorDefault=function(bd){this.bd=bd;document.write('\x3cdiv id\x3d"'+this.bd+'" style\x3d"visibility:hidden;display:none"\x3e\x26nbsp;\x3c/div\x3e')};mboxLocatorDefault.prototype={constructor:mboxLocatorDefault,locate:function(){var cd=1,dd=document.getElementById(this.bd);while(dd){if(dd.nodeType===cd&&dd.className&&dd.className.indexOf("mboxDefault")!==-1)return dd;dd=dd.previousSibling}return null},force:function(){var ed=document.getElementById(this.bd),
fd=document.createElement("div");fd.className="mboxDefault";if(ed)ed.parentNode.insertBefore(fd,ed);return fd}};mboxLocatorNode=function(dd){this.dd=dd};mboxLocatorNode.prototype={constructor:mboxLocatorNode,locate:function(){return typeof this.dd==="string"?document.getElementById(this.dd):this.dd},force:function(){return null}};mboxOfferContent=function(){this.gd=function(){}};mboxOfferContent.prototype={constructor:mboxOfferContent,show:function(Tc){var fc=Tc.showContent(document.getElementById(Tc.getImportName()));
if(fc===1)this.gd();return fc},setOnLoad:function(gd){this.gd=gd}};mboxOfferAjax=function(hd){this.hd=hd;this.gd=function(){}};mboxOfferAjax.prototype={constructor:mboxOfferAjax,setOnLoad:function(gd){this.gd=gd},show:function(Tc){var id=document.createElement("div"),fc;id.id=Tc.getImportName();id.innerHTML=this.hd;fc=Tc.showContent(id);if(fc===1)this.gd();return fc}};mboxOfferDefault=function(){this.gd=function(){}};mboxOfferDefault.prototype={constructor:mboxOfferDefault,show:function(Tc){var fc=
Tc.hide();if(fc===1)this.gd();return fc},setOnLoad:function(gd){this.gd=gd}};mboxCookieManager=function(qb,jd){this.qb=qb;this.kd=TNT.a.H.J;this.ld=TNT.a.b.crossDomainXOnly;this.md=TNT.a.H.D;this.nd=TNT.a.b.usePersistentCookies;this.od=new mboxMap;this.jd=jd===""||jd.indexOf(".")===-1?"":"; domain\x3d"+jd;this.loadCookies()};mboxCookieManager.prototype={constructor:mboxCookieManager,isEnabled:function(){this.setCookie(this.kd,"true",60);this.loadCookies();return this.getCookie(this.kd)=="true"},setCookie:function(qb,
_,pd){if(typeof qb=="undefined"||typeof _=="undefined"||typeof pd=="undefined")return;var qd=Math.ceil(pd+(new Date).getTime()/1E3),rd=mboxCookieManager.sd(qb,encodeURIComponent(_),qd);this.od.put(qb,rd);this.saveCookies()},getCookie:function(qb){var rd=this.od.get(qb);return rd?decodeURIComponent(rd.value):null},deleteCookie:function(qb){this.od.remove(qb);this.saveCookies()},getCookieNames:function(td){var ud=[];this.od.each(function(qb,rd){if(qb.indexOf(td)===0)ud[ud.length]=qb});return ud},saveCookies:function(){var vd=
this,wd=[],xd=0;this.od.each(function(qb,rd){if(!vd.ld||qb===vd.md){wd[wd.length]=mboxCookieManager.yd(rd);if(xd<rd.expireOn)xd=rd.expireOn}});var zd=new Date(xd*1E3);var Db=[];Db.push(this.qb,"\x3d",wd.join("|"));if(vd.nd)Db.push("; expires\x3d",zd.toGMTString());Db.push("; path\x3d/",this.jd);document.cookie=Db.join("")},loadCookies:function(){var Ad=mboxCookieManager.Bd(this.qb),Cd=mboxCookieManager.Dd(Ad),Ed=Math.ceil((new Date).getTime()/1E3);this.od=new mboxMap;for(var rb=0;rb<Cd.length;rb++){var rd=
mboxCookieManager.Fd(Cd[rb]);if(Ed>rd.expireOn)continue;this.od.put(rd.name,rd)}}};mboxCookieManager.yd=function(rd){return rd.name+"#"+rd.value+"#"+rd.expireOn};mboxCookieManager.Fd=function(Y){var Db=Y.split("#");return mboxCookieManager.sd(Db[0],Db[1],Db[2])};mboxCookieManager.sd=function(qb,_,qd){return{name:qb,value:_,expireOn:qd}};mboxCookieManager.Bd=function(qb){var result=(new RegExp("(^|; )"+encodeURIComponent(qb)+"\x3d([^;]*)")).exec(document.cookie);return result?result[2]:null};mboxCookieManager.Dd=
function(Y){if(!Y)return[];return Y.split("|")};mboxSession=function(Gd,Hd,Id,Jd,Kd){var Ld=window.mboxForceSessionId;this.Id=Id;this.Jd=Jd;this.Kd=Kd;this.ad=typeof Ld!=="undefined"?Ld:mboxGetPageParameter(Hd,true);this.ad=this.ad||Kd.getCookie(Id)||Gd;this.Kd.setCookie(Id,this.ad,Jd)};mboxSession.prototype={constructor:mboxSession,getId:function(){return this.ad},forceId:function(Md){this.ad=Md;this.Kd.setCookie(this.Id,this.ad,this.Jd)}};mboxPC=function(Id,Jd,Kd){var Nd=window.mboxForcePCId;this.Id=
Id;this.Jd=Jd;this.Kd=Kd;this.ad=typeof Nd!="undefined"?Nd:Kd.getCookie(Id);if(this.ad)Kd.setCookie(Id,this.ad,Jd)};mboxPC.prototype={constructor:mboxPC,getId:function(){return this.ad},forceId:function(Md){if(this.ad===Md)return false;this.ad=Md;this.Kd.setCookie(this.Id,this.ad,this.Jd);return true}};(function(X,W,H,b,M){var Od=new RegExp(".*\\.(\\d+)_\\d+");function Bb(Qd){var Rd=Od.exec(Qd);if(Rd&&Rd.length===2)return M.U+Rd[1]+"."+M.V;return""}function Sd(Kd,Td){var Ab=Bb(Td);if(!W.bb(Ab))Kd.setCookie(H.L,
Ab,b.overrideMboxEdgeServerTimeout)}function Ud(Vd,Kd){this.Vd=Vd;this.Kd=Kd;Sd(Kd,Vd.getId())}Ud.prototype={constructor:Ud,getId:function(){return this.Vd.getId()},forceId:function(Md){if(!this.Vd.forceId(Md))return false;Sd(this.Kd,Md);return true}};X.Ud=Ud})(TNT.a,TNT.a.W,TNT.a.H,TNT.a.b,TNT.a.M);mboxGetPageParameter=function(qb,Wd){Wd=Wd||false;var Xd;if(Wd)Xd=new RegExp("\\?[^#]*"+qb+"\x3d([^\x26;#]*)","i");else Xd=new RegExp("\\?[^#]*"+qb+"\x3d([^\x26;#]*)");var fc=null;var Yd=Xd.exec(document.location);
if(Yd&&Yd.length>=2)fc=Yd[1];return fc};mboxCookiePageDomain=function(){var jd=/([^:]*)(:[0-9]{0,5})?/.exec(document.location.host)[1];var Zd=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/;if(!Zd.exec(jd)){var _d=/([^\.]+\.[^\.]{3}|[^\.]+\.[^\.]+\.[^\.]{2})$/.exec(jd);if(_d){jd=_d[0];if(jd.indexOf("www.")===0)jd=jd.substr(4)}}return jd?jd:""};mboxShiftArray=function(ae){var fc=[];for(var rb=1;rb<ae.length;rb++)fc[fc.length]=ae[rb];return fc};mboxGenerateId=function(){var s=[],hex="0123456789abcdef";
for(var i=0;i<36;i++)s[i]=hex.substr(Math.floor(Math.random()*16),1);s[14]="4";s[19]=hex.substr(s[19]&3|8,1);s[8]=s[13]=s[18]=s[23]="-";return s.join("").replace(/-/g,"")};mboxScreenHeight=function(){return screen.height};mboxScreenWidth=function(){return screen.width};mboxBrowserWidth=function(){return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.clientWidth:document.body.clientWidth};mboxBrowserHeight=function(){return window.innerHeight?window.innerHeight:
document.documentElement?document.documentElement.clientHeight:document.body.clientHeight};mboxBrowserTimeOffset=function(){return-(new Date).getTimezoneOffset()};mboxScreenColorDepth=function(){return screen.pixelDepth};mbox=function(qb,ad,Mc,be,ce,Uc){this.de=null;this.ee=0;this.fe=be;this.ce=ce;this.ge=null;this.he=new mboxOfferContent;this.fd=null;this.Mc=Mc;this.message="";this.ie={};this.je=0;this.ke=5;this.ad=ad;this.qb=qb;this.le();Mc.addParameter(TNT.a.c.x,qb);Mc.addParameter(TNT.a.c.y,ad);
this.me=function(){};this.gd=function(){};this.ne=null;this.oe=document.documentMode>=10&&!Uc.isDomLoaded();if(this.oe){this.pe=TNT.a.nestedMboxes;this.pe.push(this.qb)}};mbox.prototype.getId=function(){return this.ad};mbox.prototype.le=function(){var maxLength=TNT.a.M.T;if(this.qb.length>maxLength)throw"Mbox Name "+this.qb+" exceeds max length of "+maxLength+" characters.";else if(this.qb.match(/^\s+|\s+$/g))throw"Mbox Name "+this.qb+" has leading/trailing whitespace(s).";};mbox.prototype.getName=
function(){return this.qb};mbox.prototype.getParameters=function(){var nb=this.Mc.getParameters();var fc=[];for(var rb=0;rb<nb.length;rb++)if(nb[rb].name.indexOf("mbox")!==0)fc[fc.length]=nb[rb].name+"\x3d"+nb[rb].value;return fc};mbox.prototype.setOnLoad=function(xb){this.gd=xb;return this};mbox.prototype.setMessage=function(qe){this.message=qe;return this};mbox.prototype.setOnError=function(me){this.me=me;return this};mbox.prototype.setFetcher=function(re){if(this.ge)this.ge.cancel();this.ge=re;
return this};mbox.prototype.getFetcher=function(){return this.ge};function se(Mc,Tc){var te=TNT.a,b=te.b,ue=b.mboxTimeout;if(te.yc()&&te.zc())Mc.addParameters(te.Ic());Tc.ge.fetch(Mc);Tc.ve=setTimeout(function(){Tc.me("browser timeout",Tc.ge.getType())},ue)}function we(Tc){var ne=Tc.getDefaultDiv();if(ne)Tc.xe(Tc.getDefaultDiv())}function ye(Mc,Tc,Cc){var te=TNT.a;Tc.setFetcher(new mboxAjaxFetcher);te.Dc(Cc,function(ze){if(ze===null){se(Mc,Tc);return}if(Cc&&ze.optout){we(Tc);return}Mc.addParameters(ze.params);
se(Mc,Tc)})}mbox.prototype.load=function(nb){var vd=this,Mc=vd.Mc,te=TNT.a,b=te.b,Cc=b.optoutEnabled;if(vd.ge===null)return vd;vd.cancelTimeout();vd.ee=0;if(nb&&nb.length>0)Mc=vd.Mc.clone().addParameters(nb);if(Cc&&te.yc()){ye(Mc,vd,Cc);return vd}var yc=te.yc();if(yc&&!te.zc()){ye(Mc,vd,false);return vd}se(Mc,vd);return vd};mbox.prototype.loaded=function(){this.cancelTimeout();if(!this.activate()&&this.je<this.ke){var vd=this;setTimeout(function(){vd.loaded()},TNT.a.b.mboxLoadedTimeout)}};mbox.prototype.activate=
function(){if(this.ee)return this.ee;if(this.oe&&this.pe[this.pe.length-1]!==this.qb)return this.ee;if(this.show()){this.cancelTimeout();this.ee=1}if(this.oe)this.pe.pop();return this.ee};mbox.prototype.isActivated=function(){return this.ee};mbox.prototype.setOffer=function(he){var Ae=he&&he.show&&he.setOnLoad;if(!Ae)throw"Invalid offer";var Be=TNT.a.b.globalMboxName===this.qb;Be=Be&&he instanceof mboxOfferDefault;Be=Be&&this.ge!==null;Be=Be&&this.ge.getType()==="ajax";if(!Be){this.he=he;return this}var Ce=
this.he.gd;this.he=he;this.he.setOnLoad(Ce);return this};mbox.prototype.getOffer=function(){return this.he};mbox.prototype.show=function(){return this.he.show(this)};mbox.prototype.showContent=function(hd){if(!mbox.De(hd))return 0;this.fd=mbox.Ee(this,this.fd);if(this.fd===null)return 0;if(!mbox.Fe(document.body,this.fd))return 0;if(this.fd===hd){this.xe(this.fd);this.gd();return 1}this.Ge(this.fd);this.Ge(hd);mbox.He(this,hd);this.xe(this.fd);this.gd();return 1};mbox.De=function(hd){return hd!==
undefined&&hd!==null};mbox.Fe=function(Ie,Je){var DOCUMENT_POSITION_CONTAINED_BY=16;var Ke=Ie.contains!==undefined;if(Ke)return Ie!==Je&&Ie.contains(Je);else return Boolean(Ie.compareDocumentPosition(Je)&DOCUMENT_POSITION_CONTAINED_BY)};mbox.Ee=function(Tc,fd){if(fd!==undefined&&fd!==null&&mbox.Fe(document.body,fd))return fd;return Tc.getDefaultDiv()};mbox.He=function(Tc,Le){Tc.fd.parentNode.replaceChild(Le,Tc.fd);Tc.fd=Le};mbox.prototype.hide=function(){return this.showContent(this.getDefaultDiv())};
mbox.prototype.finalize=function(){if(!this.getDefaultDiv())this.fe.force();if(!this.getDiv())this.fd=mbox.Ee(this,this.fd);this.Me();this.setFetcher(new mboxAjaxFetcher);this.cancelTimeout();this.gd()};mbox.prototype.cancelTimeout=function(){if(this.ve)clearTimeout(this.ve);if(this.ge)this.ge.cancel()};mbox.prototype.getDiv=function(){return this.fd};mbox.prototype.getDefaultDiv=function(){if(this.ne===null)this.ne=this.fe.locate();return this.ne};mbox.prototype.setEventTime=function(Ne){this.ie[Ne]=
(new Date).getTime()};mbox.prototype.getEventTimes=function(){return this.ie};mbox.prototype.getImportName=function(){return this.ce};mbox.prototype.getURL=function(){return this.Mc.buildUrl()};mbox.prototype.getUrlBuilder=function(){return this.Mc};mbox.prototype.Oe=function(fd){return fd.style.display!="none"};mbox.prototype.xe=function(fd){this.Pe(fd,true)};mbox.prototype.Ge=function(fd){this.Pe(fd,false)};mbox.prototype.Pe=function(fd,Qe){fd.style.visibility=Qe?"visible":"hidden";fd.style.display=
Qe?"block":"none"};mbox.prototype.Me=function(){this.oe=false};mbox.prototype.relocateDefaultDiv=function(){this.ne=this.fe.locate()};function Re(Uc){Uc.getMboxes().each(function(Tc){Tc.finalize()})}mboxFactory=function(Ab,mb,Se){var te=TNT.a;var b=te.b;var W=te.W;var H=te.H;var C=te.C;var M=te.M;var Te=b.mboxVersion;this.Ue=false;this.Se=Se;this.Sc=new mboxList;mboxFactories.put(Se,this);this.Ve=b.mboxIsSupportedFunction()&&typeof(window.attachEvent||document.addEventListener||window.addEventListener)!=
"undefined";this.We=this.Ve&&mboxGetPageParameter(C.D,true)===null;var Xe=Se==M.N;var Id=M.O+(Xe?"":"-"+Se);this.Kd=new mboxCookieManager(Id,b.cookieDomainFunction());if(!b.crossDomainXOnly)this.We=this.We&&this.Kd.isEnabled();this.We=this.We&&W.ab(this.Kd.getCookie(H.D))&&W.ab(this.Kd.getCookie(H.K));if(this.isAdmin())this.enable();this.Ye();this.Ze=mboxGenerateId();this._e=mboxScreenHeight();this.af=mboxScreenWidth();this.bf=mboxBrowserWidth();this.cf=mboxBrowserHeight();this.df=mboxScreenColorDepth();
this.ef=mboxBrowserTimeOffset();this.ff=new mboxSession(this.Ze,C.E,H.E,b.sessionExpirationTimeout,this.Kd);var Vd=new mboxPC(H.m,b.tntIdLifetime,this.Kd);this.gf=b.overrideMboxEdgeServer?new te.Ud(Vd,this.Kd):Vd;this.Mc=new mboxUrlBuilder(Ab,mb);this.hf(this.Mc,Xe,Te);this.jf=(new Date).getTime();this.kf=this.jf;var vd=this;this.addOnLoad(function(){vd.kf=(new Date).getTime()});if(this.Ve){this.addOnLoad(function(){vd.Ue=true;Re(vd);TNT.a.nestedMboxes=[]});if(this.We){this.limitTraffic(b.trafficLevelPercentage,
b.trafficDuration);this.lf();this.mf=new mboxSignaler(this)}else if(!b.isProduction)if(this.isAdmin())if(!this.isEnabled())alert("mbox disabled, probably due to timeout\n"+"Reset your cookies to re-enable\n(this message will only appear in administrative mode)");else alert("It looks like your browser will not allow "+b.companyName+" to set its administrative cookie. To allow setting the"+" cookie please lower the privacy settings of your browser.\n"+"(this message will only appear in administrative mode)")}};
mboxFactory.prototype.forcePCId=function(Md){if(!TNT.a.b.clientTntIdSupport)return;if(this.gf.forceId(Md))this.ff.forceId(mboxGenerateId())};mboxFactory.prototype.forceSessionId=function(Md){if(!TNT.a.b.clientSessionIdSupport)return;this.ff.forceId(Md)};mboxFactory.prototype.isEnabled=function(){return this.We};mboxFactory.prototype.getDisableReason=function(){return this.Kd.getCookie(TNT.a.H.D)};mboxFactory.prototype.isSupported=function(){return this.Ve};mboxFactory.prototype.disable=function(pd,
nf){if(typeof pd=="undefined")pd=60*60;if(typeof nf=="undefined")nf="unspecified";if(!this.isAdmin()){this.We=false;this.Kd.setCookie(TNT.a.H.D,nf,pd)}};mboxFactory.prototype.enable=function(){this.We=true;this.Kd.deleteCookie(TNT.a.H.D)};mboxFactory.prototype.isAdmin=function(){return document.location.href.indexOf(TNT.a.C.F)!=-1};mboxFactory.prototype.limitTraffic=function(of,pd){if(TNT.a.b.trafficLevelPercentage!=100){if(of==100)return;var pf=true;if(parseInt(this.Kd.getCookie(TNT.a.H.I))!=of)pf=
Math.random()*100<=of;this.Kd.setCookie(TNT.a.H.I,of,pd);if(!pf)this.disable(60*60,"limited by traffic")}};mboxFactory.prototype.addOnLoad=function(qf){if(this.isDomLoaded())qf();else{var rf=false;var sf=function(){if(rf)return;rf=true;qf()};this.tf.push(sf);if(this.isDomLoaded()&&!rf)sf()}};mboxFactory.prototype.getEllapsedTime=function(){return this.kf-this.jf};mboxFactory.prototype.getEllapsedTimeUntil=function(A){return A-this.jf};mboxFactory.prototype.getMboxes=function(){return this.Sc};mboxFactory.prototype.get=
function(x,y){return this.Sc.get(x).getById(y||0)};mboxFactory.prototype.update=function(x,nb){var te=TNT.a,c=te.c;if(!this.isEnabled())return;var vd=this;if(!this.isDomLoaded()){this.addOnLoad(function(){vd.update(x,nb)});return}if(this.Sc.get(x).length()===0)throw"Mbox "+x+" is not defined";this.Sc.get(x).each(function(Tc){var Mc=Tc.getUrlBuilder();Mc.addParameter(c.d,mboxGenerateId());vd.uf(Mc,x);vd.vf(Mc,x);Tc.load(nb)})};mboxFactory.prototype.setVisitorIdParameters=function(Mc,x){this.uf(Mc,
x);this.wf(Mc,x)};mboxFactory.prototype.create=function(x,nb,xf){var Tc=this.yf(x,nb,xf);if(Tc)this.uf(Tc.getUrlBuilder(),x);return Tc};mboxFactory.prototype.zf=function(x,nb,xf){return this.yf(x,nb,xf)};mboxFactory.prototype.yf=function(x,nb,xf){if(!this.isSupported())return null;var Af=new Date;var A=Af.getTime()-Af.getTimezoneOffset()*TNT.a.M.Q;var Mc=this.Mc.clone();Mc.addParameter(TNT.a.c.j,this.Sc.length()+1);Mc.addParameter(TNT.a.c.A,A);Mc.addParameters(nb);this.vf(Mc,x);var y,fe,Tc;if(xf)fe=
new mboxLocatorNode(xf);else{if(this.Ue)throw"The page has already been loaded, can't write marker";fe=new mboxLocatorDefault(this._c(x))}try{y=this.Sc.get(x).length();Tc=new mbox(x,y,Mc,fe,this.Bf(x),this);if(this.We)Tc.setFetcher(this.Ue?new mboxAjaxFetcher:new mboxStandardFetcher);var vd=this;Tc.setOnError(function(qe,vb){Tc.setMessage(qe);Tc.activate();if(!Tc.isActivated()){vd.disable(TNT.a.b.mboxFactoryDisabledTimeout,qe);window.location.reload(false)}});this.Sc.add(Tc)}catch(Cf){this.disable();
throw'Failed creating mbox "'+x+'", the error was: '+Cf;}return Tc};mboxFactory.prototype.Df=function(Mc){var m=this.gf.getId();if(m)Mc.addParameter(TNT.a.c.m,m)};mboxFactory.prototype.Ef=function(Mc,x){var Ff=!TNT.isAutoCreateGlobalMbox()&&TNT.getGlobalMboxName()===x;if(Ff)Mc.addParameters(TNT.getTargetPageParameters())};mboxFactory.prototype.uf=function(Mc,x){var te=TNT.a,Gf=te.c.i,i=te.Jc(x);if(i)Mc.addParameter(Gf,i)};mboxFactory.prototype.wf=function(Mc){var te=TNT.a;if(te.yc()&&te.zc())Mc.addParameters(te.Ic())};
mboxFactory.prototype.vf=function(Mc,x){this.Df(Mc);this.Ef(Mc,x);this.wf(Mc,x)};mboxFactory.prototype.getCookieManager=function(){return this.Kd};mboxFactory.prototype.getPageId=function(){return this.Ze};mboxFactory.prototype.getPCId=function(){return this.gf};mboxFactory.prototype.getSessionId=function(){return this.ff};mboxFactory.prototype.getSignaler=function(){return this.mf};mboxFactory.prototype.getUrlBuilder=function(){return this.Mc};mboxFactory.prototype.Hf=function(x){return this.Se+
"-"+x+"-"+this.Sc.get(x).length()};mboxFactory.prototype._c=function(x){return TNT.a.M.S+this.Hf(x)};mboxFactory.prototype.Bf=function(x){return TNT.a.M.P+this.Hf(x)};mboxFactory.prototype.hf=function(Mc,Xe,Te){Mc.addParameter(TNT.a.c.k,document.location.hostname);Mc.addParameter(TNT.a.c.d,this.Ze);Mc.addParameter(TNT.a.c.n,this._e);Mc.addParameter(TNT.a.c.o,this.af);Mc.addParameter(TNT.a.c.p,this.bf);Mc.addParameter(TNT.a.c.q,this.cf);Mc.addParameter(TNT.a.c.r,this.ef);Mc.addParameter(TNT.a.c.s,
this.df);Mc.addParameter(TNT.a.C.E,this.ff.getId());if(!Xe)Mc.addParameter(TNT.a.c.l,this.Se);if(TNT.a.b.crossDomainEnabled)Mc.addParameter(TNT.a.c.t,TNT.a.b.crossDomain);var c=TNT.getClientMboxExtraParameters();if(c)Mc.addParameters(c.split("\x26"));Mc.setUrlProcessAction(function(u){if(TNT.a.b.passPageParameters){u+="\x26";u+=TNT.a.c.u;u+="\x3d"+encodeURIComponent(document.location);var v=encodeURIComponent(document.referrer);if(u.length+v.length<2E3){u+="\x26";u+=TNT.a.c.v;u+="\x3d"+v}}u+="\x26";
u+=TNT.a.c.w;u+="\x3d"+Te;return u})};mboxFactory.prototype.lf=function(){document.write("\x3cstyle\x3e."+TNT.a.M.R+" { visibility:hidden; }\x3c/style\x3e")};mboxFactory.prototype.isDomLoaded=function(){return this.Ue};mboxFactory.prototype.Ye=function(){if(this.tf)return;this.tf=[];var vd=this;(function(){var If=document.addEventListener?"DOMContentLoaded":"onreadystatechange";var Jf=false;var Kf=function(){if(Jf)return;Jf=true;for(var i=0;i<vd.tf.length;++i)vd.tf[i]()};if(document.addEventListener){document.addEventListener(If,
function(){document.removeEventListener(If,arguments.callee,false);Kf()},false);window.addEventListener("load",function(){document.removeEventListener("load",arguments.callee,false);Kf()},false)}else if(document.attachEvent)if(self!==self.top)document.attachEvent(If,function(){if(document.readyState==="complete"){document.detachEvent(If,arguments.callee);Kf()}});else{var Lf=function(){try{document.documentElement.doScroll("left");Kf()}catch(Mf){setTimeout(Lf,13)}};Lf()}if(document.readyState==="complete")Kf()})()};
mboxScPluginFetcher=function(mb,Nf){this.mb=mb;this.Nf=Nf};mboxScPluginFetcher.prototype={constructor:mboxScPluginFetcher,getType:function(){return"ajax"},fetch:function(Mc){Mc.setServerType(this.getType());var Kc=document.getElementsByTagName("head")[0],Nc=document.createElement("script");Nc.src=this.Of(Mc);Kc.appendChild(Nc)},cancel:function(){},Of:function(Mc){Mc.setBasePath("/m2/"+this.mb+"/sc/standard");this.Pf(Mc);var Qf=TNT.a.c.B;var Rf=TNT.a.M.B;Mc.addParameter(Qf,Rf);return Mc.buildUrl()},
Pf:function(Mc){var Sf=["dynamicVariablePrefix","visitorID","vmk","ppu","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","pageName","currencyCode","variableProvider","channel","server","pageType","transactionID","purchaseID","campaign","state","zip","events","products","linkName","linkType","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage","pe","pev1","pev2","pev3","visitorSampling","visitorSamplingGroup",
"dynamicAccountSelection","dynamicAccountList","dynamicAccountMatch","trackDownloadLinks","trackExternalLinks","trackInlineStats","linkLeaveQueryString","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","linkTrackVars","linkTrackEvents","linkNames","lnk","eo"];for(var rb=0;rb<Sf.length;rb++)this.Tf(Sf[rb],Mc);for(rb=1;rb<=75;rb++){this.Tf("prop"+rb,Mc);this.Tf("eVar"+rb,Mc);this.Tf("hier"+rb,Mc)}},Tf:function(qb,Mc){var W=TNT.a.W,_=this.Nf[qb];if(W.bb(_)||W.fb(_))return;Mc.addParameter(qb,
_)}};(function(X){function Uf(Uc,Nf){if(!Nf)return null;var Vf=TNT.a.b.siteCatalystPluginName,mb=TNT.a.b.clientCode,W=TNT.a.W;Nf["m_"+Vf]=function(Nf){var Wf="_t",Yf="m_i",Zf=Nf[Yf](Vf);Zf.We=true;Zf.mb=mb;Zf[Wf]=function(){if(!this.isEnabled())return;var Tc=this.yf(),re=new mboxScPluginFetcher(this.mb,this.s);if(Tc){Tc.setFetcher(re);Tc.load()}};Zf.isEnabled=function(){return this.We&&Uc.isEnabled()};Zf.yf=function(){var x=this._f(),fd=document.createElement("div");if(!W.Z(document.body))document.body.appendChild(fd);
return Uc.create(x,[],fd)};Zf._f=function(){var ag=this.s.events&&this.s.events.indexOf("purchase")!=-1;return"SiteCatalyst: "+(ag?"purchase":"event")}};return Nf.loadModule(Vf)}X.Uf=Uf})(TNT.a);(function(X){function bg(cg,Id,pd,Kd){if(cg.targetJSLoaded)return;Kd.setCookie(Id,true,pd);window.location.reload()}function dg(b,H,Kd){var eg="_AT",gg=50,Id=H.K,pd=b.experienceManagerDisabledTimeout,de=b.experienceManagerTimeout,u=b.experienceManagerPluginUrl,hg=function(ig){},jg=function(ig){setTimeout(function(){window[eg].applyWhenReady(ig)},
gg)};if(eg in window)return;window[eg]={};if(Kd.getCookie(Id)!=="true"){document.write("\x3cscr"+'ipt src\x3d"'+u+'"\x3e\x3c/sc'+"ript\x3e");window[eg].applyWhenReady=jg;setTimeout(function(){bg(window[eg],Id,pd,Kd)},de)}else window[eg].applyWhenReady=hg}X.dg=dg})(TNT.a);(function(X,a,W,b,c,M){function kg(){return b.globalMboxName}function lg(){return b.globalMboxLocationDomId}function mg(){return b.globalMboxAutoCreate}function ng(){return b.parametersFunction()}function og(){var cd=1,pg=document.getElementsByTagName("script"),
dd=pg[pg.length-1];while(dd){if(dd.nodeType===cd&&dd.className===M.R)return dd;dd=dd.previousSibling}return null}function qg(Uc,x,c){var xf,Tc;if(a.yc()){xf=og();Tc=Uc.create(x,c,xf)}else Tc=Uc.create(x,c);if(Tc&&Uc.isEnabled())Tc.load();return Tc}function rg(Uc,xf,x,c){return Uc.zf(x,c,xf)}function sg(Uc,x,c){Uc.update(x,c)}function tg(Kd,qb){return Kd.getCookie(qb)}function ug(Kd,qb,_,pd){Kd.setCookie(qb,_,pd)}function vg(wg){var fc=[];var xg=/([^&=]+)=([^&]*)/g;var yg=decodeURIComponent;var Rd=
xg.exec(wg);while(Rd){fc.push([yg(Rd[1]),yg(Rd[2])].join("\x3d"));Rd=xg.exec(wg)}return fc}function dc(zg,Qc,cc){var fc=[];for(var Zb in zg){if(!zg.hasOwnProperty(Zb))continue;var _=zg[Zb];if(W.fb(_)){Qc.push(Zb);fc=fc.concat(dc(_,Qc,cc));Qc.pop()}else if(Qc.length>0)fc.push([cc(Qc.concat(Zb).join(".")),_].join("\x3d"));else fc.push([cc(Zb),_].join("\x3d"))}return fc}function Ag(){var Bg=window.targetPageParams,cc=function(Zb){return Zb};if(!W.cb(Bg))return[];var fc=null;try{fc=Bg()}catch(Cg){}if(W.ab(fc))return[];
if(W.db(fc))return fc;if(W.eb(fc)&&!W.bb(fc))return vg(fc);if(W.fb(fc))return dc(fc,[],cc);return[]}function Dg(Uc){var Eg=kg(),Fg=lg(),Gg=Ag(),Hg,Ig,Jg;if(!Fg){Fg="mbox-"+Eg+"-"+mboxGenerateId();Hg=document.createElement("div");Hg.className="mboxDefault";Hg.id=Fg;Hg.style.visibility="hidden";Hg.style.display="none";Ig=setInterval(function(){if(document.body){clearInterval(Ig);document.body.insertBefore(Hg,document.body.firstChild)}},b.bodyPollingTimeout)}Jg=Uc.create(Eg,Gg,Fg);if(Jg&&Uc.isEnabled()){if(!Uc.isDomLoaded())if(!a.yc())Jg.setFetcher(new a.Oc);
else if(a.zc())Jg.setFetcher(new a.Oc);else Jg.setFetcher(new mboxAjaxFetcher);Jg.load()}}function Kg(Uc,x,nb){if(!Uc.isEnabled())return;var Af=new Date,Lg=Af.getTimezoneOffset()*M.Q,Mc=Uc.getUrlBuilder().clone();Mc.setBasePath("/m2/"+b.clientCode+"/viztarget");Mc.addParameter(c.x,x);Mc.addParameter(c.y,0);Mc.addParameter(c.j,Uc.getMboxes().length()+1);Mc.addParameter(c.A,Af.getTime()-Lg);Mc.addParameter(c.d,mboxGenerateId());Mc.addParameter(c.z,Uc.isDomLoaded());if(nb&&nb.length>0)Mc.addParameters(nb);
Uc.Df(Mc);Uc.Mg(Mc,x);Uc.uf(Mc,x);return Mc.buildUrl()}function Ng(){return new mboxMap}function Og(Pg,mb,Se){return new mboxFactory(Pg,mb,Se)}a.qg=qg;a.rg=rg;a.sg=sg;a.Kg=Kg;a.tg=tg;a.ug=ug;a.Dg=Dg;a.Ng=Ng;a.Og=Og;a.dc=dc;X.getGlobalMboxName=kg;X.getGlobalMboxLocation=lg;X.isAutoCreateGlobalMbox=mg;X.getClientMboxExtraParameters=ng;X.getTargetPageParameters=Ag})(TNT,TNT.a,TNT.a.W,TNT.a.b,TNT.a.c,TNT.a.M);(function(X){function Qg(Kd,b,Rg,Sg){var Tg=60*60,Ug=mboxGetPageParameter(Rg,true)||Kd.getCookie(Sg);
if(!Ug)return;setTimeout(function(){if(typeof window.mboxDebugLoaded==="undefined")alert("Could not load the remote debug.\nPlease check your connection to "+b.companyName+" servers")},Tg);var Db=[];Db.push(b.adminUrl,"/mbox/mbox_debug.jsp","?");Db.push("mboxServerHost","\x3d",b.serverHost,"\x26");Db.push("clientCode","\x3d",b.clientCode);document.write("\x3c"+"scr"+'ipt src\x3d"'+Db.join("")+'"\x3e\x3c'+"/scr"+"ipt\x3e")}function Vg(b,Wg){var W=X.W,Xg,Yg,_;if(W.Z(b)||W.ab(b)||!W.fb(b))return Wg;
for(var Zb in b){Xg=b.hasOwnProperty(Zb)&&Wg.hasOwnProperty(Zb);_=b[Zb];Yg=!W.Z(_)&&!W.ab(_);if(Xg&&Yg)Wg[Zb]=_}return Wg}function Zg(Uc,Kd){TNT.createGlobalMbox=function(){X.Dg(Uc)};window.mboxCreate=function(x){var c=[].slice.call(arguments,1);return X.qg(Uc,x,c)};window.mboxDefine=function(xf,x){var c=[].slice.call(arguments,2);return X.rg(Uc,xf,x,c)};window.mboxUpdate=function(x){var c=[].slice.call(arguments,1);X.sg(Uc,x,c)};window.mboxVizTargetUrl=function(x){var c=[].slice.call(arguments,1);
return X.Kg(Uc,x,c)};window.mboxSetCookie=function(qb,_,pd){return X.ug(Kd,qb,_,pd)};window.mboxGetCookie=function(qb){return X.tg(Kd,qb)};if(typeof X.Uf!=="undefined")window.mboxLoadSCPlugin=function(Nf){return X.Uf(Uc,Nf)}}function _g(){if(typeof window.mboxVersion!=="undefined")return;X.b=Vg(window.targetGlobalSettings,X.b);var b=X.b,Te=b.mboxVersion,Pg=b.serverHost,mb=b.clientCode,N=X.M.N,Rg=X.C.G,Sg=X.H.G,ah=X.H.L,Uc,Kd;window.mboxFactories=X.Ng();window.mboxFactoryDefault=Uc=X.Og(Pg,mb,N);window.mboxVersion=
Te;Kd=Uc.getCookieManager();Zg(Uc,Kd);Qg(Kd,b,Rg,Sg);X.Bb=function(bh){var lb;if(!b.overrideMboxEdgeServer)return bh;lb=Kd.getCookie(ah);return lb===null?bh:lb}}X._g=_g})(TNT.a);TNT.a._g();TNT.a.dg(TNT.a.b,TNT.a.H,window.mboxFactoryDefault.getCookieManager());if(TNT.isAutoCreateGlobalMbox())TNT.createGlobalMbox()}if(typeof TNT!="undefined")window.TNT=TNT||{};if(typeof mboxCopyright!="undefined")window.mboxCopyright=mboxCopyright||"error";if(typeof mboxVersion!="undefined")window.mboxVersion=mboxVersion||
"error";if(typeof mboxFactories!="undefined")window.mboxFactories=mboxFactories||{};if(typeof mboxFactoryDefault!="undefined")window.mboxFactoryDefault=mboxFactoryDefault||{};if(typeof mboxVizTargetUrl!="undefined")window.mboxVizTargetUrl=mboxVizTargetUrl||function(){};if(typeof mboxLoadSCPlugin!="undefined")window.mboxLoadSCPlugin=mboxLoadSCPlugin||function(){}}catch(n){window.TNT={},window.mboxError=n,window.mboxCopyright="error",window.mboxFactories={},window.mboxFactoryDefault={},window.mboxVizTargetUrl=
function(){},mboxCreate=function(){},mboxDefine=function(){},mboxUpdate=function(){},mboxLoadSCPlugin=function(){}}if(typeof TNT!="undefined")window.TNT=TNT||{};if(typeof mboxCopyright!="undefined")window.mboxCopyright=mboxCopyright||"error";if(typeof mboxVersion!="undefined")window.mboxVersion=mboxVersion||"error";if(typeof mboxFactories!="undefined")window.mboxFactories=mboxFactories||{};if(typeof mboxFactoryDefault!="undefined")window.mboxFactoryDefault=mboxFactoryDefault||{};if(typeof mboxVizTargetUrl!=
"undefined")window.mboxVizTargetUrl=mboxVizTargetUrl||function(){};if(typeof mboxLoadSCPlugin!="undefined")window.mboxLoadSCPlugin=mboxLoadSCPlugin||function(){}}catch(n){window.TNT={},window.mboxError=n,window.mboxCopyright="error",window.mboxFactories={},window.mboxFactoryDefault={},window.mboxVizTargetUrl=function(){},mboxCreate=function(){},mboxDefine=function(){},mboxUpdate=function(){},mboxLoadSCPlugin=function(){}}if(typeof TNT!="undefined")window.TNT=TNT||{};if(typeof mboxCopyright!="undefined")window.mboxCopyright=
mboxCopyright||"error";if(typeof mboxVersion!="undefined")window.mboxVersion=mboxVersion||"error";if(typeof mboxFactories!="undefined")window.mboxFactories=mboxFactories||{};if(typeof mboxFactoryDefault!="undefined")window.mboxFactoryDefault=mboxFactoryDefault||{};if(typeof mboxVizTargetUrl!="undefined")window.mboxVizTargetUrl=mboxVizTargetUrl||function(){};if(typeof mboxLoadSCPlugin!="undefined")window.mboxLoadSCPlugin=mboxLoadSCPlugin||function(){}}catch(n){window.TNT={},window.mboxError=n,window.mboxCopyright=
"error",window.mboxFactories={},window.mboxFactoryDefault={},window.mboxVizTargetUrl=function(){},mboxCreate=function(){},mboxDefine=function(){},mboxUpdate=function(){},mboxLoadSCPlugin=function(){}}},2762294,358910);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(typeof window._citiData!="undefined")Bootstrapper.getExtraParams=function(){var a={"page_def":window._citiData.pageDef};return a}},1124213,354602);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.propertyWatcher=function(options){var _private={watchers:[]},_public={};_private.options=options||{};_private.options.interval=_private.options.interval||50;_private.Watcher=function(propertyFn,options){var _public={};_public.propertyFn=propertyFn;_public.lastValue=undefined;_public.options=options;_public.change=function(oldVal,newVal){};return _public};_private.doChecks=
function(){for(var i=0;i<_private.watchers.length;i++){var w=_private.watchers[i],p=w.propertyFn?w.propertyFn():null;if(w.lastValue!=p){w.change(w.lastValue,p);w.lastValue=p}}_private.resetTimer()};_private.resetTimer=function(){window.setTimeout(function(){_private.doChecks()},_private.options.interval)};_private.addWatcher=function(fn,options){var w=_private.Watcher(fn,options);_private.watchers.push(w);return w};_public={create:_private.addWatcher};_private.doChecks();return _public}()},1482837,
373773);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var reqUrl="";var lrid="387146";var getCookie=function(name){var value="; "+document.cookie;var parts=value.split("; "+name+"\x3d");if(parts.length==2)return parts.pop().split(";").shift()};window.citiData=window.citiData||{};var cuuid=window.citiData.cuuid||window.citiData.CUUID||"";var cookiecuuid=getCookie("CUUID")||"";if(cookiecuuid.length>cuuid.length){cuuid=cookiecuuid;
window.citiData.CUUID=cookiecuuid}if(document.location.pathname=="/credit-cards/citi.action"){if(typeof citiData.globalInfo.serverSideBullseye!="undefined"&&citiData.globalInfo.serverSideBullseye=="true")lrid="501099";reqUrl="//id.rlcdn.com/"+lrid+".gif?partner_uid\x3d"+cuuid;Bootstrapper.imageRequest(reqUrl)}}catch(e){console.log("LRreach error")}},2776545,490004);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();