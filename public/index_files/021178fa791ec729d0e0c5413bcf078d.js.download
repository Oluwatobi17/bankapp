Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var postURI="https://"+(/uat|sit/i.test(window.location.host)?"uat":"prod")+".report.nacustomerexperience.citi.com/glassbox/reporting/cls_report";var _cls_config={reportURI:postURI,recordScrolls:true,recordMouseMoves:true,idleEventTimeInterval:-1,domKeepScriptMatching:"s.pageName|citiData",ajaxCaptureResponseHeaders:true,ajaxCaptureResponseContentWhenUrlMatches:".*.citi.com",
maskList:["aaAccountNumber","aaAccountType","aaAcctNumForgotten","ABA_NUMBER","ABA_ROUTING_NO","accNoPrefSave","accnum","Account","ACCOUNT_NUM_","ACCOUNT_NUMBER","accountIndex","accountNumber","accounts_1","accounts_2","accounts_3","accounts_4","accounts_5","accounts_6","accountType","acctId","acctNumber","acctNumberMasked","acctNumOrSSN","ACHAmount","ACHDate","ACHFrequency","acs-1039","acs-1041","acs-1048","acs-1067","acs-1148","acs-1150","acs-1152","acs-1155","acs-1161","acs-1165","acs-1230","acs-1233",
"acs-1341","acs-1343","acs-1351","acs-1366","acs-1427","acs-1429","acs-1431","acs-1434","acs-1508","acs-1511","activeAccnt","ACTUAL-SECOND-SSN","ACTUAL-THIRD-SSN","ADDRESS_LINE1","ADDRESS_LINE2","amount","amountLowerBound","amountOption","amountUpperBound","ANNUAL_INCOME","answer0","answer0Masked","answer1","answer1Masked","answer2","answer2Masked","aoOfferParams","BANK_ACC_NUM","BANK_ACC_NUM_mask","BANK_ACCOUNT_NUMBER1","BANK_ACCOUNT_NUMBER1-unmasked","BANK_ACCOUNT_NUMBER2","bankRouteCode","birthDay",
"birthMonth","birthYear","CARD_NUMBER","cardExpiryMM","cardExpiryYYYY","cardNumber","CARDNUMBER_1","cardNumberMasked","cbolui_onboard_confPassword","CHECKCVV","checkDate","CHECKEXPDT","checkNumberLowerBound","checkNumberUpperBound","cin","CONFIRM_EMAIL_ADDRESS","confirmPassword","creditAccountNumber","creditCardCVV","CSC_EXP_DT_MM","CSC_EXP_DT_YY","CVV","CVV2","CVV2_Old","CVV2_Old_mask","CVVOnCard","CYOTA_ANS_0","CYOTA_ANS_1","CYOTA_ANS_2","CYOTA_ANS_3","day","dcPasswd","dcPin","dcUserId","DESIRED_PASSWORD",
"dob","DOB_DATE","DOB_MONTH","DOB_YEAR","DOB1","DOB2","DOB3","dob1-month","dob1-year","dob1-day","RadioOptionOTP","email","EMAIL_ADDRESS","EMAIL_ADDRESS-citiTextBlur","email2","EmailAddress","EmailAddress1","emailMasked","enter_password","enter_password_mask","enteredCheckNo","enteredCheckNumber","enterPIN","EXP_DT_MONTH","EXP_DT_MONTH-unmasked","EXP_DT_YEAR","EXP_DT_YEAR-unmasked","firstTransactionAmount","fromCheckNumber","hintAnswer","HOME_PHONE-citiTextBlur","inputAmount","last4SSN","MASKED_ABA_NUMBER",
"MASKED_ABA_ROUTING_NO","MASKED_BANK_ACCOUNT_NUMBER1","MASKED_BANK_ACCOUNT_NUMBER2","MASKED_CVV","MASKED_SSN","maskedAcctVal_","mmn","mobileNo","month","MOTHERS_MAIDEN_NAME","MOTHERS_MAIDEN_NAME-citiTextBlur","mySSN","NAME_ON_CARD","nameOnCard","nationalID","NEW_CARD_NUMBER","NEW_PASSWORD1","NEW_PASSWORD2","NEW_SEC_WORD","NEW_SEC_WORD_HINT","OLD_PASSWORD","otp","otpMasked","otpPasscode","passcodeAnswer","password","PASSWORD_CONFIRMATION","PASSWORD_VERIFY","passwordConfirm","pin","prevEmailAddr","pwd",
"ReEmailAddress","ReEmailAddress2","reEnterPIN","REMOVE_ACCT_","RetypeEmailAddress","SECOND-SSN","SECPASSTYPE_CODE","SECURITY_WORD","securityCode","securityQuestion0","securityQuestion1","securityQuestion2","secWord","SELECTED_ACCT_INDEX","ssn","ssn_1","ssn_2","ssn_3","ssn_4","SSN_DOB","SSN_LAST_4","ssn1","ssn2","ssn3","SSN-citiTextBlur","SSN-unmasked","svc_enter_card_number_1","svc_enter_card_number_2","svc_enter_card_number_3","svc_enter_card_number_4","THIRD-SSN","TXT_MMN","userEnteredCVV2","WORK_PHONE-citiTextBlur",
"year","ZIP-citiTextBlur"],maskClassList:["challengeAnswers"]};!function(o,e,h,i,E){var t;if((t=window).top!==t&&t._cls_auto_injected&&console.log("WARNING[EyeView-1302]: Iframes auto Injection configuration is ON. It is strongly advised to remove detector script tag from frame's source. url: "+location.href),void 0===window[o]){var n,r,S={};S.beaconVersion="2",S.mouseEvents=window.PointerEvent?{down:"pointerdown",up:"pointerup"}:{down:"mousedown",up:"mouseup"},S.eventTypes=[S.mouseEvents.down,S.mouseEvents.up,
"touchstart","touchend","scroll","change","blur","focusout","keydown","submit","reset","load","unload","ajaxComplete","hashchange","navigation","popstate","focus","focusin","mouseenter","mousemove","error","beforeunload","resize","pagehide"],S.snapshotApplicableEventType=["pageUpdate","change","mousedown","scroll","touchstart","blur","submit","drag","formValidationError","navigation","unload","beforeunload","segmentChanged"],S.reportBase64URLs=!1,S.nobelEventTypes=["pageSnapshot"],S.socialNobelEventTypes=
["resourceContent"],S.encodeSelectors=!0,S.encodeEventTypes=!0,S.useClassesInSelectors=!1,S.repeatingElementSelector="!",S.encoding={numberBase:36,rootSelector:"-",delimiters:{versionPayload:";",pages:"~~~",events:"~~",eventParts:"~",pageIdEvents:"_"},domSnapshotPrefix:"D",domSnapshotRefPrefix:"r",domSnapshotCompressedPrefix:"d",domSnapshotPlainPrefix:"P",valueEncodedPrefix:"E",valueNotEncodedPrefix:"N"},S.cookies={events:"_cls_events",session:"_cls_s",sub_session:"_cls_subs",visitor:"_cls_v",referrer:"_cls_referrer",
robot:"_cls_bd",debuginfo:"_cls_di",supportMode:"_cls_sm"},S.maskingAttribute="cls_mask",S.ValueMaskingMode={BlackList:"blacklist",WhiteList:"whitelist"},S.detectorScript=(n=h.currentScript,r="data-clsconfig",n?n.hasAttribute(r)?n:h.querySelector("["+r+"]")||n:window.cls_detector_script_id?h.getElementById(window.cls_detector_script_id):h.querySelector("["+r+"]"));var v={debugMode:!1,traceMode:!1,suppressMouseMovesDebug:!0,reportByPost:!1,reportPreferSendBeaconAPI:!1,reportDisableCors:!1,timingMode:!1,
useIdSelectors:!0,noIdSelectorsForClassNames:["skull_list"],noIdSelectorsForIDs:[],noIdSelectorsForAttrs:[],useNameInFormSelectors:!1,preferNamesInFormSelectors:!1,reportValidationErrors:!0,supportNativeAutoComplete:!1,recordEnterForInputs:!0,recordTypingAll:!1,recordTypingForAttrs:["bs-typeahead"],recordTypingForClasses:["tt-input"],recordTypingForIDs:[],ignorableElementIds:["cls_logger","cls_logger_tab"],idleEventTimeInterval:-1,maxTimeForIdleEvent:42E4,validationValueForRenderTime:2E4,titleCharsLimit:150,
recordAjaxCallsAnyway:!1,ajaxDebug:!1,ajaxHashRecurrentUrls:!0,ajaxCaptureResponseHeaders:!1,ajaxCaptureFQDNOnly:!1,ajaxCaptureResponseContentWhenUrlMatches:"",ajaxCaptureResponseOnStatusGreater:-1,reportVisualNames:!0,visualNameDebug:!1,visualName:{chatLimit:40,CLS_NAME_ATTR:"cls_vname",filterNamingByTagName:["script","style"],by:{title:!0,alt:!0,ariaLabel:!0,inlineText:!0,placeholder:!0,inputConsts:!0,inputButtonsValue:!0,name:!0,id:!0,parent:!0,child:!0},elementListToCheckParent:["img","span",
"div"],elementListToCheckChild:["button"],filterInlineTextByTagName:["div","span","td"],filterInlineTextByClassName:[]}};v.maskingMode=S.ValueMaskingMode.BlackList,v.maskList=[],v.maskClassList=[],v.maskCookies=[],v.recordErrors=!1,v.recordErrors=!1,v.recordConsoleErrors=!0,v.minDragPixels=10,v.botDetection=!0,v.reportDebugInfo=!0,v.DOMBeaconImg=!1,v.reportAllOnUnload=!1,v.maxReportsWithUnload=4,v.truncateEventsWithUnload=!0,v.recordScrolls=!1,v.dependentScroll=!0,v.minStallingScrollTime=3E3,v.scrollDebug=
!1,v.recordMouseMoves=!1,v.mmRecordTimes=!1,v.mmDiluteMinPixels=20,v.mmMaxMovesWithUnload=100,v.mmMaxMovesInEventNoTimes=180,v.mmMaxMovesInEventWithTimes=130,v.mmMinStallingMoveTime=1E4,v.mmMaxInMemoryMoves=600,v.mmDebug=!1,v.SCIntegration=!1,v.SCIntegrationURLsContainList=[],v.SCIntegrationKeyList=["pageName","v25","v11","v39"],v.externalIdAttr="id",v.recordHovers=!1,v.mhDeepLevel=2,v.mhMaxListSize=10,v.mhMaxInMemeoryHovers=100,v.mhDebug=!1,v.reportHybrid=!1,v.recordWebSocket=!1,v.domRecordEnabled=
!1,v.reportAllResourcesLoad=!1,v.ignoreReportResourcesByTagNames=[],v.reportExternalResources=!1,v.reportScriptURLContainList=[],v.reportScriptKeyList=[],v.reportImageURLContainList=[],v.reportImageKeyList=[],v.clsDebug=!0,v.clsDebugCharsLimit=1E3,v.clsDebugMaxReports=2,v.reportEncoding="formUrl",v.reportCompress=!1,v.reportAddUriParams=["clsjsv","_cls_s","_cls_v","pid","sn"],v.reportToStorageAfterUnload=!1,v.duplicateIdCheck=!1,v.blackoutWhenLocationContains=[],v.iframesAutoInject=!1,v.iframesAssignContainerId=
!0,v.reportCorsForceSafelistedHeaders=!0,v.reportCorsTakeNativeCookies=[],v.reportIncludeReferrer=!0,S.setup="dom",v.maxReportSize=1900,v.reportInterval=3E3,v.reportByPost=!0,v.maxPostReportSize=15E4,v.reportPostInterval=1E4,v.postRetry=!1,v.interceptAjax=!0,v.ajaxHashRecurrentUrls=!1,v.ajaxRecordMetadata="always",v.domNewPageTriggers=[],v.domNewPageAjaxTriggers=[],v.domStartAfter=1E4,v.domExpireSnapshotAfter=114E4,v.domUpdateEveryWsMsgIn=-1,v.domCompress=!0,v.domRecordEnabled=!0,v.recordWebSocket=
!1,v.semiDomEnabled=!0,v.domIgnoredFormElements=["__VIEWSTATE"],v.domMaskContentById=[],v.domMaskOmitByClass=[],v.domMaskOmitById=[],v.domMaskContentByClass=[],v.domPartialWhenLocationContains=[],v.domKeepComments=!1,v.domOmitAfterUnload=!1,v.domAssignGlassboxId=!1;var a=function(e,t){var n={};return Me(t.chance,"dom")&&(n.domRecordEnabled=!0,n.reportURI=t.reportURI,n.reportByPost=!0,n.recordWebSocket=!1),n},s=",";void 0!==S&&S.detectorScript&&(s=S.detectorScript.getAttribute("data-clsarraydelim")||
s);var c=function(e,t){if("TRUE"===e.toUpperCase())return!0;if("FALSE"===e.toUpperCase())return!1;throw"cannot parse boolean from '"+e+"'";},l=function(e){var t=-1==e.indexOf(".")?parseInt(e):parseFloat(e);if(isNaN(t))throw"cannot parse number from '"+e+"'";return t},f=function(e){return e},u=function(e){return null==e?[]:e.split(s)},d=function(e){return(Array.isArray?Array.isArray(e):e instanceof Array)?null:"array is expected"},p=function(e,t){for(var n=0;n<t.length;n++)if(typeof t[n]!==e)return"array element type mismatch. expected:"+
e+" actual:"+typeof t[n];return null},m=function(){var r=arguments;return function(e){for(var t=0;t<r.length;t++){var n=r[t](e);if(null!=n)return n}return null}};Ne.prototype.ignore=function(e){this[e.toLowerCase()]={name:e,ignore:!0}};var g={options:{caseSensitive:!0,errorOnUnknown:!(Ne.newBuilder=function(){var n=new Ne;return{bool:function(e,t){return n.add("boolean",!1,c,null,e,t),this},num:function(e,t){return n.add("number",!1,l,null,e,t),this},str:function(e,t){return n.add("string",!0,f,null,
e,t),this},strarray:function(e,t){return n.add("object",!0,u,m(d,function(e){return p("string",e)}),e,t),this},ignore:function(e){return n.ignore(e),this},build:function(){return n}}})},validate:function(e,t){var n=new Re;if(this.parsingError)return n.addError(g.parsingError),n;t=t||{};var r=e.requiredFieldsMask();for(var o in t)if(t.hasOwnProperty(o)){var i=e[o.toLowerCase()];if(!i){(g.options.errorOnUnknown?n.addError:n.addWarning).call(n,"unknown configuration field",o);continue}if(i.ignore)continue;
if(i.name!==o&&g.options.caseSensitive){n.addError("unknown configuration field (did you mean '"+i.name+"'?).",o),delete r[i.name];continue}var a=t[o];if(null==a){i.nullable||n.addError("value cannot be null, value of "+i.type+" type is expected.",o);continue}if(typeof a!==i.type){n.addError("value type mismatch. expected:"+i.type+" actual:"+typeof a,o);continue}if(i.required&&delete r[i.name],i.validator){var s=i.validator(a);s&&n.addError("value violation, "+s,o)}}for(var c in r)n.addError("missing required field",
c);return n},onParsingError:function(e){g.parsingError=e}};Re.prototype.addError=function(e,t){this.errors.push({field:t,reason:e})},Re.prototype.addWarning=function(e,t){this.warnings.push({field:t,reason:e})},Re.prototype.toString=function(){var e=function(e){for(var t="",n=0;n<e.length;n++)return t+"\n"+(e[n].field?"'"+e[n].field+"': ":"")+e[n].reason;return t},t="\n"+this.errors.length+" error(s):";return t+=e(this.errors),t+="\n"+this.warnings.length+" warning(s):",t+=e(this.warnings)};var y=
function(e,t,n,r,o){var i=function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()};e=e||{};for(var a=null!=n?n.split(t):[],s=0;s<a.length;s++){var c=a[s].split("\x3d");if(2==c.length){var l,u=i(c[0]),d=i(c[1]),p=e[u.toLowerCase()];p?void 0===(l=p.parser)&&(l=f):l=f;try{r[u]=l(d)}catch(e){o&&o("'"+u+"': "+e)}}}},b=Ne.newBuilder().ignore("injectionTime").ignore("visualName").ignore("detectionScriptURI").str("reportURI",!0).bool("recordMouseMoves",!1).bool("recordScrolls",
!1).bool("recordErrors",!1).bool("reportValidationErrors",!1).num("idleEventTimeInterval",!1).bool("botDetection",!1).bool("recordHovers",!1).bool("reportByPost",!1).num("maxPostReportSize",!1).num("reportPostInterval",!1).bool("postRetry",!1).bool("DOMBeaconImg",!1).num("reportInterval",!1).bool("reportAllOnUnload",!1).num("maxReportSize",!1).strarray("maskList",!1).strarray("maskClassList",!1).str("externalIdAttr",!1).bool("useIdSelectors",!1).bool("useNameInFormSelectors",!1).bool("preferNamesInFormSelectors",
!1).strarray("noIdSelectorsForClassNames",!1).strarray("noIdSelectorsForIDs",!1).strarray("noIdSelectorsForAttrs",!1).bool("SCIntegration",!1).strarray("SCIntegrationURLsContainList",!1).strarray("SCIntegrationKeyList",!1).bool("reportAllResourcesLoad",!1).bool("reportExternalResources",!1).strarray("ignoreReportResourcesByTagNames",!1).strarray("reportScriptURLContainList",!1).strarray("reportScriptKeyList",!1).strarray("reportImageURLContainList",!1).strarray("reportImageKeyList",!1).bool("debugMode",
!1).bool("traceMode",!1).bool("suppressMouseMovesDebug",!1).bool("visualNameDebug",!1).bool("timingMode",!1).num("maxReportsWithUnload",!1).num("minDragPixels",!1).bool("reportVisualNames",!1).num("titleCharsLimit",!1).num("maxTimeForIdleEvent",!1).num("validationValueForRenderTime",!1).bool("reportDebugInfo",!1).bool("supportNativeAutoComplete",!1).bool("recordEnterForInputs",!1).bool("recordTypingAll",!1).strarray("recordTypingForAttrs",!1).strarray("recordTypingForClasses",!1).strarray("recordTypingForIDs",
!1).num("mmMaxMovesWithUnload",!1).num("mmMaxMovesInEventNoTimes",!1).num("mmMaxMovesInEventWithTimes",!1).num("mmMinStallingMoveTime",!1).num("mmMaxInMemoryMoves",!1).bool("mmDebug",!1).num("mhDeepLevel",!1).num("mhMaxListSize",!1).num("mhMaxInMemeoryHovers",!1).bool("mhDebug",!1).bool("dependentScroll",!1).num("minStallingScrollTime",!1).bool("scrollDebug",!1).bool("clsDebug",!1).num("clsDebugCharsLimit",!1).num("clsDebugMaxReports",!1).bool("domRecordEnabled",!1).strarray("domNewPageTriggers",
!1).strarray("pageSnapshotTriggers",!1).num("domStartAfter",!1).num("domUpdateEveryWsMsgIn",!1).num("domRecordEnabledByChance",!1).str("domReportURI",!1).bool("domCompress",!1).strarray("domNewPageAjaxTriggers",!1).strarray("domIgnoredFormElements",!1).bool("semiDomEnabled",!1).strarray("ignorableElementIds",!1).bool("recordAjaxCallsAnyway",!1).bool("truncateEventsWithUnload",!1).bool("mmRecordTimes",!1).num("mmDiluteMinPixels",!1).bool("reportHybrid",!1).str("customTLD",!1).num("enabledByChance",
!1).strarray("domCloningBannedIds",!1).strarray("domCloningBannedClasses",!1).str("reportEncoding",!1).bool("reportCompress",!1).str("maskingMode",!1).strarray("reportAddUriParams",!1).bool("recordConsoleErrors",!1).strarray("domMaskContentById",!1).strarray("domMaskContentByClass",!1).strarray("domMaskOmitById",!1).strarray("domMaskOmitByClass",!1).bool("reportPreferSendBeaconAPI",!1).bool("domKeepComments",!1).str("domKeepScriptMatching",!1).num("domExpireSnapshotAfter",!1).bool("reportCorsForceSafelistedHeaders",
!1).bool("reportDisableCors",!1).strarray("reportCorsTakeNativeCookies",!1).strarray("maskCookies",!1).bool("reportToStorageAfterUnload",!1).bool("domOmitAfterUnload",!1).bool("duplicateIdCheck",!1).strarray("domPartialWhenLocationContains",!1).strarray("blackoutWhenLocationContains",!1).bool("iframesAutoInject",!1).bool("iframesAssignContainerId",!1).bool("reportIncludeReferrer",!1).str("mobileHybridId",!1).bool("domAssignGlassboxId",!1).bool("recordWebSocket",!1).bool("interceptAjax",!1).bool("ajaxDebug",
!1).bool("ajaxHashRecurrentUrls",!1).str("ajaxRecordMetadata",!1).str("ajaxRecordResponseBody",!1).str("ajaxRecordResponseHeaders",!1).str("ajaxRecordRequestBody",!1).str("ajaxRecordRequestHeaders",!1).bool("recordAjaxRequest",!1).bool("ajaxCaptureResponseHeaders",!1).num("ajaxCaptureResponseOnStatusGreater",!1).str("ajaxCaptureResponseContentWhenUrlMatches",!1).bool("ajaxCaptureFQDNOnly",!1).build();if(S.detectorScript){var _=S.detectorScript.getAttribute("data-clsdelim")||";",T=S.detectorScript.getAttribute("data-clsconfig");
T&&y(b,_,T,v,g.onParsingError)}var w,C,I="undefined"!=typeof _cls_config?_cls_config:"undefined"!=typeof _config?_config:{};for(x in I)I.hasOwnProperty(x)&&(v[x]=I[x]);if(void 0!==v.enabledByChance&&(S.disabled=!Me(v.enabledByChance,"recording")),!v.domRecordEnabled&&void 0!==a){var A=a(0,{chance:v.domRecordEnabledByChance,reportURI:v.domReportURI});for(var x in A)A.hasOwnProperty(x)&&(v[x]=A[x])}w=v,C=/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent),w.reportToStorageAfterUnload||
!C&&!function(){var e={IsIE:!1,TrueVersion:0,ActingVersion:0,CompatibilityMode:!1},t=navigator.userAgent.match(/Trident\/(\d+)/);t&&(e.IsIE=!0,e.TrueVersion=parseInt(t[1],10)+4);var n=navigator.userAgent.match(/MSIE (\d+)/);return n?(e.IsIE=!0,e.ActingVersion=parseInt(n[1])):e.ActingVersion=e.TrueVersion,e.IsIE&&0<e.TrueVersion&&0<e.ActingVersion&&(e.CompatibilityMode=e.TrueVersion!==e.ActingVersion),e}().CompatibilityMode||(w.reportToStorageAfterUnload=!0),function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;
var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,o=-1,i="",a=n.charCodeAt(0);++o<r;)0!=(t=n.charCodeAt(o))?i+=1<=t&&t<=31||127==t||0==o&&48<=t&&t<=57||1==o&&48<=t&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==o&&1==r&&45==t||!(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?"\\"+n.charAt(o):n.charAt(o):i+="\ufffd";return i};e.CSS||(e.CSS={}),e.CSS.escape=t}(window);var N=function(e,t){function c(e,t,n){n=
(n||0)-1;for(var r=e?e.length:0;++n<r;)if(e[n]===t)return n;return-1}function i(){return A.pop()||{a:"",b:null,c:"",k:null,configurable:!1,enumerable:!1,"false":!1,d:"",e:"",v:null,g:"","null":!1,number:null,z:null,push:null,h:null,string:null,i:"","true":!1,undefined:!1,j:!1,writable:!1}}function n(){}function d(e){e.length=0,I.length<N&&I.push(e)}function a(e){var t=e.k;t&&a(t),e.b=e.k=e.object=e.number=e.string=null,A.length<N&&A.push(e)}function l(){}function s(o,i,e){if("function"!=typeof o)return C;
if(void 0===i)return o;var t=o.__bindData__||pe.funcNames&&!o.name;if(void 0===t){var n=M&&J.call(o);pe.funcNames||!n||R.test(n)||(t=!0),(pe.funcNames||!t)&&(t=!M||M.test(n),fe(o,t))}if(!0!==t&&t&&1&t[1])return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)};case 4:return function(e,t,n,r){return o.call(i,e,t,n,r)}}return w(o,i)}function p(r,e,o,i,a,s){if(o&&void 0!==(u=o(r,e)))return!!u;
if(r===e)return 0!==r||1/r==1/e;if(r==r&&!(r&&V[typeof r]||e&&V[typeof e]))return!1;if(null==r||null==e)return r===e;var t=ee.call(r),n=ee.call(e);if(t==D&&(t=H),n==D&&(n=H),t!=n)return!1;switch(t){case U:case B:return+r==+e;case F:return r!=+r?e!=+e:0==r?1/r==1/e:r==+e;case j:case z:return r==e+""}if(!(n=t==L)){if(Q.call(r,"__wrapped__")||Q.call(e,"__wrapped__"))return p(r.__wrapped__||r,e.__wrapped__||e,o,i,a,s);if(t!=H)return!1;t=!pe.argsObject&&f(r)?Object:r.constructor;var c=!pe.argsObject&&
f(e)?Object:e.constructor;if(t!=c&&!(E(t)&&t instanceof t&&E(c)&&c instanceof c))return!1}for(c=!a,a||(a=I.pop()||[]),s||(s=I.pop()||[]),t=a.length;t--;)if(a[t]==r)return s[t]==e;var l=0,u=!0;if(a.push(r),s.push(e),n){if(t=r.length,l=e.length,!(u=l==r.length)&&!i)return u;for(;l--;)if(n=t,c=e[l],i)for(;n--&&!(u=p(r[n],c,o,i,a,s)););else if(!(u=p(r[l],c,o,i,a,s)))break;return u}return Ee(e,function(e,t,n){return Q.call(n,t)?(l++,u=Q.call(r,t)&&p(r[t],e,o,i,a,s)):void 0}),u&&!i&&Ee(r,function(e,t,n){return Q.call(n,
t)?u=-1<--l:void 0}),c&&(d(a),d(s)),u}function h(n,r,o,i,a,s){var c=1&r,l=2&r,u=4&r,d=8&r,p=16&r,f=32&r,m=n;if(!l&&!E(n))throw new TypeError;p&&!o.length&&(r&=-17,p=o=!1),f&&!i.length&&(r&=-33,f=i=!1);var e=n&&n.__bindData__;if(e)return!c||1&e[1]||(e[4]=a),!c&&1&e[1]&&(r|=8),!u||4&e[1]||(e[5]=s),p&&Z.apply(e[2]||(e[2]=[]),o),f&&Z.apply(e[3]||(e[3]=[]),i),e[1]|=r,h.apply(null,e);if(!c||l||u||f||!(pe.fastBind||re&&p))g=function(){var e=arguments,t=c?a:this;return(u||p||f)&&(e=le.call(e),p&&te.apply(e,
o),f&&Z.apply(e,i),u&&e.length<s)?(r|=16,h(n,d?r:-4&r,e,null,a,s)):(l&&(n=t[m]),this instanceof g?(t=v(n.prototype),y(e=n.apply(t,e))?e:t):n.apply(t,e))};else{if(p){var t=[a];Z.apply(t,o)}var g=p?re.apply(n,t):re.call(n,a)}return fe(g,le.call(arguments)),g}function r(){var e=i();e.h=O,e.b=e.c=e.g=e.i="",e.e="t",e.j=!0;for(var t,n=0;t=arguments[n];n++)for(var r in t)e[r]=t[r];n=e.a,e.d=/^[^,]+/.exec(n)[0],t=Function,n="return function("+n+"){",r="var n,t\x3d"+e.d+",E\x3d"+e.e+";if(!t)return E;"+e.i+
";",e.b?(r+="var u\x3dt.length;n\x3d-1;if("+e.b+"){",pe.unindexedChars&&(r+="if(s(t)){t\x3dt.split('')}"),r+="while(++n\x3cu){"+e.g+";}}else{"):pe.nonEnumArgs&&(r+="var u\x3dt.length;n\x3d-1;if(u\x26\x26p(t)){while(++n\x3cu){n+\x3d'';"+e.g+";}}else{"),pe.enumPrototypes&&(r+="var G\x3dtypeof t\x3d\x3d'function';"),pe.enumErrorProps&&(r+="var F\x3dt\x3d\x3d\x3dk||t instanceof Error;");var o=[];if(pe.enumPrototypes&&o.push('!(G\x26\x26n\x3d\x3d"prototype")'),pe.enumErrorProps&&o.push('!(F\x26\x26(n\x3d\x3d"message"||n\x3d\x3d"name"))'),
e.j&&e.f)r+="var C\x3d-1,D\x3dB[typeof t]\x26\x26v(t),u\x3dD?D.length:0;while(++C\x3cu){n\x3dD[C];",o.length&&(r+="if("+o.join("\x26\x26")+"){"),r+=e.g+";",o.length&&(r+="}"),r+="}";else if(r+="for(n in t){",e.j&&o.push("m.call(t, n)"),o.length&&(r+="if("+o.join("\x26\x26")+"){"),r+=e.g+";",o.length&&(r+="}"),r+="}",pe.nonEnumShadows){for(r+="if(t!\x3d\x3dA){var i\x3dt.constructor,r\x3dt\x3d\x3d\x3d(i\x26\x26i.prototype),f\x3dt\x3d\x3d\x3dJ?I:t\x3d\x3d\x3dk?j:L.call(t),x\x3dy[f];",k=0;k<7;k++)r+=
"n\x3d'"+e.h[k]+"';if((!(r\x26\x26x[n])\x26\x26m.call(t,n))",e.j||(r+="||(!x[n]\x26\x26t[n]!\x3d\x3dA[n])"),r+="){"+e.g+"}";r+="}"}return(e.b||pe.nonEnumArgs)&&(r+="}"),t=t("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",n+(r+=e.c+";return E")+"}"),a(e),t(s,P,X,Q,x,f,me,u,e.f,G,V,de,z,K,ee)}function v(e){return y(e)?oe(e):{}}function f(e){return!(!e||"object"!=typeof e)&&ee.call(e)==D}function E(e){return"function"==typeof e}function y(e){return!(!e||!V[typeof e])}function u(e){return"string"==typeof e||ee.call(e)==
z}function o(e,t,n){var r,o=-1,i=r=(r=l.indexOf)===T?c:r,a=e?e.length:0,s=!1;return n=(n<0?se(0,a+n):n)||0,me(e)?s=-1<i(e,t,n):"number"==typeof a?s=-1<(u(e)?e.indexOf(t,n):i(e,t,n)):ve(e,function(e){return++o<n?void 0:!(s=e===t)}),s}function m(e,r,t){var o=[];if(r=l.createCallback(r,t,3),me(e)){t=-1;for(var n=e.length;++t<n;){var i=e[t];r(i,t,e)&&o.push(i)}}else ve(e,function(e,t,n){r(e,t,n)&&o.push(e)});return o}function g(e,t,n){if(t&&void 0===n&&me(e)){n=-1;for(var r=e.length;++n<r&&!1!==t(e[n],
n,e););}else ve(e,t,n);return e}function b(e,r,t){var o=-1,n=e?e.length:0,i=Array("number"==typeof n?n:0);if(r=l.createCallback(r,t,3),me(e))for(;++o<n;)i[o]=r(e[o],o,e);else ve(e,function(e,t,n){i[++o]=r(e,t,n)});return i}function _(e,r,o,t){var i=arguments.length<3;if(r=s(r,t,4),me(e)){var n=-1,a=e.length;for(i&&(o=e[++n]);++n<a;)o=r(o,e[n],n,e)}else ve(e,function(e,t,n){o=i?(i=!1,e):r(o,e,t,n)});return o}function T(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=n<0?se(0,r+n):n||0}else if(n)return e[n=
S(e,t)]===t?n:-1;return c(e,t,n)}function S(e,t,n,r){var o=0,i=e?e.length:o;for(t=(n=n?l.createCallback(n,r,1):C)(t);o<i;)n(e[r=o+i>>>1])<t?o=r+1:i=r;return o}function w(e,t){return 2<arguments.length?h(e,17,le.call(arguments,2),null,t):h(e,1,null,null,t)}function C(e){return e}var I=[],A=[],x={},N=40,R=/^function[ \n\r\t]+\w/,M=(M=/\bthis\b/).test(function(){return this})&&M,O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),D="[object Arguments]",
L="[object Array]",U="[object Boolean]",B="[object Date]",P="[object Error]",F="[object Number]",H="[object Object]",j="[object RegExp]",z="[object String]",V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W=V[typeof e]&&e||this,q=[],X=Error.prototype,G=Object.prototype,K=String.prototype,Y=RegExp("^"+(G.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").replace(/valueOf|for [^\]]+/g,".+?")+"$"),J=Function.prototype.toString,Q=G.hasOwnProperty,Z=q.push,$=G.propertyIsEnumerable,
ee=G.toString,te=q.unshift,ne=function(){try{var e={},t=Y.test(t=Object.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),re=Y.test(re=ee.bind)&&re,oe=Y.test(oe=Object.create)&&oe,ie=Y.test(ie=Array.isArray)&&ie,ae=Y.test(ae=Object.keys)&&ae,se=Math.max,ce=Math.min,le=q.slice,ue=(W=Y.test(W.attachEvent),re&&!/\n|true/.test(re+W)),de={};de[L]=de[B]=de[F]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},de[U]=de[z]={constructor:!0,toString:!0,valueOf:!0},de[P]=de["[object Function]"]=
de[j]={constructor:!0,toString:!0},de[H]={constructor:!0},function(){for(var e=O.length;e--;){var t,n=O[e];for(t in de)Q.call(de,t)&&!Q.call(de[t],n)&&(de[t][n]=!1)}}();var pe=l.support={};!function(){var e=function(){this.x=1},t={"0":1,length:1},n=[];for(var r in e.prototype={valueOf:1,y:1},new e)n.push(r);for(r in arguments);pe.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),pe.argsClass=ee.call(arguments)==D,pe.enumErrorProps=$.call(X,"message")||$.call(X,"name"),pe.enumPrototypes=
$.call(e,"prototype"),pe.fastBind=re&&!ue,pe.funcNames="string"==typeof Function.name,pe.nonEnumArgs=0!=r,pe.nonEnumShadows=!/valueOf/.test(n),pe.spliceObjects=(q.splice.call(t,0,1),!t[0]),pe.unindexedChars="xx"!="x"[0]+Object("x")[0]}(1),oe||(v=function(e){if(y(e)){n.prototype=e;var t=new n;n.prototype=null}return t||{}});var fe=ne?function(e,t){var n=i();n.value=t,ne(e,"__bindData__",n),a(n)}:n;pe.argsClass||(f=function(e){return!(!e||"object"!=typeof e)&&Q.call(e,"callee")});var me=ie||function(e){return!(!e||
"object"!=typeof e)&&ee.call(e)==L},ge=r({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),he=ae?function(e){return y(e)?pe.enumPrototypes&&"function"==typeof e||pe.nonEnumArgs&&e.length&&f(e)?ge(e):ae(e):[]}:ge,ve=(W={i:"if(!B[typeof t])return E;"+(ie={a:"g,e,K",i:"e\x3de\x26\x26typeof K\x3d\x3d'undefined'?e:d(e,K,3)",b:"typeof u\x3d\x3d'number'",v:he,g:"if(e(t[n],n,g)\x3d\x3d\x3dfalse)return E"}).i,b:!1},r(ie)),Ee=r(ie,W,{j:!1});ie=r(ie,W);return E(/x/)&&(E=function(e){return"function"==
typeof e&&"[object Function]"==ee.call(e)}),l.bind=w,l.createCallback=function(r,e,t){var n=typeof r;if(null==r||"function"==n)return s(r,e,t);if("object"!=n)return function(e){return e[r]};var o=he(r),i=o[0],a=r[i];return 1!=o.length||a!=a||y(a)?function(e){for(var t=o.length,n=!1;t--&&(n=p(e[o[t]],r[o[t]],null,!0)););return n}:function(e){return e=e[i],a===e&&(0!==a||1/a==1/e)}},l.filter=m,l.forEach=g,l.forIn=Ee,l.forOwn=ie,l.keys=he,l.map=b,l.pluck=b,l.collect=b,l.each=g,l.select=m,l.contains=
o,l.identity=C,l.indexOf=T,l.isArguments=f,l.isArray=me,l.isFunction=E,l.isNumber=function(e){return"number"==typeof e||ee.call(e)==F},l.isObject=y,l.isString=u,l.isUndefined=function(e){return void 0===e},l.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?se(0,r+n):ce(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},l.reduce=_,l.sortedIndex=S,l.foldl=_,l.include=o,l.inject=_,l.last=function(e,t,n){var r=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var i=o;for(t=l.createCallback(t,
n,3);i--&&t(e[i],i,e);)r++}else if(null==(r=t)||n)return e?e[o-1]:void 0;for((t=se(0,o-r))||(t=0),(r=void 0)===r&&(r=e?e.length:0),n=-1,r=r-t||0,o=Array(r<0?0:r);++n<r;)o[n]=e[t+n];return o},l.VERSION="2.0.0",l}(this),R={MAX_DEPTH_THRESHOLD:20,tryGetCurrentDepth:function(e,t){var n=0,r=e;try{for(;r.parent!=r&&n<=this.MAX_DEPTH_THRESHOLD;)r=r.parent,n++}catch(e){return L.log("could not retrieve current window's depth (a CORS issue?) pageId:"+t+" error:"+e),-1}return n>this.MAX_DEPTH_THRESHOLD?(L.log("nested iframe level calculation exceeded maximal threshold ("+
this.MAX_DEPTH_THRESHOLD+")."),-1):n},isCrossOriginFrame:function(e,t){try{if(!t.contentWindow)return!1;var n=t.getAttribute("src");if(!n)return!1;var r=L.extractHostname(n);return!!r&&e.location.hostname!==r}catch(e){return!0}},isEmpty:function(e){return!e.contentDocument||!e.contentDocument.body.hasChildNodes()},bfsVisitFrames:function(e,t){try{for(var n,r=Array.prototype.concat.apply([],e.document.getElementsByTagName("iframe"));0<r.length;){n=r.shift();try{t(n)&&(r=Array.prototype.concat.apply(r,
n.contentDocument.getElementsByTagName("iframe")))}catch(e){util.log("error during BFS iframe scanning (ignoring, skipping any child frames). error:"+e)}}}catch(e){util.log("error during BFS iframe scanning: could not access iframes of target window's document. error:"+e)}}};ke.CONTAINER_ID_ATTRIBUTE="_gb_cid";var M,O,D=new function(e){var i={},a=[];(e=e||this).on=function(e,t,n){(i[e]=i[e]||[]).push([t,n])},e.off=function(e,t){e||(i={});for(var n=i[e]||a,r=n.length=t?n.length:0;r--;)t==n[r][0]&&
n.splice(r,1)},e.emit=function(e){for(var t,n=i[e]||a,r=0<n.length?n.slice(0,n.length):n,o=0;t=r[o++];)t[0].apply(t[1],a.slice.call(arguments,1))}},L={consoleTimingSupported:window.console&&window.console.time&&window.console.timeEnd&&window.console.timeStamp,hasNativeStartsWith:N.isFunction(String.prototype.startsWith),currentTimestamp:N.isFunction(Date.now)&&N.isNumber(Date.now())?Date.now:function(){return(new Date).getTime()},isElement:function(e){return"hasAttribute"in e},isDOMElement:function(e){return"object"==
typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},hasMutationObserver:function(){return"undefined"!=typeof MutationObserver||"undefined"!=typeof WebKitMutationObserver},isOldIE:function(){return!h.addEventListener},hasTouch:function(){return"ontouchstart"in window},isChromeDesktop:function(){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|Windows Phone|IEMobile|Opera Mini|Mobile|mobile|Tablet|CriOS/i.test(e),n=/Chrome/i.test(e);
return!t&&n},getAttributeForElement:function(e,t){return e&&L.isElement(e)?(e.hasAttribute(t.toLocaleLowerCase())?n=e.getAttribute(t.toLocaleLowerCase()):e.hasAttribute(t.toLocaleUpperCase())&&(n=e.getAttribute(t.toLocaleUpperCase())),n&&(n=L.trim(n)),n||null):null;var n},getElementId:function(e){return e&&e.id?N.isString(e.id)?e.id:e.getAttribute("id"):null},isDuplicateElementId:function(e){if(!v.duplicateIdCheck)return!1;try{return"querySelectorAll"in h&&1<h.querySelectorAll("[id\x3d'"+e+"']").length}catch(e){return!1}},
getMouseEnterTarget:function(){return"onmouseenter"in h?h:"onmouseenter"in window?window:h.body},hasTimingAPI:function(){return!N.isUndefined(window.performance)&&!N.isUndefined(window.performance.timing)},startsWith:function(e,t){return!(!N.isString(e)||!N.isString(t))&&(L.hasNativeStartsWith?e.startsWith(t):e.slice(0,t.length)===t)},truncateStr:function(e,t,n){var r=e;return e&&e.length>t&&(r=e.substr(0,t),n&&(r=r.concat("..."))),r},getCoordinate:function(e){var t=e.changedTouches||e.touches,n=
t&&0<t.length?t[0]:e,r=L.extractElementFromEvent(e);return L.isHybrid()||"HTML"===r.nodeName.toUpperCase()?new Ge(n.clientX,n.clientY):N.isUndefined(n.pageX)||N.isUndefined(n.pageY)?new Ge(e.clientX+h.body.scrollLeft+h.documentElement.scrollLeft,e.clientY+h.body.scrollTop+h.documentElement.scrollTop):new Ge(n.pageX,n.pageY)},getScrollTopLeft:function(){try{var e=null!==window.top&&window.top!==window.self?window.top:window;return{top:void 0!==e.pageYOffset?e.pageYOffset:(e.document.documentElement||
e.document.body.parentNode||e.document.body).scrollTop,left:void 0!==e.pageXOffset?e.pageXOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollLeft}}catch(e){return L.log("Failed getting scroll values: "+e.message,e),{top:0,left:0}}},getElementXYCoordinates:function(e){if(!e)return null;if(!("getBoundingClientRect"in e))return null;var t=e.getBoundingClientRect(),n=L.getScrollTopLeft();return new Ge(Math.round(t.left+n.left),Math.round(t.top+n.top))},isSameCoordinates:function(e,
t){return e.x===t.x&&e.y===t.y},isCoordinatesDistLargerThan:function(e,t,n){return Math.abs(e.x-t.x)>n||Math.abs(e.y-t.y)>n},getCurrentScrollReach:function(){try{var e=null!==window.top&&window.top!==window.self?window.top:window;return(void 0!==e.pageYOffset?e.pageYOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollTop)+(e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight)}catch(e){return L.log("Failed getting scroll reach: "+e.message,
e),0}},getWindowSize:function(){return N.isNumber(window.innerWidth)&&N.isNumber(window.innerHeight)?L.validateSize(window.innerWidth,window.innerHeight):!N.isUndefined(h.body)&&N.isNumber(h.body.offsetWidth)&&N.isNumber(h.body.offsetHeight)?L.validateSize(h.body.offsetWidth,h.body.offsetHeight):null},getScreenSize:function(){return L.validateSize(screen.width,screen.height)},validateSize:function(e,t){return N.isNumber(e)&&N.isNumber(t)?{width:e,height:t}:null},indexOfNode:function(e,t,n){for(var r=
n||0;r<e.length;r++)if(e[r]===t)return r;return-1},getLocationUrlSplitByHash:function(){var e=window.location.href,t=e.indexOf("#");return-1===t?{url:e,withoutHash:e,hash:null}:{url:e,withoutHash:e.slice(0,t),hash:e.slice(t+1,e.length)}},getHashFromUrl:function(e){var t=e.indexOf("#");return-1===t?"":e.slice(t+1,e.length)},stripHash:function(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)},getReferrerUrlWithoutHash:function(){var e=window.document.referrer;if(!e||0===e.length)return null;var t=
e.indexOf("#");return-1!==t?e.slice(0,t):e},encodeAsBase:function(e,t){return e.toString(t)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},addEventHandler:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventHandler:function(e,t,n){N.isUndefined(e.removeEventListener)?N.isUndefined(e.detachEvent)||e.detachEvent("on"+t,n):e.removeEventListener(t,
n,!0)},extractElementFromEvent:function(e){void 0===e&&(e=window.event);var t=e.target||e.srcElement;return null==t?null:3===t.nodeType?t.parentNode:t},eventDetectionTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",unload:"img",abort:"img",readystatechange:"XMLHttpRequest"},isEventSupported:function(e){var t="on"+e;if(t in window||t in window.document)return!0;var n=h.createElement(L.eventDetectionTagNames[t]||"div"),r=t in n;return r||(n.setAttribute(t,"return;"),
r=N.isFunction(n[t])),n=null,r||L.log(e+" is not supported."),r},isConsoleSupported:function(){return!N.isUndefined(window.console)&&N.isFunction(window.console.log)},getReason:function(e){return N.isString(e)?"("+e+")":"(not specified)"},hashcode:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},trim:function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()},log:function(){if(!N.isUndefined(v.debugMode)&&
v.debugMode){var e=Array.prototype.slice.call(arguments,0);if(e.unshift(L.currentTimestamp()),!0===W.page.frame&&e.push(" (in frame "+W.page.id+")"),L.isConsoleSupported())console.log.apply(console,e);else if(!N.isUndefined(window.console.log)){var t=e.join(" ");console.log(t)}}},trace:function(){v.traceMode&&L.log.apply(this,arguments)},time:function(e){v.timingMode&&L.consoleTimingSupported&&window.console.time(e)},timeEnd:function(e){v.timingMode&&L.consoleTimingSupported&&window.console.timeEnd(e)},
timeStamp:function(e){v.timingMode&&L.consoleTimingSupported&&window.console.timeStamp(e)},isMaskedElement:function(e){var t=L.getElementId(e);return"password"===e.type||N.contains(v.maskList,t)||e.hasAttribute(S.maskingAttribute)},extractDomain:function(e){return e?(-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]).split(":")[0]:null},hasOneOfClassNames:function(e,t){for(var n=" "+L.getClass(e)+" ",r=0;r<t.length;r++)if(-1<n.indexOf(" "+t[r]+" "))return!0;return!1},getClass:function(e){return e.getAttribute&&
e.getAttribute("class")||""},getClassList:function(e){var t=L.getClass(e);return t?t.split(" "):[]},hasClassName:function(e,t){return-1<(" "+L.getClass(e)+" ").indexOf(" "+t+" ")},getHybridType:function(){return"undefined"==typeof eyeViewHybridBridge?null:eyeViewHybridBridge.getHybridType()},isHybrid:function(){return"undefined"!=typeof eyeViewHybridBridge},isHybridAndroid:function(){return L.isHybrid()&&L.getHybridType()===eyeViewHybridBridge.HYBRID_ANDROID},isHybridIOS:function(){return L.isHybrid()&&
L.getHybridType()===eyeViewHybridBridge.HYBRID_IOS},immutableSet:function(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=!0;return e},DOMElement2Str:function(e){return e instanceof CharacterData?e.textContent:e.outerHTML},currentTimeStamp:function(){return(new Date).getTime()},isAttachedToDOM:function(e){for(;e;){if(e===h)return!0;e=e.parentNode}return!1},ensureProperty:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e,r=0;r<t.length;r++)n.hasOwnProperty(t[r])||(n[t[r]]=
{}),n=n[t[r]];return n},readCookie:function(e){var t,n,r=e+"\x3d",o=h.cookie.split(";");for(t=0;t<o.length;t++)if(0===(n=L.trim(o[t])).indexOf(r))return n.substring(r.length,n.length);return null},shallowExtend:function(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},extractHostname:(M=h.createElement("a"),function(e){return M.href=e,M.hostname}),toAbsoluteUrl:function(e,t){var n=e.createElement("a");
return n.href=t,n.href},bus:D};De.prototype.open=function(e,t){this._url=t,this.readyState=XMLHttpRequest.OPENED,this.onreadystatechange&&this.onreadystatechange()},De.prototype.send=function(e){var t;if(this.readyState=XMLHttpRequest.LOADING,this._contentType){var n={type:this._contentType};t=new Blob([e],n)}else t=e;this.status=navigator.sendBeacon(this._url,t)?200:De.BEACON_ERROR_STATUS,200!==this.status&&L.log("failed posting new beacon using sendBeacon API. payload:  contentType:"+this._contentType),
this.readyState=XMLHttpRequest.DONE,this.onreadystatechange&&this.onreadystatechange()},De.prototype.setRequestHeader=function(e,t){"Content-Type"===e&&(this._contentType=t)},De.canSend=(O=/chrome/.test(navigator.userAgent.toLowerCase()),function(e){return!(O&&e&&e.length>De.CHROME_PAYLOAD_LIMIT)}),De.isSupported=function(){return"function"==typeof navigator.sendBeacon},De.CHROME_PAYLOAD_LIMIT=61440,De.BEACON_ERROR_STATUS=400,Le.prototype.open=function(e,t){-1===t.indexOf("://")&&(t=location.protocol+
"//"+location.hostname+(t.startsWith("/")?"":"/")+t),this.xdr.open(e,t),this.readyState=XMLHttpRequest.OPENED,this.onreadystatechange&&this.onreadystatechange()},Le.prototype.send=function(e){this.xdr.send(e),this.readyState=XMLHttpRequest.LOADING,this.onreadystatechange&&this.onreadystatechange()},Le.prototype.setRequestHeader=function(){};var U=function(r){var o=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},
function(){return new ActiveXObject("Microsoft.XMLHTTP")}];void 0!==window.XDomainRequest&&/(msie 8\.0|msie 9\.0)/i.test(window.navigator.userAgent)&&o.unshift(function(){return new Le});var i=null,a=function(e){var t=e();return t.cls_own=!0,t};return{createXMLHTTPObject:function(e){if(r&&e&&De.isSupported()&&De.canSend(e))return new De;if(i)return a(i);var t,n;for(t=0;t<o.length;t++)try{return n=a(o[t]),i=o[t],n}catch(e){continue}return n}}}(v.reportPreferSendBeaconAPI);!function(e,t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(o),a=String.fromCharCode,n=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?a(192|t>>>6)+a(128|63&t):a(224|t>>>12&15)+a(128|t>>>6&63)+a(128|63&t)},r=function(e){return e.replace(/[^\x00-\x7F]/g,n)},s=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),2<=t?"\x3d":o.charAt(n>>>6&63),1<=t?"\x3d":o.charAt(63&
n)].join("")},c=e.btoa.bind(e)||function(e){return e.replace(/[\s\S]{1,3}/g,s)},l=function(e){return c(r(e))},u=function(e,t){return t?l(e).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}):l(e)},d=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}/g,p=function(e){return a(e.length<3?(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1):(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2))},f=function(e){return e.replace(d,p)},m=function(e){var t=e.length,n=t%4,r=(0<t?i[e.charAt(0)]<<18:0)|(1<
t?i[e.charAt(1)]<<12:0)|(2<t?i[e.charAt(2)]<<6:0)|(3<t?i[e.charAt(3)]:0),o=[a(r>>>16),a(r>>>8&255),a(255&r)];return o.length-=[0,0,2,1][n],o.join("")},g=e.atob.bind(e)||function(e){return e.replace(/[\s\S]{1,4}/g,m)},h=function(e){return t=e.replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""),f(g(t));var t};t.Base64={atob:g,btoa:c,fromBase64:h,toBase64:u,bytesToBase64:function(e){for(var t,n="",r=0;r<e.length;r+=3)t=(252&e[r])>>2,n+=o.charAt(t),t=(3&e[r])<<4,r+1<e.length?
(t|=(240&e[r+1])>>4,n+=o.charAt(t),t=(15&e[r+1])<<2,r+2<e.length?(t|=(192&e[r+2])>>6,n+=o.charAt(t),t=63&e[r+2],n+=o.charAt(t)):(n+=o.charAt(t),n+="\x3d")):(n+=o.charAt(t),n+="\x3d\x3d");return n},utob:r,encode:u,encodeURI:function(e){return u(e,!0)},btou:f,decode:h}}(window,L),Ue.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n).older=this.tail:this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size++},Ue.prototype.shift=function(){var e=
this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=E):this.head=E,e.newer=e.older=E,delete this._keymap[e.key]),e},Ue.prototype.get=function(e,t){var n=this._keymap[e];if(n!==E)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=E,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},Ue.prototype.find=function(e){return this._keymap[e]},Ue.prototype.set=function(e,t){var n,
r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},Ue.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" \x3c ");return e},S.dictionary={eventTypes:{change:0,document:2,mousedown:3,touchstart:4,touchend:5,focusout:6,blur:7,unload:9,submit:10,reset:11,mouseup:12,drag:13,scroll:14,popstate:15,keydown:16,keyup:17,keypress:18,timing:20,idle:21,ajaxRequest:22,formValidationError:23,hashchange:25,botDetection:26,mouseenter:27,
navigation:28,mousemove:29,error:30,thirdparty:31,custom:32,hover:33,thirdpartymap:34,performance:35,resource:36,clsdebug:37,resize:38,webSocketOpen:50,webSocketClose:51,webSocketError:52,webSocketFrame:53,pageSnapshot:91,pageUpdate:92,resourceContent:93,blackout:101,segmentChanged:102,titleChanged:103},elements:{DIV:0,SPAN:1,INPUT:2,FORM:3,SELECT:4,TEXTAREA:5,TABLE:6,TR:7,TD:8,IFRAME:9,TBODY:10,THEAD:11,LABEL:12},encodingTypes:{cd_number:0,cd_boolean:1,cd_string:2,cd_coordinate:3},performanceTimingEvents:{navigationStart:1,
redirectStart:2,fetchStart:4,domainLookupStart:5,connectStart:7,secureConnectionStart:8,requestStart:10,responseStart:13,domLoading:15,domContentLoadedEventStart:17,domComplete:19,loadEventStart:20,loadEventEnd:21},encode:function(e,t){var n=t[e];return n!==E?n:e},encodeEventType:function(e){return S.dictionary.encode(e,S.dictionary.eventTypes)},encodeNodeName:function(e){return S.dictionary.encode(e,S.dictionary.elements)},encodeEncodingType:function(e){return S.dictionary.encode(e,S.dictionary.encodingTypes)},
encodePerformanceTimingMeasurement:function(e){return S.dictionary.encode(e,S.dictionary.performanceTimingEvents)}},Be.MAX_ENTRIES=150,Be.DirectionType={BACK:1,FORWARD:2},Be.UrlType={FUlL_URL:1,HASH_ONLY:2},Pe.EVENTS={BlackoutEnter:"BlackoutEnter",BlackoutLeave:"BlackoutLeave"},Pe.ALWAYS_FALSE=function(){return!1};var B={severity:{ERROR:0,WARN:1,INFO:2,DEBUG:3},types:{GENERAL_ERR:{code:100,count:0},INVALID_TIMING_ERR:{code:101,count:0},TOP_WINDOW_SIZE_ERR:{code:102,count:0},WINDOW_SIZE_NOT_VALID_ERR:{code:103,
count:0},KEREN_ERR:{code:104,count:0}},currentDebugInfo:null,registerError:function(e,t){B.registerDebugInfo(B.severity.ERROR,e,t)},registerErrorAndLog:function(e,t){B.registerDebugInfoAndLog(B.severity.ERROR,e,t)},registerDebugInfoAndLog:function(e,t,n){B.registerDebugInfo(e,t,n),L.log(n)},registerDebugInfo:function(e,t,n){t.count++,null===B.currentDebugInfo&&(B.currentDebugInfo=new Fe(e,t.code,t.count,n))},getRegisteredDebugInfo:function(e){var t=B.currentDebugInfo;return null===t||N.isUndefined(t)?
null:(e&&B.clearDebugInfo(),t)},clearDebugInfo:function(){B.currentDebugInfo=null},setRegisteredDebugInfoOnEvent:function(e){if(null===e.getDebugInfo()||N.isUndefined(e.getDebugInfo())){var t=B.getRegisteredDebugInfo(!0);null!=t&&e.setDebugInfo(t)}},setErrorOnEvent:function(e,t,n){B.setDebugInfoOnEvent(e,B.severity.ERROR,t,n)},setErrorOnEventAndLog:function(e,t,n,r){B.setDebugInfoOnEvent(e,B.severity.ERROR,t,n),r?L.log(n,r):L.log(n)},setWarnOnEvent:function(e,t,n){B.setDebugInfoOnEvent(e,B.severity.WARN,
t,n)},setDebugInfoOnEvent:function(e,t,n,r){if(null===e||N.isUndefined(e))L.log("Failed setting debug on non-existing event");else{var o=new Fe(t,n.code,n.count,r);e.setDebugInfo(o)}}},P={specialChar:{tilda:"_clstil",asterisks:"_clsast",space:"_clsspc"},shouldEncode:S.encodeSelectors,getSelectorExpression:function(e,t,n){this.shouldEncode=void 0!==t?t:S.encodeSelectors,n=n||{useId:!0};var r=v.useIdSelectors&&n.useId;if(null===e||N.isUndefined(e)||!L.isElement(e))return S.encoding.rootSelector;if(e.name&&
v.preferNamesInFormSelectors&&this.hasFormAncestor(e))return this.getElementWithAttribute(e,"name");if(r){var o=L.getElementId(e);if(o&&!L.isDuplicateElementId(o)&&P.checkAllowUseId(e,o))return this.getElementNameWithId(e,!0)}if(e.name&&v.useNameInFormSelectors&&this.hasFormAncestor(e))return this.getElementWithAttribute(e,"name");for(var i=[this.getElementNameWithClasses(e)],a=e,s=this.shouldEncode?"*":"\x3e";a.parentNode&&!this.isRoot(a);)if(1===(a=a.parentNode).nodeType){var c=L.getElementId(a);
if(c&&r&&!L.isDuplicateElementId(c)&&P.checkAllowUseId(a,c))return this.addToHeadIfFound(i,this.getElementNameWithId(a,!1)),i.join(s);var l=this.getElementNameWithClasses(a);if(this.addToHeadIfFound(i,l),a===parent)return i.join(s)}return i.join(s)},getElementNameWithClasses:function(e){if(this.isRoot(e))return this.shouldEncode?S.encoding.rootSelector:"BODY";var t=this.encodeNodeName(e.nodeName),n=this.getSiblingIndex(e);if(null!==n)return this.encodeElementNameAndSiblingIndex(t,n);if(S.useClassesInSelectors){var r=
L.getClassList(e);if(0<r.length){for(var o=t,i=0;i<r.length;i++)o+="."+r[i];return o}}return t},getSiblingIndex:function(e){if(!e.parentNode)return null;var t=e.parentNode.childNodes;if(t.length<2)return null;for(var n=e.nodeName,r=[],o=0;o<t.length;o+=1)t[o].nodeName===n&&r.push(t[o]);if(r.length<2)return null;for(var i=0;i<r.length;i+=1)if(r[i]===e)return i;return null},getElementNameWithId:function(e,t){if(this.isRoot(e))return null;var n=L.getElementId(e);return(n&&-1!==n.indexOf("~")||-1!==n.indexOf("*")||
-1!==n.indexOf(" "))&&(n=this.replaceSpecialChars(n)),t?this.encodeNodeName(e.nodeName)+"#"+n:"#"+n},addToHeadIfFound:function(e,t){var n=typeof t;"string"!=n&&"number"!=n||e.unshift(t)},encodeElementNameAndSiblingIndex:function(e,t){var n=e;return this.shouldEncode||(n+=":eq"),n+"("+t+")"},encodeNodeName:function(e){return this.shouldEncode?S.dictionary.encodeNodeName(e):e},isRoot:function(e){var t=e.nodeName;return"HTML"===t||"BODY"===t},replaceSpecialChars:function(e){return e.replace(/~/g,this.specialChar.tilda).replace(/\*/g,
this.specialChar.asterisks).replace(/ /g,this.specialChar.space)},hasFormAncestor:function(e){for(var t=e.parentNode;null!==t;){if(void 0===t&&console.log("hasFormAncestor undefined node: ",e),"FORM"===t.nodeName)return!0;t=t.parentNode}return!1},getElementWithAttribute:function(e,t){var n="["+t+"\x3d"+e.getAttribute(t)+"]";return-1===n.indexOf("~")&&-1===n.indexOf("*")&&-1===n.indexOf(" ")||(n=this.replaceSpecialChars(n)),this.encodeNodeName(e.nodeName)+n},checkAllowUseId:function(e,t){if(0===v.noIdSelectorsForClassNames.length&&
0===v.noIdSelectorsForIDs.length&&0===v.noIdSelectorsForAttrs.length)return!0;var n,r=L.getClassList(e);for(n=0;n<v.noIdSelectorsForClassNames.length;n++)if(0<N.indexOf(r,v.noIdSelectorsForClassNames[n]))return!1;for(n=0;n<v.noIdSelectorsForAttrs.length;n++)if(e.hasAttribute(v.noIdSelectorsForAttrs[n]))return!1;for(n=0;n<v.noIdSelectorsForIDs.length;n++){var o=v.noIdSelectorsForIDs[n];if(o&&0<=t.indexOf(o))return!1}return!0}},F={shouldListenToLoadResources:function(){return!(!v.reportAllResourcesLoad&&
!v.reportExternalResources)||0<v.reportScriptURLContainList.length&&0<v.reportScriptKeyList.length||0<v.reportImageURLContainList.length&&0<v.reportImageKeyList.length},filterLoad:function(e){if(!e)return!0;var t=e.nodeName.toUpperCase();if("STYLE"===t)return!0;if(0<=N.indexOf(v.ignoreReportResourcesByTagNames,t))return!0;if("IFRAME"===t&&0<=e.src.indexOf("eyeviewevent"))return L.log("filtering hybrid iOS loading iframe event: ",e.src),!0;if(v.reportAllResourcesLoad)return!1;var n=e.src||e.href;return(!v.reportExternalResources||
!F.isExternalResource(n,e))&&("SCRIPT"===t&&0<v.reportScriptURLContainList.length?!F.isUrlToReport(n,v.reportScriptURLContainList):!("IMG"===t&&0<v.reportImageURLContainList.length)||!F.isUrlToReport(n,v.reportImageURLContainList))},interceptLoad:function(e){var t=e.element.nodeName,n=(W.addResource(t,e.value,e.timestamp).event=e).element.src||e.element.href;if(!n)return!1;if(0===n.indexOf("data:"))return!1;var r=null;if("SCRIPT"===t&&0<v.reportScriptURLContainList.length?F.isUrlToReport(n,v.reportScriptURLContainList)&&
(r=F.parseToKVMap(n,v.reportScriptKeyList)):"IMG"===t&&0<v.reportImageURLContainList.length&&F.isUrlToReport(n,v.reportImageURLContainList)&&(r=F.parseToKVMap(n,v.reportImageKeyList)),r){L.trace("intercepted thirdparty resource parameters map for url: "+n);var o={value:r};W.saveThirdPartyMapEvent(o)}return!!v.reportAllResourcesLoad||!(!v.reportExternalResources||!F.isExternalResource(n,e.element))},isUrlToReport:function(e,t){if(null==e)return!1;var n=e.indexOf("?");if(-1===n)return!1;e=e.substr(0,
n);for(var r=0;r<t.length;r++)if(0<=e.indexOf(t[r]))return!0;return!1},parseToKVMap:function(e,t){for(var n,r,o={},i=e.substring(e.indexOf("?")+1).split("\x26"),a=!1,s=0;s<i.length;s++){var c=i[s],l=c.indexOf("\x3d");try{if(n=decodeURIComponent(c.substr(0,l)),!N.contains(t,n))continue;r=decodeURIComponent(c.substr(l+1)),o[n]=r,a=!0}catch(e){L.log("Error in ResourceHandler: Failed parsing a key-value pair "+(n?"[key\x3d"+n+"]":"")+" : "+c,e)}}return a?o:null},isExternalResource:function(e,t){if(!e)return!1;
if(void 0!==t._cls_external_res)return t._cls_external_res;var n=window.location.hostname,r=L.extractDomain(e);return t._cls_external_res=r!==n,t._cls_external_res}},H={state:{currentlyEncodedPageEvent:null},compress:function(e){return L.pako.gzip(e)},encodePageDetails:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];return e.frame&&t(n,"t",e.frame?"f":"p"),t(n,"u",H.encodeHashCode(e.urlWithoutHash)),e.hash&&t(n,"h",L.Base64.encode(e.hash)),W.state.lastSizes.window=H.captureWindowSize(),
W.state.lastSizes.screen=H.captureScreenSize(),t(n,"s",H.encodeResolution(W.state.lastSizes.window)),t(n,"sc",H.encodeResolution(W.state.lastSizes.screen)),e.referrerWithoutHash&&t(n,"r",H.encodeHashCode(e.referrerWithoutHash)),S.reportBase64URLs&&t(n,"ub",L.Base64.encode(e.url)),n.join("*")},encodePageSnapshotData:function(e){var t="h",n=W.beaconEncoder.encodeSnapshotHtml(e.html);return n.compressed?t="hh":n.plain&&(t="p"),["sn_"+e.seq,"r_"+L.Base64.encode(e.referrer),"c_"+L.Base64.encode(e.cookie),
"ch_"+e.charset,t+"_"+n.encoded].join("*")},captureWindowSize:function(){return N.isNumber(window.innerWidth)&&N.isNumber(window.innerHeight)?H.validateSize(window.innerWidth,window.innerHeight,"[inner]"):!N.isUndefined(h.body)&&N.isNumber(h.body.offsetWidth)&&N.isNumber(h.body.offsetHeight)?H.validateSize(h.body.offsetWidth,h.body.offsetHeight,"[offset]"):null},captureScreenSize:function(){return H.validateSize(screen.width,screen.height,"[screen]")},validateSize:function(e,t,n){var r=N.isNumber(e)&&
N.isNumber(t);return r||B.setErrorOnEvent(H.state.currentlyEncodedPageEvent,B.types.WINDOW_SIZE_NOT_VALID_ERR,"Non valid values for window size for "+n+": x\x3d"+e+" y\x3d"+t),r?{width:e,height:t}:null},encodeResize:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"ws",H.encodeResolution(e.window)),t(n,"sc",H.encodeResolution(e.screen)),n.join("*")},encodeResolution:function(e){return null!==e&&N.isNumber(e.width)&&N.isNumber(e.height)?e.width+"x"+e.height:"x"},encodeTimings:function(e){return N.reduce(e,
function(e,t,n){var r="u_"+n+"*t_"+t.total;return N.isNumber(t.rendering)&&(r+="*r_"+t.rendering),N.isNumber(t.dns)&&(r+="*d_"+t.dns),N.isNumber(t.timeToFirstBuffer)&&(r+="*f_"+t.timeToFirstBuffer),N.isNumber(t.downloadTime)&&(r+="*w_"+t.downloadTime),N.isNumber(t.originalRenderTime)&&(r+="*o_"+t.originalRenderTime),N.isString(e)&&0<e.length?e+"**"+r:r},"")},encodePerformanceTimings:function(e){var t=e.perf.timing,n=e.perf.navigation,r=e.browserTime,o=function(e,t,n){N.isNumber(n)&&e.push(t+"_"+H.encodeNumber(n))},
i=[];for(var a in t)if(void 0!==S.dictionary.performanceTimingEvents[a])o(i,S.dictionary.encodePerformanceTimingMeasurement(a),t[a]);return n&&N.isNumber(n.type)&&o(i,"nt",n.type),n&&N.isNumber(n.redirectCount)&&o(i,"rc",n.redirectCount),r&&o(i,"bt",r),i.join("*")},encodeAjaxRequest:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];if(e.method&&t(n,"m",e.method),v.ajaxHashRecurrentUrls){var r=H.encodeHashCode(e.url),o=e.ajaxUrls.get(r);N.isUndefined(o)&&(e.ajaxUrls.set(r,e.url),
t(n,"u",L.Base64.encode(e.url))),t(n,"uh",r)}else t(n,"u",L.Base64.encode(e.url));return e.duration&&t(n,"d",H.encodeNumber(e.duration)),e.status&&t(n,"s",H.encodeNumber(e.status)),e.statusText&&t(n,"st",L.Base64.encode(e.statusText)),e.requestHeaders&&t(n,"rqh",L.Base64.encode(e.requestHeaders)),e.requestContent&&t(n,"rqc",L.Base64.encode(e.requestContent)),e.responseHeaders&&t(n,"rh",L.Base64.encode(e.responseHeaders)),e.responseContent&&t(n,"rc",L.Base64.encode(e.responseContent)),n.join("*")},
encodeResourceContent:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];if(!N.isUndefined(e.getUrl()))return t(n,"u",L.Base64.encode(e.getUrl())),e.getContentType()&&0<e.getContentType().length&&t(n,"t",L.Base64.encode(e.getContentType())),e.getContent()&&0<e.getContent().length&&(t(n,"dd",L.Base64.bytesToBase64(e.getContent())),e.setStatus(e.Status.SENT)),e.getError()&&0<e.getError().length&&(t(n,"er",L.Base64.encode(e.getError())),e.setStatus(e.Status.SENTERROR)),n.join("*")},
encodeWebSocketFrame:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"i",L.Base64.encode(e.id)),t(n,"d",H.encodeBoolean(e.direction)),e.isBinary()?t(n,"bp",L.Base64.bytesToBase64(new Uint8Array(e.payload))):t(n,"tp",L.Base64.encode(e.payload)),n.join("*")},encodeWebSocketSimpleEvent:function(e){return"i_"+L.Base64.encode(e.id)},encodeWebSocketCloseEvent:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];t(n,"i",L.Base64.encode(e.id));var r=e.event;
return t(n,"c",H.encodeNumber(r.code)),t(n,"r",L.Base64.encode(r.reason)),t(n,"w",H.encodeBoolean(r.wasClean)),n.join("*")},encodeCustomEvent:function(e){var t=function(e,t,n){N.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"n",L.Base64.encode(e.name)),t(n,"v",L.Base64.encode(e.val)),n.join("*")},encodeSegmentChanged:function(e){var t=[];return t.push("t_"+e.type),t.push("c_"+L.Base64.encode(e.current)),e.hint&&t.push("h_"+e.hint),e.last&&t.push("l_"+L.Base64.encode(e.last)),e.lastDwell&&t.push("ld_"+
H.encodeNumber(e.lastDwell)),t.join("*")},encodeKeyEvent:function(e){var t="";return e.unicode&&(t+=e.unicode),N.isUndefined(e.content)||(t+="_"+L.Base64.encode(e.content)),t},encodeClickDetails:function(e){return H.encodeCoordinate(e.start)+"*"+H.encodeCoordinate(e.end)+"*"+H.encodeNumber(e.duration)},encodeMouseMove:function(e){v.mmDebug&&L.log("encoding coordArr["+e.length+"]:"+JSON.stringify(e));for(var t=function(e,t,n,r){r=r||0;var o=v.mmRecordTimes?"_"+H.encodeNumber(r):"",i=Math.round(t),
a=Math.round(n);e.push(H.encodeNumber(i)+"_"+H.encodeNumber(a)+o)},n=[],r=0;r<e.length;r++){var o=e[r];t(n,o.x,o.y,o.t)}return n.join("*")},encodeHoverEvent:function(e){for(var t=[],n=[],r=e.length-1;0<=r;r--){var o=e[r];if(0<=n.indexOf(o))v.mhDebug&&L.log("encode hover skipping duplicate: ",o);else{var i=P.getSelectorExpression(o);if(t.push(i),n.push(o),n.length>=v.mhMaxListSize)break;v.mhDebug&&L.log("encoding hover selector: "+i,o)}}var a=t.join(" ");return v.mhDebug&&L.log("encoding total of ["+
t.length+"] hovers: "+a),a},encodeKVMap:function(e){var t,n,r,o=[];for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];t=o,n=i,r=a,N.isString(a)&&t.push(L.Base64.encode(n)+"_"+L.Base64.encode(r))}return o.join("*")},encodeNumber:function(e){if(N.isNumber(e))return L.encodeAsBase(e,S.encoding.numberBase);L.log("Trying to encode a non-number "+e)},encodeBoolean:function(e){return e?"1":"0"},encodeCoordinate:function(e){if(N.isNumber(e.x)&&N.isNumber(e.y)){var t=Math.round(e.x),n=Math.round(e.y);return H.encodeNumber(t)+
"_"+H.encodeNumber(n)}L.log("Trying to encode coordinate with non-numbers x,y : ("+e.x+","+e.y+")")},encodeCoordinate64:function(e){return L.Base64.encode(H.encodeCoordinate(e))},encodeString:function(e){return L.Base64.encode(e)},encodeHashCode:function(e){if(N.isString(e)){var t=L.hashcode(e);return H.encodeNumber(t)}L.log("Trying to encode hashCode of a non-string "+e)},encodeAndConcatenateEventsForReportCookie:function(e,t){return N.reduce(e,function(e,t){var n=H.encodeEventAsString(t);return N.isString(e)&&
0<e.length?e+S.encoding.delimiters.events+n:n},t)}};je.prototype.add=function(e,t){return this._updates.push({ref:t,update:e}),this},He.INITIAL_COMPRESSION_FACTOR=0.25,He.MINIMAL_COMPRESSION_FACTOR=0.05,eventEncodingUtils={compress:function(e){return L.pako.gzip(e)},encodeTimestamp:function(e){var t=e.timestamp;return N.isNumber(t)||(L.log("Missing event timestamp",e),t=L.currentTimestamp()),H.encodeNumber(t)},encodeEventType:function(e){return S.encodeEventTypes?S.dictionary.encodeEventType(e):e},
encodeExtraInfo:function(e){var t=e.extraInfo;if(N.isUndefined(t))return"";for(var n,r,o,i,a=[],s=Ye.prototype.extraInfoAttrs,c=0;c<s.length;c++){var l=s[c],u=t[l.name];N.isUndefined(u)||(n=a,r=l.encodeName,o=l.encodeFunc(u),i=l.encodeCode,N.isString(o)&&n.push(r+"."+i+"_"+o))}return a.join("*")},encodeDebugInfo:function(e){var t=e.debugInfo;if(N.isUndefined(t))return"-";var n=function(e,t,n){N.isUndefined(n)||e.push(t+"_"+n)},r=[];return n(r,"s",t.severity),n(r,"c",t.code),n(r,"i",t.count),t.msg&&
t.count<=3&&n(r,"m",H.encodeString(t.msg)),r.join("*")}},Ve.COMPRESSED_INDICATION_CHARSET="ISO-8859-15",Ve.MINIMAL_COMPRESSION_FACTOR=0.05,We.currentRef=function(){return h.location.protocol+"//"+h.location.host+h.location.pathname},qe.prototype.track=function(e){var t=!this.current||this.current.ofSameSegment(e);return this.last=this.current,this.current=e,t},qe.prototype.getCurrent=function(){return this.current};var j,z,V,W={env:S,config:v,utils:L,_:N,page:{timing:{}},bindings:{registered:[],unsupportedEventTypes:[]},
plugins:{},reports:{events:[],resources:[]},state:{loaded:!(qe.prototype.getLast=function(){return this.last||this.current}),clickStart:{},scrolling:{},unloading:!1,maxScrollReach:0,typableElementsLRUMap:new Ue(20),lastFocusData:{},mouseEnterReported:!1,hover:{hoverStartTimestamp:0,hoverElementList:[]},clsDebugCounter:0,lastSizes:{window:null,screen:null,dpr:window.devicePixelRatio}},touchDetected:!1,ajaxUrls:new Ue(20),historyManager:new Be(window,D,window.history),blackoutManager:new Pe(window,
D,v.blackoutWhenLocationContains),debugInfoHandler:B,zoomType:{IN:1,OUT:2},version:"local_dev",beaconEncoder:function(e,t,n){if("json"===n.reportEncoding)return new Ve(N,S,L,eventEncodingUtils,{reportDebugInfo:n.reportDebugInfo,compress:n.reportCompress,domCompress:n.domCompress,corsSafelisted:t&&n.reportCorsForceSafelistedHeaders});var r=/SamsungBrowser\/7/gi.test(e.userAgent);function o(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}return new ze(N,S,L,eventEncodingUtils,{reportDebugInfo:n.reportDebugInfo,
domCompress:n.domCompress,base64UriEncoder:r?function(e){return e.replace(/\+|=|\//gi,o)}:encodeURIComponent})}(navigator,!xe(h,v.reportURI),v),segmentManager:new function(i,a){var s,e,c=L.stripHash(i.location.href),l="",u={startedAt:L.currentTimestamp(),path:d("path"),hash:""};function d(e){return"hash"===e?i.location.hash:i.location.pathname}function r(e,t){var n=d(e);if(n!==u[e]){var r=L.currentTimestamp(),o={type:e,hint:t,current:n,last:u[e],lastDwell:r-u.startedAt};u.startedAt=r,u[e]=n,l=i.location.hash,
c=L.stripHash(i.location.href),s=e,a.emit("segmentChanged",o)}}e=Ye,Ye=function(){e.apply(this,arguments),this.subPage=l,this.referrer=c},a.on("navigation",function(e){var t;e.direction===Be.DirectionType.BACK?t="back":e.direction===Be.DirectionType.FORWARD&&(t="forward");var n="path";e.urlType===Be.UrlType.HASH_ONLY&&(n="hash"),r(n,t)}),a.on("init:loaded",function(){l=i.location.hash,c=L.stripHash(i.location.href),u.startedAt=L.currentTimestamp(),u.path=d("path"),i.location.hash&&r("hash","load")}),
this.createSegmentTracker=function(){return new qe},this.onUnload=function(){if(s){var e={type:s,hint:"unload",current:"",last:u.value,lastDwell:L.currentTimestamp()-u.startedAt};a.emit("segmentChanged",e)}}}(h,D),isCorsReporting:!xe(h,v.reportURI),initialize:function(e){if(W.version=e,L.log("Initializing Detector... ("+S.setup+" setup) VERSION:"+W.version),S.disabled)L.log("initialization cancelled: recording is DISABLED.");else{try{if(void 0!==b){var t=g.validate(b,v);if(0<t.errors.length)return void console.error("[EyeView-1401]: Detector configuration validation failure. validation report:"+
t);L.log("configuration fields validation report:"+t)}else L.log("Warning: configuration scheme not set, skipping configuration validation.")}catch(e){return void console.error("[EyeView-1402]: Error while validating Detector configuration:"+e+". Detector is DISABLED.")}try{W.setClientCookies(),W.checkSupportModeSession(),W.initializePageDetails(),W.registerPlugins(),D.on(Pe.EVENTS.BlackoutEnter,W.onBlackoutEnter),D.on(Pe.EVENTS.BlackoutLeave,W.onBlackoutLeave),void 0!==W.plugins.domRecordingPlugin&&
W.plugins.domRecordingPlugin.isSemiDomActivated()&&W.addDomReadyEventHandler(),W.updateScrollReach(),W.saveDocumentLoadEvent(L.currentTimestamp()),L.log("Extracted page details for "+W.page.id+" at "+W.page.urlWithoutHash),W.registerPreLoadEvents(),v.SCIntegration&&D.on("3rdpartymap:scReport",W.saveThirdPartyMapEvent),D.emit("init:preloaded");var n=window.document.readyState;L.log("readyState on initialization: "+n),!h.body||"complete"!==n&&"interactive"!==n?L.addEventHandler(window,"load",W.onLoad,
!1):W.onLoad()}catch(e){L.log("ERROR: while initializing detector. Exception: ",e.stack?e.stack:e.message),console.log("WARNING[EyeView-1302]: Failed initializing detector script - "+e.message),W.saveClsDebugErrorEvent("initialize",e)}}},onBlackoutEnter:function(e){var t=W.createEventObject("blackout",L.currentTimestamp(),null);t.value=e,W.saveEvent(t)},onBlackoutLeave:function(){W.savePageUpdate()},onLoad:function(){L.log("Post loading initialization... (readyState \x3d "+window.document.readyState+
")");var e=L.currentTimestamp();if(!W.state.loaded){L.time("onLoadInitialization"),W.documentEvent&&0<h.title.length&&(void 0===W.page.title||0===W.page.title.length)&&(W.page.title=W.getPageTitle(),W.documentEvent.setExtraInfo(Ye.prototype.VISUAL_NAME,W.page.title)),v.botDetection&&!L.hasTouch()&&G.init(),W.page.loadTimestamp=e,W.resolvePageLoadTime(W.page),v.reportValidationErrors&&D.on("jquery:validationError",W.saveValidationError),W.state.loaded=!0,D.emit("init:loaded"),W.registerPostLoadEvents();
var t=W.plugins.domRecordingPlugin;if(v.iframesAutoInject){var n=new ke(window,v,i,S.detectorScript,o,{assignContainerId:v.iframesAssignContainerId}),r=n.scanAndInjectIFrames(window,W.page.id);-1!==r&&L.log(r+" frames were auto-injected with detector script."),new rt(D,W.page.id,n,t?t.isStarted.bind(t):function(){return!1}),new Oe(D,o,window,t,ee),W.iframeInjector=n}else t&&new ot(h,D,t.getNodeCache(),t.isStarted.bind(t));t&&new mt(h,D),D.emit("init:post_binding"),L.timeEnd("onLoadInitialization")}},
registerPlugins:function(){N.forOwn(W.plugins,function(e,t){e.initialize(D)&&L.log("Registered plugin: "+t)})},registerPreLoadEvents:function(){var e=function(){return W.state.unloading},t=[{type:"beforeunload",interception:W.interceptUnload,target:window,logicalName:"unload",filter:e},{type:"pagehide",interception:W.interceptUnload,target:window,logicalName:"unload",filter:e},{type:"resize",valueEncoding:H.encodeResize,filter:W.filterResize,interception:W.interceptResize,target:window},{type:W.getChangeEventType(),
valueExtraction:W.extractElementValue,interception:W.interceptFocusLost,filter:W.filterNonChangableEventsElements,logicalName:"change",target:h},{type:"reset",target:h},{type:"submit",valueExtraction:W.extractElementSource,valueEncoding:H.encodeHashCode,target:h},{type:W.getFocusInEventType(),valueExtraction:W.extractElementValue,interception:W.interceptFocusIn,filter:W.filterNonTypableElements,target:h}];W.page.hasTouch?(t.push({type:"touchstart",interception:W.interceptClickStart,target:h}),t.push({type:L.isHybridAndroid()?
"touchmove":"touchend",interception:W.interceptClickEnd,valueEncoding:H.encodeClickDetails,target:h})):(t.push({type:S.mouseEvents.down,interception:W.interceptClickStart,target:h,logicalName:"mousedown"}),t.push({type:S.mouseEvents.up,interception:W.interceptClickEnd,valueEncoding:H.encodeClickDetails,target:h,logicalName:"mouseup"})),"blur"!==W.getChangeEventType()&&t.push({preload:!0,type:"blur",valueExtraction:W.extractElementValue,interception:W.interceptBlur,filter:W.filterNonTypableElements,
logicalName:"change",target:h}),F.shouldListenToLoadResources()&&t.push({type:"load",valueExtraction:W.extractElementSource,filter:F.filterLoad,interception:F.interceptLoad,target:h,logicalName:"resource"}),v.recordMouseMoves&&t.push({type:"mousemove",valueExtraction:W.extractMouseMoveValue,valueEncoding:H.encodeMouseMove,encodeValue:!1,interception:W.interceptMouseMove,dependent:!0,dontSendElement:!0,target:h}),v.recordHovers&&t.push({type:"mouseover",encodeValue:!1,filter:W.filterHovers,interception:W.interceptMouseOver,
valueEncoding:H.encodeHoverEvent,target:h}),v.recordScrolls&&t.push({type:"scroll",valueExtraction:W.extractScrollValue,valueEncoding:H.encodeCoordinate,filter:W.filterScrollElements,interception:W.interceptScroll,dependent:v.dependentScroll,target:h}),v.recordErrors&&t.push({type:"error",valueExtraction:W.extractErrorValue,interception:W.interceptError,target:window}),v.recordConsoleErrors&&function(e){if("object"==typeof console){var t,n=function(e,t){if("function"==typeof console[e]){var n=console[e];
console[e]=function(){var e=Array.prototype.slice.call(arguments);n.apply(console,e),t(e)}}};for(t in e)n(t,e[t])}}({error:W.onConsoleError});var n=L.getMouseEnterTarget();n!==h&&n!==window||t.push({type:"mouseenter",interception:W.interceptMouseEnter,target:n}),W.shouldListenToKeyEvents()&&(t.push({type:"keydown",interception:W.interceptKeyboard,valueEncoding:H.encodeKeyEvent,dependent:!0,target:h}),t.push({type:"keypress",interception:W.interceptKeyboard,valueEncoding:H.encodeKeyEvent,dependent:!0,
target:h})),v.recordWebSocket&&(D.on("websocket:open",W.eventSaver("webSocketOpen",H.encodeWebSocketSimpleEvent)),D.on("websocket:error",W.eventSaver("webSocketError",H.encodeWebSocketSimpleEvent)),D.on("websocket:close",W.eventSaver("webSocketClose",H.encodeWebSocketCloseEvent)),D.on("websocket:frame",W.saveWebSocketFrame)),v.domRecordEnabled&&(D.on("pageSnapshot:save",W.savePageSnapshotEvent),D.on("pageUpdate",W.savePageUpdate)),W.page.hasTimingAPI&&!v.recordAjaxCallsAnyway||(D.on("ajax:load",W.recordAjaxResource),
D.on("ajax:error",W.recordAjaxResource)),D.on("ajax:loadend",W.saveAjaxRequestEvent),D.on("segmentChanged",W.saveSegmentChangedEvent),D.on("titleChanged",W.saveTitleChanged),W.bindPageEvents(t)},registerPostLoadEvents:function(){var e=[];W.state.mouseEnterReported||L.getMouseEnterTarget()!==h.body||e.push({type:"mouseenter",interception:W.interceptMouseEnter,target:h.body}),0<e.length&&W.bindPageEvents(e)},bindPageEvents:function(e){L.time("bindPageEvents"),N.forEach(e,function(e){W.registerEventBinding(e)}),
L.log("Bound event types ("+W.bindings.registered.length+"): "+N.pluck(W.bindings.registered,"type")+(W.bindings.unsupportedEventTypes.length?" Unsupported event types: ["+W.bindings.unsupportedEventTypes.join(", ")+"].":"")),L.timeEnd("bindPageEvents")},registerEventBinding:function(t){var e=t.target||window.document.body;if(N.isUndefined(e)||null==e)L.log("Couldn't register '"+t.type+"' handler on a non-existing element.",t);else try{W.handleElementsEvents(e,t)}catch(e){L.log("Failed binding '"+
t.type+"'. Error: "+e.message,e),window.console&&console.error(e)}},handleElementsEvents:function(e,t){var n=t.type;if(N.contains(S.eventTypes,n))if(L.isEventSupported(n)){var r=W.createHandlerForResolvingAndReportingElements(t);L.addEventHandler(e,n,r,!0),W.bindings.registered.push({type:n,el:e,handler:r})}else W.bindings.unsupportedEventTypes.push(n)},createHandlerForResolvingAndReportingElements:function(t){return function(e){if(W.handleDOMEvent(e,t),"beforeunload"!==e.type)return!0}},handleDOMEvent:function(t,
e){try{if(t=t||window.event,!N.isUndefined(t._cls_handled)&&!0===t._cls_handled)return void L.log("WARN: handler already handled this event. skipping..",t);t._cls_handled=!0,L.time("handleDOMEvent_"+t.type);var n=L.extractElementFromEvent(t),r=L.getElementId(n);v.ignorableElementIds&&N.contains(v.ignorableElementIds,r)||W.handleEvent(t,n,e),L.timeEnd("handleDOMEvent_"+t.type)}catch(e){L.log("ERROR: while handling "+t.type+" DOM event ",t," Exception: ",e.stack?e.stack:e.message),W.saveClsDebugErrorEvent("handleDOMEvent",
e,"event type\x3d"+t.type)}},handleEvent:function(e,t,n){if(!N.isFunction(n.filter)||!n.filter(t,e)){var r=L.currentTimestamp(),o=e.type;L.time("handleEvent_"+o);var i=W.createEventObject(o,r,t);i.domEvent=e;var a=!N.isUndefined(n.dontSendElement)&&!0===n.dontSendElement;i.selectorExpression=a?S.encoding.rootSelector:P.getSelectorExpression(t)||S.encoding.rootSelector,i.binding=n,N.isUndefined(n.encodeValue)||!1!==n.encodeValue||(i.shouldEncodeValue=!1),N.isUndefined(n.dependent)||!0!==n.dependent||
(i.dependent=!0),W.extractValue(i,n),W.extractExternalId(i,t),W.interceptReport(i,n),v.reportVisualNames&&i.report&&!a&&W.extractVisualName(i,t),W.saveEvent(i),D.emit("event:"+i.type,i),L.timeEnd("handleEvent"+o)}},createEventObject:function(e,t,n){return new Ye(e,t,n,W.page.id)},onDomReady:function(){h.addEventListener?h.removeEventListener("DOMContentLoaded",W.onDomReady,!1):h.detachEvent("onreadystatechange",W.onDomReady),D.emit("init:domready")},addDomReadyEventHandler:function(){"complete"!==
h.readyState&&(h.addEventListener?window.addEventListener("DOMContentLoaded",W.onDomReady,!1):h.attachEvent("onreadystatechange",W.onDomReady))},extractValue:function(t,e){try{if(!N.isUndefined(e.valueExtraction)){var n=e.valueExtraction(t.domEvent,t.element);N.isUndefined(n)||null==n||(t.value=n)}}catch(e){L.log("Failed extracting value for event "+t.type+" - "+e.name+": "+e.message,e),"clsdebug"!==t.type&&W.saveClsDebugErrorEvent("extractValue",e,"event type\x3d"+t.type)}},extractExternalId:function(e,
t){if(t&&L.isElement(t)&&!N.isUndefined(v.externalIdAttr)&&N.isString(v.externalIdAttr)&&0<v.externalIdAttr.length){var n=L.getAttributeForElement(t,v.externalIdAttr);null!==n&&0<n.length&&e.setExtraInfo(Ye.prototype.EXTERNAL_ID,n)}},interceptReport:function(t,e){if(!N.isUndefined(e.interception))try{t.report=e.interception(t)}catch(e){L.log("Failed intercepting "+t.type+" event: "+e.message,e,t),"clsdebug"!==t.type&&W.saveClsDebugErrorEvent("interceptReport",e,"event type\x3d"+t.type)}},addEvent:function(e){W.config.debugMode&&
W.reports.events.push(e)},getFocusInEventType:function(){return L.isOldIE()?"focusin":"focus"},getChangeEventType:function(){return L.isOldIE()?"onfocusout"in h?"focusout":"blur":"change"},startFocusTiming:function(e){var t=L.currentTimestamp(),n=W.state.lastFocusData.startTime;W.state.lastFocusData={element:e,startTime:t,prevFocusStartTime:n}},endFocusTiming:function(e){if(W.state.lastFocusData.element===e){var t=L.currentTimestamp();W.state.lastFocusData.focusTime=t-W.state.lastFocusData.startTime}else L.trace("Cannot measure focus time because of element mismatch. ")},
filterNonTypableElements:function(e,t){return null===e||(W.isChangebleElement(e)&&("focus"===t.type||"focusin"===t.type?W.startFocusTiming(e):"blur"===t.type&&W.endFocusTiming(e)),!W.isTypableElement(e))},filterNonChangableEventsElements:function(e,t){return null===e||null===t||(W.isChangebleElement(e)&&W.endFocusTiming(e),"change"!==t.type&&!W.isChangebleElement(e))},interceptFocusIn:function(e){return W.checkTypedContentHasChangedAndUpdate(e),!1},interceptFocusLost:function(e){return null!==e&&
null!==e.element&&(W.state.lastFocusData.focusTime&&e.setExtraInfo(e.FOCUS_TIME_ATTR,W.state.lastFocusData.focusTime),!!W.isSelectableElement(e.element)||W.checkTypedContentHasChangedAndUpdate(e))},interceptBlur:function(e){return W.state.lastFocusData.focusTime&&e.setExtraInfo(e.FOCUS_TIME_ATTR,W.state.lastFocusData.focusTime),W.checkTypedContentHasChangedAndUpdate(e)},checkTypedContentHasChangedAndUpdate:function(e){var t="focus"===e.type||"focusin"===e.type,n="blur"===e.type||"focusout"===e.type,
r=e.selectorExpression,o=e.value;if(null===o||N.isUndefined(o))return!1;var i={text:o,markAutoComplete:!1},a=W.state.typableElementsLRUMap.set(r,i),s=N.isUndefined(a);if(t&&!s&&a.text!==o&&0<=o.toLocaleLowerCase().indexOf(a.text.toLocaleLowerCase())&&(i.markAutoComplete=!0),n&&!s&&a.markAutoComplete){var c=W.state.lastFocusData.prevFocusStartTime;if(!N.isUndefined(c)&&N.isNumber(c)&&W.state.lastFocusData.element===e.element){var l=L.currentTimestamp()-c;e.setExtraInfo(e.FOCUS_TIME_ATTR,l)}else L.log("Unable to compute total auto-complete time"),
e.setExtraInfo(e.FOCUS_TIME_ATTR,-1);return e.setExtraInfo(e.AUTO_COMPLETE_ATTR,!0),!0}return s||a.text!==o},isMouseEvent:function(e){return e===S.mouseEvents.down||e===S.mouseEvents.up},isTouchEvent:function(e){return"touchstart"===e||"touchend"===e||"touchmove"===e},interceptMouseEnter:function(e){if(W.state.mouseEnterReported)return!1;var t=L.getCoordinate(e.domEvent);return e.setExtraInfo(Ye.prototype.COORDINATE_ATTR,t),W.removeEventBinding("mouseenter"),W.state.mouseEnterReported=!0,W.page.hasTouch&&
!W.touchDetected&&L.isChromeDesktop()&&(W.switchTouchToMouse(),W.page.hasTouch=!1),!0},switchTouchToMouse:function(){L.log("Mouse Detected. Switch touch event to mouse events"),W.removeEventBinding("touchstart"),L.isHybridAndroid()?W.removeEventBinding("touchmove"):W.removeEventBinding("touchend");var e=[{type:S.mouseEvents.down,interception:W.interceptClickStart,target:h,logicalName:"mousedown"},{type:S.mouseEvents.up,interception:W.interceptClickEnd,valueEncoding:H.encodeClickDetails,target:h,logicalName:"mouseup"}];
W.bindPageEvents(e)},filterHovers:function(t,e){try{if("undefined"==typeof jQuery||N.isUndefined(jQuery)||N.isUndefined(jQuery._data))return!0;for(var n=t,r=1,o=N.isNumber(v.mhDeepLevel)?v.mhDeepLevel:1;null!==n&&n!==h.body&&r<=o;){var i=jQuery._data(n,"events");if(i&&i.mouseover&&0<i.mouseover.length)return v.mhDebug&&L.log("++ Hover adding element(level-"+r+") "+(n.id?n.id:""),n),W.addHoverElement(n),!0;r++,n=n.parentElement}}catch(e){L.log("Exception while extracting hover information for element : ",
t,e.message,e),W.saveClsDebugErrorEvent("filterHovers",e,"element\x3d"+(t?t.nodeName:"null"))}return!0},addHoverElement:function(e){W.state.hover.hoverElementList.length<v.mhMaxInMemeoryHovers?(W.state.hover.hoverElementList.push(e),W.state.hover.hoverStartTimestamp=L.currentTimestamp()):L.log("warn: exceed size of hover elements (\x3e100). skipping..")},cleanHoverElements:function(){v.mhDebug&&L.log("Hover cleaning"),W.state.hover.hoverElementList=[],W.state.hover.hoverStartTimestamp=0},filterResize:function(){return L.isOldIE()},
interceptResize:function(e){var t=L.getWindowSize(),n=L.getScreenSize(),r=!1;return null===t||null===W.state.lastSizes.window||W.state.lastSizes.window.width===t.width&&W.state.lastSizes.window.height===t.height||(W.state.lastSizes.window=t,r=!0),null===n||null===W.state.lastSizes.screen||W.state.lastSizes.screen.width===n.width&&W.state.lastSizes.screen.height===n.height||(W.state.lastSizes.screen=n,r=!0),window.devicePixelRatio!==W.state.lastSizes.dpr&&(window.devicePixelRatio>W.state.lastSizes.dpr?
e.setExtraInfo(e.ZOOM,W.zoomType.IN):e.setExtraInfo(e.ZOOM,W.zoomType.OUT),W.state.lastSizes.dpr=window.devicePixelRatio),e.value=W.state.lastSizes,r},interceptMouseOver:function(e){return!1},interceptClickStart:function(e){if(G.isActive()&&W.isMouseEvent(e.type)&&G.notifyMouseAction(e.domEvent),W.isTouchEvent(e.type)&&(W.touchDetected=!0),v.recordHovers&&W.saveHoverEvent(),W.state.clickStart=W.createClickDetailsObject(e),e.setExtraInfo(Ye.prototype.COORDINATE_ATTR,W.state.clickStart),!N.isUndefined(e.element)){var t=
L.getElementXYCoordinates(e.element);t&&e.setExtraInfo(Ye.prototype.SYNC_COORDINATE,t)}return L.isHybrid()&&e.addHybridActionDataItem("start",{x:W.state.clickStart.x,y:W.state.clickStart.y}),!0},interceptClickEnd:function(e){G.isActive()&&W.isMouseEvent(e.type)&&G.notifyMouseAction(e.domEvent);var t={start:W.state.clickStart,end:W.createClickDetailsObject(e)};if(!(N.isNumber(t.start.x)&&N.isNumber(t.start.y)))return L.log("Dragging event with no captured click start."),!1;var n=Math.abs(t.end.x-t.start.x)>
v.minDragPixels||Math.abs(t.end.y-t.start.y)>v.minDragPixels;if(n){e.type="drag",t.duration=t.start.timestamp?e.timestamp-t.start.timestamp:-1,e.value=t;var r=L.getElementXYCoordinates(t.start.elementObj);r&&e.setExtraInfo(Ye.prototype.SYNC_COORDINATE,r),L.isHybrid()&&(e.addHybridActionDataItem("start",{x:t.start.x,y:t.start.y}),e.addHybridActionDataItem("end",{x:t.end.x,y:t.end.y}))}return W.state.clickStart={},n},interceptError:function(e){return e.value&&0<e.value.length},interceptUnload:function(e){L.time("unload"),
L.log("Unloading..."),W.state.unloading=!0;var t=L.currentTimestamp();W.page.hasTimingAPI||X.set(S.cookies.referrer,H.encodeNumber(t)+"_"+L.Base64.encode(W.page.urlWithoutHash));var n=t-W.page.initializationTimestamp;return e.setExtraInfo(e.FOCUS_TIME_ATTR,n),e.setExtraInfo(e.SCROLL_REACH,Math.round(W.state.maxScrollReach)),W.segmentManager.onUnload(),L.timeEnd("unload"),!0},updateScrollReach:function(){W.state.maxScrollReach=Math.max(W.state.maxScrollReach,L.getCurrentScrollReach())},interceptScroll:function(e){return"#document"===
e.element.nodeName&&W.updateScrollReach(),!0},filterScrollElements:function(e,t){return!(null!=e&&"MARQUEE"!==e.nodeName)},interceptMouseMove:function(e){return e.lastSingleMoveTimestamp=e.timestamp,e.setExtraInfo(e.FOCUS_TIME_ATTR,0),!0},createClickDetailsObject:function(e){var t=L.getCoordinate(e.domEvent);return t.elementObj=e.element,t.el=e.selectorExpression,t.timestamp=e.timestamp,t},shouldListenToKeyEvents:function(){return v.recordEnterForInputs||W.recordAutoCompleteRelatedChars()},recordAutoCompleteRelatedChars:function(){return void 0===
W.acCharsSupport&&(W.acCharsSupport=v.recordTypingAll||v.supportNativeAutoComplete||v.recordTypingForAttrs&&0<v.recordTypingForAttrs.length||v.recordTypingForClasses&&0<v.recordTypingForClasses.length||v.recordTypingForIDs&&0<v.recordTypingForIDs.length),W.acCharsSupport},resolveKeyData:function(e){var t=e.domEvent,n=e.element.value,r=e.element,o=t.keyCode||t.charCode;e.value={unicode:o};var i=L.isMaskedElement(r);return"keypress"===e.type?13!==o&&8!==o&&"0"!==t.charCode&&(i?e.value={unicode:42}:
N.isUndefined(n)||null===n||(e.value.content=n+String.fromCharCode(o)),!0):"keydown"===e.type&&(38===o||40===o||13===o?(i||(e.value.content=e.element.value),!0):8===o&&!N.isUndefined(n)&&null!==n&&!i&&(e.value.content=0<n.length?n.substring(0,n.length-1):"",!0))},interceptKeyboard:function(e){var t=e.element;if(!(t&&("INPUT"===t.nodeName||"BUTTON"===t.nodeName)))return!1;var n,r=13===(e.domEvent.keyCode||e.domEvent.charCode);if(e.shouldEncodeValue=!1,r&&v.recordEnterForInputs)return W.resolveKeyData(e);
if(v.supportNativeAutoComplete&&(t.hasAttribute("autocomplete")||t.hasAttribute("aria-autocomplete")&&"none"!==t.getAttribute("aria-autocomplete")||t.hasAttribute("class")&&N.contains(t.getAttribute("class"),"autocomplete")))return W.resolveKeyData(e);if(v.recordTypingAll)return W.resolveKeyData(e);if(v.recordTypingForAttrs&&0<v.recordTypingForAttrs.length)for(n=0;n<v.recordTypingForAttrs.length;n++)if(t.hasAttribute(v.recordTypingForAttrs[n]))return W.resolveKeyData(e);if(t.hasAttribute("class")&&
v.recordTypingForClasses&&0<v.recordTypingForClasses.length)for(n=0;n<v.recordTypingForClasses.length;n++)if(N.contains(t.getAttribute("class"),v.recordTypingForClasses[n]))return W.resolveKeyData(e);var o=L.getElementId(t);if(o&&v.recordTypingForIDs&&0<v.recordTypingForIDs.length)for(n=0;n<v.recordTypingForIDs.length;n++)if(o===v.recordTypingForIDs[n])return W.resolveKeyData(e);return!1},recordAjaxResource:function(e){W.addResource("ajax",e.url,e.timestamp)},addResource:function(e,t,n){var r=new Xe(e,
t,n);return W.reports.resources.push(r),D.emit("timingResource",r),r},saveEvent:function(e){if(!W.blackoutManager.isUnderBlackout()){var t=W.renameEventType(e);if(W.addEvent(e),B.setRegisteredDebugInfoOnEvent(e),v.debugMode&&(e.report||v.traceMode)){var n=e.type===t?e.type:e.type+"("+t+")",r=!N.isUndefined(e.selectorExpression)&&e.selectorExpression!==S.encoding.rootSelector&&"#document"!==e.selectorExpression;W.shouldLog(e.type)&&L.log(n+(r?" -\x3e "+e.selectorExpression:"")+W.eventValueToString(e)+
(e.report?"":" [not reported]"),e)}e.report&&D.emit("saveEvent",e)}},shouldLog:function(e){return"mousemove"===e?!v.suppressMouseMovesDebug||v.mmDebug:"webSocketFrame"===e?v.wsDebug:"scroll"!==e||v.scrollDebug},renameEventType:function(e){var t=e.type;return N.isUndefined(e.binding)||N.isUndefined(e.binding.logicalName)||"drag"===e.type||(e.type=e.binding.logicalName),t},eventValueToString:function(e){var t=" {V\x3d"+(e.value||"NONE");if(e.extraInfo)for(var n in e.extraInfo)e.extraInfo.hasOwnProperty(n)&&
(t=t+","+n+"\x3d"+e.extraInfo[n]);return null===e.getDebugInfo()||N.isUndefined(e.getDebugInfo())||(t=t+",DI-"+e.getDebugInfo().code),t+="}"},saveDocumentLoadEvent:function(e){var t=W.createEventObject("document",e,null);t.value=W.page,t.binding={valueEncoding:H.encodePageDetails},t.shouldEncodeValue=!1,W.page.title=W.getPageTitle(),W.page.title&&t.setExtraInfo(Ye.prototype.VISUAL_NAME,W.page.title),t.setExtraInfo(Ye.prototype.WINDOW_DEPTH,R.tryGetCurrentDepth(window,W.page.id)),window._cls_container_id&&
t.setExtraInfo(Ye.prototype.CONTAINER_ID,window._cls_container_id),window._cls_parent_pageId&&t.setExtraInfo(Ye.prototype.PARENT_PAGE_ID,window._cls_parent_pageId),t.setExtraInfo(Ye.prototype.HISTORY_LENGTH,history.length),v.mobileHybridId&&t.setExtraInfo(Ye.prototype.MOBILE_HYBRID_ID,v.mobileHybridId),W.documentEvent=t,W.saveEvent(t),D.emit("event:document")},savePageUpdate:function(){var e=W.createEventObject("pageUpdate",L.currentTimestamp(),null);W.saveEvent(e)},onConsoleError:function(e){var t=
W.createEventObject("error",L.currentTimestamp(),null);t.value=e.join(" "),t.shouldEncodeValue=!0,W.saveEvent(t)},saveTitleChanged:function(){var e=W.createEventObject("titleChanged",L.currentTimestamp(),null);e.value=h.title,e.shouldEncodeValue=!0,W.saveEvent(e)},saveSegmentChangedEvent:function(e){var t=W.createEventObject("segmentChanged",L.currentTimestamp(),null);t.value=e,t.shouldEncodeValue=!1,t.binding={valueEncoding:H.encodeSegmentChanged},W.saveEvent(t)},savePageSnapshotEvent:function(e){var t=
W.createEventObject("pageSnapshot",L.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:H.encodePageSnapshotData},t.shouldEncodeValue=!1,W.saveEvent(t)},saveAjaxRequestEvent:function(e){var t=W.createEventObject("ajaxRequest",L.currentTimestamp(),null);e.ajaxUrls=W.ajaxUrls,t.value=e,t.element=e.lastFocusedElement,t.selectorExpression=P.getSelectorExpression(e.lastFocusedElement)||S.encoding.rootSelector,t.binding={valueEncoding:H.encodeAjaxRequest},t.shouldEncodeValue=!1,W.saveEvent(t)},
saveClsDebugErrorEvent:function(e,t,n){var r=W.formatClsDebugMessage(e,t,n);if(0!==r.length){var o=W.createEventObject("clsdebug",L.currentTimestamp(),null);o.value=r,W.saveEvent(o)}},formatClsDebugMessage:function(e,t,n){if(W.state.clsDebugCounter>=v.clsDebugMaxReports)return"";W.state.clsDebugCounter++;t.name,t.message;var r=t.name+": "+t.message+(t.stack?" - "+t.stack:"");return"CLS Error in "+e+" "+(n?"{"+n+"} ":"")+": "+(r=L.truncateStr(r,v.clsDebugCharsLimit,!0))},saveWebSocketFrame:function(e){var t=
W.createEventObject("webSocketFrame",L.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:H.encodeWebSocketFrame},t.shouldEncodeValue=!1,W.saveEvent(t)},eventSaver:function(n,r){return function(e){var t=W.createEventObject(n,L.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:r},t.shouldEncodeValue=!1,W.saveEvent(t)}},saveValidationError:function(e){var t=W.createEventObject("formValidationError",L.currentTimestamp(),null);t.element=e.element,t.value=e.message,t.selectorExpression=
e.selector,W.saveEvent(t)},saveHoverEvent:function(){var e=W.createEventObject("hover",W.state.hover.hoverStartTimestamp,null);0!==W.state.hover.hoverElementList.length?(v.mhDebug&&L.log("saving "+W.state.hover.hoverElementList.length+" hovers"),e.value=W.state.hover.hoverElementList,W.cleanHoverElements(),e.binding={valueEncoding:H.encodeHoverEvent},e.shouldEncodeValue=!1,W.saveEvent(e)):v.mhDebug&&L.log("no hovers to report")},saveCustomEvent:function(e){var t=W.createEventObject("custom",L.currentTimestamp(),
null);t.value=e,!N.isUndefined(e.domEl)&&L.isDOMElement(e.domEl)&&(t.element=e.domEl,t.selectorExpression=P.getSelectorExpression(e.domEl)||S.encoding.rootSelector),t.binding={valueEncoding:H.encodeCustomEvent},t.shouldEncodeValue=!1,W.saveEvent(t)},saveThirdPartyEvent:function(e){var t=W.createEventObject("thirdparty",L.currentTimestamp(),null);t.value=e.value,e.type&&t.setExtraInfo(Ye.prototype.TP_INTEGRATION_TYPE,e.type),e.element&&(t.element=e.element,t.selectorExpression=P.getSelectorExpression(e.element)||
S.encoding.rootSelector),W.saveEvent(t)},saveThirdPartyMapEvent:function(e){var t=W.createEventObject("thirdpartymap",L.currentTimestamp(),null);t.value=e.value,t.binding={valueEncoding:H.encodeKVMap},e.type&&t.setExtraInfo(Ye.prototype.TP_INTEGRATION_TYPE,e.type),e.element&&(t.element=e.element,t.selectorExpression=P.getSelectorExpression(e.element)||S.encoding.rootSelector),t.shouldEncodeValue=!1,W.saveEvent(t)},saveResourceDataEvent:function(e){var t=W.createEventObject("resourceContent",L.currentTimestamp(),
null);t.value=e,t.binding={valueEncoding:H.encodeResourceContent},t.shouldEncodeValue=!1,W.saveEvent(t)},initializePageDetails:function(){L.time("initializePageDetails");var e=W.page;e.initializationTimestamp=L.currentTimestamp(),e.id=window._cls_forced_pageId||L.uuid(),e.frame=window.self!=top,e.frame&&(e.referrerWithoutHash=L.getReferrerUrlWithoutHash());var t=L.getLocationUrlSplitByHash();e.url=t.url,e.urlWithoutHash=t.withoutHash,e.hash=t.hash,e.hasTouch=L.hasTouch(),e.hasTimingAPI=L.hasTimingAPI(),
e.title=W.getPageTitle(),L.timeEnd("initializePageDetails")},getPageTitle:function(){return L.truncateStr(h.title,v.titleCharsLimit,!0)},resolvePageLoadTime:function(e){if(e.hasTimingAPI)W.acquirePerformanceTiming();else{var t=X.get(S.cookies.referrer),n=h.referrer.replace(/#.*/,"");if(t){var r=t.split("_"),o=L.Base64.decode(r[1]);if(n===o){var i=parseInt(r[0],36);e.timing.total=e.loadTimestamp-i,W.saveTimingEvent({page:e.timing})}else L.log("Referrer does not match referrer stored in timing cookie: "+
n+" !\x3d "+o)}}},saveTimingEvent:function(e){var t=W.createEventObject("timing",L.currentTimestamp(),window.document);t.value=e,t.binding={valueEncoding:H.encodeTimings},W.page.title&&t.setExtraInfo(Ye.prototype.VISUAL_NAME,W.page.title),W.saveEvent(t)},savePerformanceEvent:function(e){var t=W.createEventObject("performance",L.currentTimestamp(),window.document);window.performance&&window.performance.timing&&(t.value={perf:window.performance,browserTime:e},t.binding={valueEncoding:H.encodePerformanceTimings},
W.page.title&&t.setExtraInfo(Ye.prototype.VISUAL_NAME,W.page.title),t.shouldEncodeValue=!1,W.saveEvent(t))},acquirePerformanceTiming:function(){if(0===window.performance.timing.loadEventEnd)window.setTimeout(W.acquirePerformanceTiming,300);else{var e=L.currentTimestamp()-W.page.initializationTimestamp;W.savePerformanceEvent(e)}},setClientCookies:function(){var e=W.setVisitorCookie();W.setClientSessionCookie(e)},setVisitorCookie:function(){var e=X.get(S.cookies.visitor);if(N.isUndefined(e)){var t=
L.uuid();return X.setPersistent(S.cookies.visitor,t),L.log("Set cookie with visitor ID: "+t),!0}return!1},setClientSessionCookie:function(e){var t=X.get(S.cookies.session);if(N.isUndefined(t)){var n=L.uuid()+":"+(e?"0":"1");X.set(S.cookies.session,n),L.log("Set cookie with session ID: "+n)}},registerPlugin:function(e,t){W.plugins[e]=t},removeEventBinding:function(e){for(var t=-1,n=0;n<W.bindings.registered.length;n++){var r=W.bindings.registered[n];r.type===e&&(L.removeEventHandler(r.el,e,r.handler),
t=n)}0<=t&&W.bindings.registered.splice(t,1)},removeBindings:function(){N.forEach(W.bindings.registered,function(e){L.removeEventHandler(e.el,e.type,e.handler)}),W.bindings.registered=[],W.bindings.unsupportedEventTypes=[],L.log("Cleared detector bindings.")},getEncoder:function(){return H},supportModeOn:function(e){e=e||!1,W.applySupportMode(),e&&X.set(S.cookies.supportMode,1)},isSupportModeSession:function(){return void 0!==X.get(S.cookies.supportMode)},checkSupportModeSession:function(){W.isSupportModeSession()&&
W.applySupportMode()},applySupportMode:function(){v.reportAllOnUnload=!1},tryAttachSnapshotToEvent:(z=!1,V=-1,function(e){void 0===j&&(j=W.plugins.domRecordingPlugin||null),j&&v.domRecordEnabled&&!j.isAborted()&&(-1!==v.domExpireSnapshotAfter&&"pageSnapshot"!==e.type&&-1!==V&&e.timestamp-V>v.domExpireSnapshotAfter&&j.reset(),(z=z||"pageUpdate"===e.type||"mousedown"===e.type||"touchstart"===e.type||"drag"===e.type||"keydown"===e.type||"unload"===e.type)&&-1!==S.snapshotApplicableEventType.indexOf(e.type)&&
(e.domSnapshot=j.getDomSnapshot())),"pageSnapshot"!==e.type&&(V=e.timestamp)})};Xe.prototype.toString=function(){return this.url},Ge.prototype.toString=function(){return"("+this.x+","+this.y+")"};var q={inMemoryMovesCounter:0,notifyEventsFlush:function(){q.inMemoryMovesCounter=0},hasDomUpdate:function(e){return e.domSnapshot&&e.domSnapshot.domChanges},diluteEvents:function(e,t){var n=N.last(e);if(!N.isUndefined(n)){if("resize"===t.type)return"resize"===n.type&&q.removeEventToReport(e,n),!0;if("scroll"===
t.type){if("scroll"===n.type||W.page.hasTouch&&"drag"===n.type)return t.timestamp-n.timestamp>v.minStallingScrollTime||(t.selectorExpression=n.selectorExpression,q.removeEventToReport(e,n),v.scrollDebug&&L.trace("Diluted "+n.type+" event:",n)),!0;if("mousemove"===n.type&&1===n.value.length&&2<=e.length){var r=e[e.length-2];if("scroll"===r.type){if(t.timestamp-r.timestamp>v.minStallingScrollTime)return!0;t.selectorExpression=r.selectorExpression,q.removeEventToReport(e,n),q.removeEventToReport(e,r),
v.scrollDebug&&L.trace("Diluted scroll \x26 mousemove event (mousewheel rolling)"),q.inMemoryMovesCounter--}}return!0}if("mousemove"===t.type&&"mousemove"===n.type){var o=v.reportByPost?3E3:v.mmMaxMovesInEventWithTimes,i=v.reportByPost?3E3:v.mmMaxMovesInEventNoTimes;return v.mmRecordTimes&&n.value.length>=o||!v.mmRecordTimes&&n.value.length>=i?(v.mmDebug&&L.log("Too much moves in an event: "+n.value.length+". Starting a new move event."),q.inMemoryMovesCounter++,!0):!N.isUndefined(v.mmMinStallingMoveTime)&&
t.timestamp-n.lastSingleMoveTimestamp>v.mmMinStallingMoveTime?(v.mmDebug&&L.log("Identified mouse move stalling: "+(t.timestamp-n.lastSingleMoveTimestamp)+" ms. Starting a new move event."),q.inMemoryMovesCounter++,!0):q.checkExceededInMemoryMoves()?(v.mmDebug&&L.log("Exceeded in memory mouse moves ("+v.mmMaxInMemoryMoves+") ignoring..."),!1):(q.removeEventToReport(e,n),q.diluteMoveEvents(n,t)&&q.inMemoryMovesCounter++,!0)}}return"mousemove"===t.type&&q.inMemoryMovesCounter++,!0},removeEventToReport:function(e,
t){q.hasDomUpdate(t)||e.splice(N.indexOf(e,t),1)},checkExceededInMemoryMoves:function(){var e=v.reportByPost?3E3:v.mmMaxInMemoryMoves;return q.inMemoryMovesCounter>=e},diluteMoveEvents:function(e,t){var n=N.last(e.value),r=t.value[0],o=t.timestamp-e.lastSingleMoveTimestamp,i=e.getExtraInfo(e.FOCUS_TIME_ATTR);return Math.abs(n.x-r.x)>v.mmDiluteMinPixels||Math.abs(n.y-r.y)>v.mmDiluteMinPixels?(i+=r.t=o,t.setExtraInfo(t.FOCUS_TIME_ATTR,i),t.timestamp=e.timestamp,e.value.push(r),t.value=e.value,v.mmDebug&&
L.log("updated mousemove value"+t.value),!0):(t.setExtraInfo(t.FOCUS_TIME_ATTR,i),t.timestamp=e.timestamp,t.value=e.value,t.lastSingleMoveTimestamp=e.lastSingleMoveTimestamp,v.mmDebug&&L.log("Diluting mousemove less than "+v.mmDiluteMinPixels+" pixels: "+r),!1)},truncateEventsForUnload:function(e){for(var t=[],n=v.mmMaxMovesWithUnload,r=0,o=!1,i=0;i<e.length;i++){var a=e[i];if("mousemove"===a.type){if(r>=v.mmMaxMovesWithUnload){L.trace(v.mmMaxMovesWithUnload+" moves limit exceeded. dropping mousemove event from unload report... ("+
r+" moves dropped)"),o=!0;continue}var s=a.value.length,c=q.truncateMouseMoveEvent(a,n-r);r+=c,c<s&&(o=!0)}"unload"===a.type&&o&&a.setExtraInfo(a.MOVES_TRUNCATED,!0),t.push(a)}return t},truncateMouseMoveEvent:function(e,t){var n=e.value.length;return n<t?n:(L.trace("truncating mousemove on unload ("+n+" \x3e "+t+" moves)"),e.value=e.value.slice(0,t),t)}},X={TLDs:["ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","bd","be","bf",
"bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","com","coop","cr","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs",
"jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","net","nf","ng","ni","nl","no","np","nr","nu","nz","om","org","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn",
"so","sr","st","su","sv","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xxx","ye","yt","za","zm","zw","servizi"],defaults:{path:"/"},get:function(e){var t=h.cookie;return t!==X._cacheString&&X._populateCache(t),X._cache[e]},set:function(e,t,n){var r={path:n&&n.path||X.defaults.path,domain:n&&n.domain||X.getDefaultDomain(),secure:n&&void 0!==n.secure?n.secure:X.defaults.secure,
expires:n&&void 0!==n.expires?n.expires:X.defaults.expires};void 0===t&&(r.expires=-1,t=""),r.expires=X.transformExpiresParameterToStandardForm(r.expires);var o=encodeURIComponent(e)+"\x3d"+(t+"").replace(/[^!#-+\--:<-\[\]-~]/g,encodeURIComponent);o+=r.path?";path\x3d"+r.path:"",o+=r.domain?";domain\x3d"+r.domain:"",o+=r.expires?";expires\x3d"+r.expires.toGMTString():"",o+=r.secure?";secure":"",h.cookie=o},expire:function(e,t){return X.set(e,E,t)},transformExpiresParameterToStandardForm:function(e){switch(typeof e){case "number":return new Date((new Date).getTime()+
1E3*e);case "string":return new Date(e)}return e},setPersistent:function(e,t,n){var r={expires:n=n||15768E4};X.set(e,t,r)},isClarisiteCookieKey:function(e){for(var t in S.cookies)if(S.cookies.hasOwnProperty(t)&&S.cookies[t]===e)return!0;return!1},_populateCache:function(e){X._cache={},X._cacheString=e;for(var t=X._cacheString.split("; "),n=0;n<t.length;n++){var r,o,i=t[n],a=i.indexOf("\x3d");try{if(r=decodeURIComponent(i.substr(0,a)),!X.isClarisiteCookieKey(r))continue;o=decodeURIComponent(i.substr(a+
1))}catch(e){L.log("Error: Failed decoding a cookie "+(r?"[key\x3d"+r+"]":"")+" from document.cookie: "+i,e);continue}X._cache[r]===E&&(X._cache[r]=o)}},getDefaultDomain:function(){return N.isString(X.defaults.domain)||(X.defaults.domain=X.constructCookiesTopLevelDomain(),L.log("Set default cookie domain to: "+X.defaults.domain)),X.defaults.domain},validateTLD:function(e,t){var n=t.indexOf(e);return-1===n||n+e.length!==t.length?(L.log("invalid TLD: hostname suffix mismatch. TLD:"+e),!1):!(1<t.split(".").length-
e.split(".").length)||(L.log("invalid TLD: hostname segment count is larger by more than one. TLD:"+e),!1)},constructCookiesTopLevelDomain:function(){var e=v.customTLD||X.resolveTopLevelDomain(window.location.host);return e&&"localhost"!==e&&X.validateTLD(e,window.location.host)?"."+e:null},resolveTopLevelDomain:function(e){var t=e.indexOf(":");-1!==t&&(e=e.slice(0,t));var n=e.split(".");"www"===n[0]&&"com"!==n[1]&&n.shift();for(var r,o=n.length,i=o,a=n[o-1].length,s=[];r=n[--i];)if(s.unshift(r),
0===i||i<o-2||r.length<a||N.indexOf(X.TLDs,r,!0)<0)return s.join(".");return L.log("Failed resolving top level domain for host: "+e),null}};Ke.prototype.get=function(e){return this.map[e]},Ke.prototype.set=function(e,t){this.map[e]=t,this.writeToCookie()},Ke.prototype.toMap=function(e){if(N.isUndefined(e))return{};for(var t=e.split(";"),n=0;n<t.length;n++){var r=t[n].split(":");2!==r.length?L.log("Bad format in parsing cookie string: "+e):this.set(r[0],r[1])}return this.map},Ke.prototype.toString=
function(){var e="";for(var t in this.map)this.map.hasOwnProperty(t)&&(e+=(0===e.length?"":";")+t+":"+this.map[t]);return e},Ke.prototype.readFromCookie=function(){return this.toMap(X.get(this.cookieName))};var G={BT:{CLICKS_WITH_NO_MOUSE_MOVES:{code:"1",active:!0},NOT_TRUSTED_MOUSEEVENT:{code:"3",active:!0},INVALID_NAVIGATION_API_VALUES:{code:"4",active:!0},MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES:{code:"5",active:!0}},HU:{MANY_MOUSE_MOVES_BETWEEN_CLICKS:{code:"-1",active:!0}},mouseMoveOccurred:!(Ke.prototype.writeToCookie=
function(){X.set(this.cookieName,this.toString())}),mouseEnterOccurred:!1,mouseDownOccurred:!1,lastMouseDownCoordinate:null,firstMoveCoordinate:null,firstMoveTimestamp:0,mouseMoveClickAllowedTimeDiff:100,mouseMovesCounter:0,detected:{robot:!1,human:!1},active:!1,session:{map:new Ke(S.cookies.robot),names:{DETECT:"d",NON_HUMAN_COUNT:"nh"}},init:function(){if(G.isSessionDetected()){var e=G.isSessionRobotDetected();L.log("Session was already detected as: "+(e?"BOT":"HUMAN"))}else G.active=!0,G.createMouseHandlers()},
stopDetection:function(){G.removeAllHandlers(),G.active=!1},isActive:function(){return G.active},createMouseHandlers:function(){L.addEventHandler(h.body,"mousemove",G.mouseMoveHandler,!0),L.addEventHandler(h.body,"click",G.mouseClickHandler,!0)},mouseMoveHandler:function(e){return G.mouseMoveOccurred||(G.firstMoveCoordinate=L.getCoordinate(e),G.firstMoveTimestamp=L.currentTimestamp()),G.mouseMoveOccurred=!0,G.mouseDownOccurred&&G.mouseMovesCounter++,!0},mouseEnterHandler:function(){return G.mouseEnterOccurred=
!0,G.removeMouseHandler("mouseenter",G.mouseEnterHandler),!0},mouseClickHandler:function(e){return G.notifyMouseAction(e),!0},removeAllHandlers:function(){G.removeMouseHandler("mousemove",G.mouseMoveHandler),G.removeMouseHandler("click",G.mouseClickHandler)},removeMouseHandler:function(t,e){try{L.removeEventHandler(h.body,t,e)}catch(e){L.log("BotDetector failed to remove "+t+" listener. "+e.message(),e)}},checkTrusted:function(e){G.BT.NOT_TRUSTED_MOUSEEVENT.active&&"isTrusted"in e&&!1===e.isTrusted&&
G.robotDetected(G.BT.NOT_TRUSTED_MOUSEEVENT)},checkMouseMovesBetweenClicks:function(e){if(e.type===S.mouseEvents.down){G.mouseDownOccurred=!0;var t=L.getCoordinate(e);null!==G.lastMouseDownCoordinate?G.HU.MANY_MOUSE_MOVES_BETWEEN_CLICKS.active&&!L.isSameCoordinates(t,G.lastMouseDownCoordinate)?10<=G.mouseMovesCounter&&G.humanDetected(G.HU.MANY_MOUSE_MOVES_BETWEEN_CLICKS):G.BT.CLICKS_WITH_NO_MOUSE_MOVES.active&&L.isCoordinatesDistLargerThan(t,G.lastMouseDownCoordinate,10)&&0===G.mouseMovesCounter&&
G.robotDetected(G.BT.CLICKS_WITH_NO_MOUSE_MOVES):G.mouseMoveOccurred&&G.checkDifferentCoordinatesAndTimes(e),G.mouseMovesCounter=0,G.lastMouseDownCoordinate=t}},checkDifferentCoordinatesAndTimes:function(e){if(G.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES.active){var t=L.getCoordinate(e);if(null!==G.firstMoveCoordinate&&L.isSameCoordinates(t,G.firstMoveCoordinate)&&L.currentTimestamp()-G.firstMoveTimestamp<G.mouseMoveClickAllowedTimeDiff){var n=G.session.map.get(G.session.names.NON_HUMAN_COUNT);
if(N.isUndefined(n))G.session.map.set(G.session.names.NON_HUMAN_COUNT,1);else{var r=parseInt(n);isNaN(r)&&(L.log("Bad format of non human counter in the robot cookie: "+G.session.map.toString()),r=1),r++,G.session.map.set(G.session.names.NON_HUMAN_COUNT,r),G.robotDetected(G.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES),G.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES.active=!1}}}},notifyMouseAction:function(e){e.type===S.mouseEvents.down&&G.checkMouseMovesBetweenClicks(e),G.checkTrusted(e)},notifyInvalidNavigationAPIValues:function(){G.BT.INVALID_NAVIGATION_API_VALUES.active&&
G.robotDetected(G.BT.INVALID_NAVIGATION_API_VALUES)},reportRobotDetection:function(e){var t=W.createEventObject("botDetection",L.currentTimestamp(),null);t.value=e.code,t.shouldEncodeValue=!1,W.saveEvent(t)},robotDetected:function(e){G.active&&(L.log("BotDetector has detected a bot with type: "+e.code),G.reportRobotDetection(e),e.active=!1,G.markSession(G.session.names.DETECT,e.code),G.detected.robot=!0,G.stopDetection())},humanDetected:function(e){L.log("Human Detected ["+e.code+"]"),G.detected.human=
!0,G.markSession(G.session.names.DETECT,e.code),G.stopDetection()},markSession:function(e,t){G.session.map.set(e,t)},isSessionDetected:function(){var e=G.session.map.get(G.session.names.DETECT);return!N.isUndefined(e)},isSessionRobotDetected:function(){var e=G.session.map.get(G.session.names.DETECT);if(N.isUndefined(e))return!1;var t=parseInt(e);return!isNaN(t)&&0<t},isSessionHumanDetected:function(){var e=G.session.map.get(G.session.names.DETECT);if(N.isUndefined(e))return!1;var t=parseInt(e);return!isNaN(t)&&
t<0}};W.checkElementChangebility=function(e){var t=e.nodeName,n=e.type,r=!1,o=!1;switch(t){case "SELECT":o=!0;break;case "TEXTAREA":r=!0;break;case "INPUT":if(null===n)break;switch(n){case "checkbox":case "radio":o=!0;break;case "text":case "password":case "number":case "file":case "url":case "search":case "email":case "date":case "time":case "tel":case "range":case "month":case "week":case "datetime":case "datetime-local":case "color":r=!0}}return{isTypable:r,isSelectable:o}},W.isTypableElement=
function(e){return W.checkElementChangebility(e).isTypable},W.isSelectableElement=function(e){return W.checkElementChangebility(e).isSelectable},W.isChangebleElement=function(e){return W.isTypableElement(e)||W.isSelectableElement(e)},W.directValueInputTypes=["text","number","file","url","search","email","date","time","tel","range","month","week","datetime","datetime-local","color","radio"],W.extractElementValue=function(e,t){var n=t.nodeName,r=v.maskingMode===S.ValueMaskingMode.WhiteList;if(t.hasAttribute(S.maskingAttribute)||
L.hasClassName(t,"cls_mask")?r=!0:v.maskList&&N.contains(v.maskList,L.getElementId(t))?r=!r:v.maskClassList&&L.hasOneOfClassNames(t,v.maskClassList)&&(r=!r),r){var o=t.value;return"string"==typeof o?(new Array(o.length+1)).join("*"):void L.log("Error masking value for element:  "+(elementId||t)+" . Value is not a String.")}if("INPUT"===n){var i=t.type;if(N.contains(W.directValueInputTypes,i))return t.value;if("checkbox"===i)return t.checked?"true":"false";if("password"===i){var a=t.value;if(v.extractPasswords)return a;
if("string"==typeof a)return(new Array(a.length+1)).join("*")}}else{if("TEXTAREA"===n)return t.value;if("SELECT"===n){var s=t.options;if(!N.isUndefined(s)&&"number"==typeof s.length&&0<s.length){if(!N.isUndefined(t.multiple)&&t.multiple)return"["+W.extractMultipleSelectValues(s).join(",")+"]";if(!N.isUndefined(t.selectedIndex)&&!N.isUndefined(s[t.selectedIndex]))return s[t.selectedIndex].value}}}},W.extractElementSource=function(e,t){var n=t.src||t.href;return N.isUndefined(n)||null==n?void 0:n},
W.extractLocationHash=function(e,t){return L.getLocationUrlSplitByHash().hash},W.extractMultipleSelectValues=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t},W.extractScrollValue=function(e,t){if("#document"===t.nodeName){var n=L.getScrollTopLeft();return new Ge(n.left,n.top)}return new Ge(t.scrollLeft,t.scrollTop)},W.extractMouseMoveValue=function(e,t){return[L.getCoordinate(e)]},W.extractErrorValue=function(e,t){var n="";return"string"==typeof e.message&&
(n+=e.message),"string"==typeof e.url?n+="; URL: "+e.url:"string"==typeof e.filename&&(n+="; FILE: "+e.filename),"number"==typeof e.lineno&&(n+="; L: "+e.lineno),"number"==typeof e.colno&&(n+="; C: "+e.colno),n},Ye.prototype={toString:function(){return this.type},setExtraInfo:function(e,t){N.isUndefined(t)?L.log("Failed setting value for extra info attribute: "+e+". Value is undefined"):(N.isUndefined(this.extraInfo)&&(this.extraInfo={}),this.extraInfo[e]=t)},getExtraInfo:function(e){if(N.isUndefined(this.extraInfo))return null;
var t=this.extraInfo[e];return void 0===t?null:t},setDebugInfo:function(e){N.isUndefined(this.debugInfo)&&(this.debugInfo={}),this.debugInfo=e},getDebugInfo:function(){return this.debugInfo},getSubPage:function(){return this.subPage},addHybridActionDataItem:function(e,t){N.isUndefined(t)?L.log("Failed setting value for hybrid action data item: "+e+". Value is undefined"):(N.isUndefined(this.hybridActionData)&&(this.hybridActionData={}),this.hybridActionData[e]=t)},getdHybridActionData:function(){return this.hybridActionData},
ofSameSegment:function(e){return this.referrer===e.referrer&&this.subPage===e.subPage}},Ye.prototype.FOCUS_TIME_ATTR="focusTime",Ye.prototype.AUTO_COMPLETE_ATTR="autoComplete",Ye.prototype.VISUAL_NAME="visualName",Ye.prototype.WINDOW_DEPTH="windowDepth",Ye.prototype.CONTAINER_ID="containerId",Ye.prototype.PARENT_PAGE_ID="parentPageId",Ye.prototype.HISTORY_LENGTH="historyLen",Ye.prototype.TIME_SINCE_LAST_EVENT="timeSinceLastIdle",Ye.prototype.COORDINATE_ATTR="coordinate",Ye.prototype.SCROLL_REACH=
"scrollReach",Ye.prototype.MOVES_TRUNCATED="truncated",Ye.prototype.LOST_EVENTS_NUM="lostEvents",Ye.prototype.TP_INTEGRATION_TYPE="tpIntegrationType",Ye.prototype.EXTERNAL_ID="externalId",Ye.prototype.SYNC_COORDINATE="syncCoordinates",Ye.prototype.ZOOM="zoom",Ye.prototype.MOBILE_HYBRID_ID="mobileHybridId",Ye.prototype.extraInfoAttrs=[{name:Ye.prototype.FOCUS_TIME_ATTR,encodeName:"ft",encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.AUTO_COMPLETE_ATTR,
encodeName:"ac",encodeFunc:H.encodeBoolean,encodeCode:S.dictionary.encodeEncodingType("cd_boolean")},{name:Ye.prototype.VISUAL_NAME,encodeName:"vn",encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")},{name:Ye.prototype.WINDOW_DEPTH,encodeName:Ye.prototype.WINDOW_DEPTH,encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.CONTAINER_ID,encodeName:Ye.prototype.CONTAINER_ID,encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")},
{name:Ye.prototype.PARENT_PAGE_ID,encodeName:Ye.prototype.PARENT_PAGE_ID,encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")},{name:Ye.prototype.HISTORY_LENGTH,encodeName:Ye.prototype.HISTORY_LENGTH,encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.TIME_SINCE_LAST_EVENT,encodeName:"tl",encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.COORDINATE_ATTR,encodeName:"co",
encodeFunc:H.encodeCoordinate64,encodeCode:S.dictionary.encodeEncodingType("cd_coordinate")},{name:Ye.prototype.SCROLL_REACH,encodeName:"sr",encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.MOVES_TRUNCATED,encodeName:"tr",encodeFunc:H.encodeBoolean,encodeCode:S.dictionary.encodeEncodingType("cd_boolean")},{name:Ye.prototype.LOST_EVENTS_NUM,encodeName:"le",encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.TP_INTEGRATION_TYPE,
encodeName:"tp",encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")},{name:Ye.prototype.EXTERNAL_ID,encodeName:"ei",encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")},{name:Ye.prototype.SYNC_COORDINATE,encodeName:"sy",encodeFunc:H.encodeCoordinate64,encodeCode:S.dictionary.encodeEncodingType("cd_coordinate")},{name:Ye.prototype.ZOOM,encodeName:"zo",encodeFunc:H.encodeNumber,encodeCode:S.dictionary.encodeEncodingType("cd_number")},{name:Ye.prototype.MOBILE_HYBRID_ID,
encodeName:Ye.prototype.MOBILE_HYBRID_ID,encodeFunc:H.encodeString,encodeCode:S.dictionary.encodeEncodingType("cd_string")}];var K={showErrorsLRU:new Ue(20),initialize:function(e){return!!v.reportValidationErrors&&(e.on("init:loaded",K.intercept),!0)},intercept:function(){if(K.jqueryValidatorExist()){L.log("Intercepting jQuery Validator errors.");var l=jQuery.validator.prototype.showErrors;jQuery.validator.prototype.showErrors=function(e){try{if(this.errorList&&0<this.errorList.length)for(var t=0;t<
this.errorList.length;t++){var n=this.errorList[t].element,r=this.errorList[t].message,o="SAME - NOT REPORTING",i=P.getSelectorExpression(n)||S.encoding.rootSelector,a=K.showErrorsLRU.set(i,r);if(null===a||N.isUndefined(a))o="NEW";else if(a!==r)o="UPDATE";else if(a===r){var s=this.errorsFor(n);s&&0<s.length&&!N.isUndefined(s[0].innerHTML)&&(s[0].innerHTML===r&&jQuery(s[0]).is(":visible")||(o="SHOW"))}var c=new Je(n,r,i);L.trace("Validation error identified: "+c+" | "+o),"NEW"!==o&&"UPDATE"!==o&&"SHOW"!==
o||D.emit("jquery:validationError",c)}}catch(e){L.log("Failed intercepting showErrors for validation error report. "+e.message,e)}l.call(this,e)}}},jqueryValidatorExist:function(){try{return jQuery.validator}catch(e){return!1}}};Je.prototype.toString=function(){var e=L.getElementId(this.element);return(e||(this.element.name?this.element.name:this.element))+' \x3e "'+this.message+'"'},W.registerPlugin("formValidationInterceptor",K);var Y,J={initialize:function(e){return!(!v.SCIntegration||void 0===
v.SCIntegrationURLsContainList||void 0===v.SCIntegrationKeyList||0===v.SCIntegrationKeyList.length)&&(e.on("init:preloaded",J.intercept),L.log("Intercepting SiteCatalyst reports."),!0)},intercept:function(){var r=window.Image;window.Image=function(e,t){var n=new r(e,t);try{n.addEventListener("load",function(){try{if(n.src&&F.isUrlToReport(n.src,v.SCIntegrationURLsContainList)){L.trace("Image thirdparty intercepted: "+n.src);var e=F.parseToKVMap(n.src,v.SCIntegrationKeyList);if(e){var t=new Qe(e);
D.emit("3rdpartymap:scReport",t)}}}catch(e){L.log("Error while checking image "+n.src+" for SC integration: "+e.message,e)}})}catch(e){L.log("Failed intercepting Image constructor for SC integration. "+e.message,e)}return n}}};Qe.prototype.toString=function(){return this.type+": "+this.data},W.registerPlugin("SCIntegration",J),W.extractVisualName=function(e,t){if(t&&L.isElement(t)&&!N.contains(v.visualName.filterNamingByTagName,t.tagName.toLocaleLowerCase())){var n="",r=L.getAttributeForElement(t,
v.visualName.CLS_NAME_ATTR);r&&(n="by cls_vname"),!r&&v.visualName.by.title&&(r=L.getAttributeForElement(t,"title"))&&(n="by title"),!r&&v.visualName.by.alt&&(r=L.getAttributeForElement(t,"alt"))&&(n="by alt"),!r&&v.visualName.by.ariaLabel&&(r=L.getAttributeForElement(t,"aria-label"))&&(n="by aria-label"),!r&&v.visualName.by.inlineText&&(r=W.getInlineText(t))&&(n="by #text"),!r&&v.visualName.by.placeholder&&(r=L.getAttributeForElement(t,"placeholder"))&&(n="by placeholder"),r||!v.visualName.by.inputConsts&&
!v.visualName.by.inputButtonsValue||(r=W.getInputNames(t))&&(n="by input specific"),!r&&v.visualName.by.name&&(r=L.getAttributeForElement(t,"name"))&&(n="by name"),!r&&v.visualName.by.id&&(r=L.getAttributeForElement(t,"id"))&&(n="by id"),!r&&v.visualName.by.parent&&(r=W.getVNByParent(t))&&(n="by parent"),!r&&v.visualName.by.child&&(r=W.getVNByChild(t))&&(n="by child"),r?(r.length>v.visualName.chatLimit&&(r=r.substr(0,v.visualName.chatLimit).concat("...")),e.setExtraInfo(Ye.prototype.VISUAL_NAME,r),
v.visualNameDebug&&L.trace("VISUAL NAME: ("+e.type+" on "+t.tagName+" "+(t.type?t.type:"")+") "+n+" - "+r)):v.visualNameDebug&&L.trace("VISUAL NAME: ("+e.type+" on "+t.tagName+" "+(t.type?t.type:"")+") ----- NOT FOUND")}},W.getVNByChild=function(e){if(!N.contains(v.visualName.elementListToCheckChild,e.tagName.toLocaleLowerCase()))return null;var t;if(1===e.childElementCount){var n=e.firstElementChild;t=L.getAttributeForElement(n,"title")||L.getAttributeForElement(n,"alt")||L.getAttributeForElement(n,
"aria-label")||L.getAttributeForElement(n,"name")||L.getAttributeForElement(n,"id")}return t||null},W.getVNByParent=function(e){if(!N.contains(v.visualName.elementListToCheckParent,e.tagName.toLocaleLowerCase()))return null;var t=null,n=e.parentElement;return!n||"a"!==n.tagName.toLocaleLowerCase()&&"button"!==n.tagName.toLocaleLowerCase()||(t=L.getAttributeForElement(n,"title")||L.getAttributeForElement(n,"alt")||L.getAttributeForElement(n,"aria-label")||L.getAttributeForElement(n,"name")||L.getAttributeForElement(n,
"id")),t||null},W.getInlineText=function(e){var t=e.tagName.toLocaleLowerCase();if("td"===t)return null;var n=L.getAttributeForElement(e,"class");if(n&&N.contains(v.visualName.filterInlineTextByClassName,n))return null;var r,o=null;if(("span"===t||"div"===t)&&1===e.childElementCount&&(r=e.firstElementChild)&&"a"===r.tagName.toLocaleLowerCase()&&0===r.childElementCount){var i=r.innerText;i&&(i=L.trim(i)),o=i}if(!o&&N.contains(v.visualName.filterInlineTextByTagName,t)){var a=e.parentElement?e.parentElement.tagName.toLocaleLowerCase():
"";if("a"!==a&&"button"!==a)return null}if(o||0!==e.childElementCount||(o=e.innerText)&&(o=L.trim(o)),o||1===e.childElementCount&&0===(r=e.firstElementChild).childElementCount&&(o=r.innerText)&&(o=L.trim(o)),void 0===Y){var s=W.plugins.domRecordingPlugin;Y=s?s.getMasker():null}return o&&Y&&Y.isDomMasked(e,re.SELF_OR_ANY_PARENT,ne.TEXT)&&(o=yt.maskValueOf(o)),o||null},W.getInputNames=function(e){var t;if("input"===e.tagName.toLocaleLowerCase()){var n=e.type.toLocaleLowerCase();if("button"!==n&&"submit"!==
n&&"reset"!==n||!v.visualName.by.inputButtonsValue||(t=e.value),!t&&v.visualName.by.inputConsts)switch(n){case "password":t="Password";break;case "button":case "submit":case "image":t="Submit";break;case "file":t="Choose File";break;case "reset":t="Reset"}}return t&&(t=L.trim(t)),t||null},W.triggerCustomEvent=function(t,n,r){try{if(N.isUndefined(t)||!N.isString(t)||0===t.length||N.isUndefined(n))return void L.log("triggerCustomEvent: bad argument: eventName\x3d"+t+" eventValue\x3d"+n);var e={name:""+
t,val:""+n,domEl:r};W.saveCustomEvent(e)}catch(e){L.log("triggerCustomEvent: error while triggering event with name\x3d"+t+" value\x3d"+n+"domElement\x3d"+r,e.stack?e.stack:e.message)}},W.fetchAll=function(){try{te.fetchAll()}catch(e){L.log("fetchAll: Error while fetching resources. ",e.stack?e.stack:e.message)}},W.fetchLog=function(){try{te.fetchLog()}catch(e){L.log("fetchLog: Error while logging resources. ",e.stack?e.stack:e.message)}},W.fetchStatus=function(){try{te.fetchStatus()}catch(e){L.log("fetchStatus: Error while logging resources. ",
e.stack?e.stack:e.message)}},Ze.extractTLD=function(e){var t=e.split(".");return t.shift(),0<t.length?t.join("."):e},$e.cfgBackwardComp=function(e){var t=!1;if(void 0===e.ajaxRecordMatadata&&void 0!==e.recordAjaxRequest&&(e.ajaxRecordMetadata=""+e.recordAjaxRequest,t=!0),void 0===e.ajaxRecordResponseBody){var n=[];e.ajaxCaptureFQDNOnly&&n.push("fqdn"),e.ajaxCaptureResponseContentWhenUrlMatches&&n.push("uriMatches("+e.ajaxCaptureResponseContentWhenUrlMatches+")"),void 0!==e.ajaxCaptureResponseOnStatusGreater&&
-1!==e.ajaxCaptureResponseOnStatusGreater&&n.push("statusGte("+e.ajaxCaptureResponseOnStatusGreater+")"),0<n.length&&(e.ajaxRecordResponseBody=n.join(","),t=!0)}return void 0===e.ajaxRecordResponseHeaders&&void 0!==e.ajaxCaptureResponseHeaders&&(e.ajaxRecordResponseHeaders=""+e.ajaxCaptureResponseHeaders,t=!0),t},$e.fixHeaders=function(e,t){var n=e.replace(/content-encoding:\sgzip/gi,"X-Glassbox-Orig-Content-Encoding: zip").replace(/transfer-encoding:\schunked/gi,"X-Glassbox-Orig-Transfer-Encoding: chunked");
return t?n.replace(/content-length:/gi,"X-Glassbox-Orig-Content-Length:")+"Content-Length: "+t+"\r\n":n},$e.hasGzipContentEncoding=function(e){return null!==/content-encoding:\sgzip/gi.exec(e)},$e.isClsOwnAjax=function(e){return e.cls_own},$e.captureContent=function(e,t){var n=null;return""===e.responseType||"text"===e.responseType?n=e.responseText:"json"===e.responseType&&(n=JSON.stringify(e.response)),n},$e.supportAjaxOnProgressEvents=function(){return"onloadend"in new XMLHttpRequest},$e.safeEncodeURI=
function(t){try{return t===decodeURI(t)?encodeURI(t):t}catch(e){return encodeURI(t)}},et.prototype.toString=function(){return this.method+" "+this.url+(this.status?" "+this.status:"")},void 0!==v&&v.interceptAjax&&W.registerPlugin("ajaxInterceptor",new $e(window,h.location.host,v,["adrum","dynatrace","appdynamics.com","tealeaf","/retail/discountinternet/portal/coex.asmx/keepalive","oauth/cc"])),tt.READY_COOKIE="_cls_ready",tt.STATE={INIT:0,HELPING:1,READY:2};var Q={name:"POST",ready:!0,corsHelper:W.isCorsReporting?
new tt(h,v.reportURI,new We(v.reportAddUriParams),v.reportCorsTakeNativeCookies):E,uriPolicy:new We(v.reportAddUriParams),config:{maxReportSize:v.maxPostReportSize,maxReports:-1},gainLockToReport:function(){var e=Q.ready;return e&&Q.setReady(!1),e},freeLock:function(){Q.setReady(!0)},setReady:function(e){Q.ready=e},flushEvents:function(t,n,e){var r;e&&(r=e.pid,delete e.pid);var o=Q.prepareUri(n,r,e);Q.corsHelper?Q.corsHelper.help(U.createXMLHTTPObject,function(e){Q.createRequest(t,n,o,e)}):Q.createRequest(t,
n,o)},createRequest:function(e,t,n,r,o){e=e||"",o=o||!1;var i=U.createXMLHTTPObject(e);if(!i)return L.log("Failed creating an XMLHttpRequest object"),void Q.setReady(!0);i.onreadystatechange=function(){4===i.readyState&&(200===i.status?Q.setReady(!0):v.postRetry&&!o?(L.log("Failed POST data ("+t+"): "+i.status+"  "+i.statusText+" ...retrying..."),Q.createRequest(e,t,n,r,!0)):(Q.addFailNotesOnCookie(t,i.status,i.statusText),L.log("Failed "+(o?"again ":"")+"POST data ("+t+"): "+i.status+"  "+i.statusText+
" . aborting. "),i.abort(),Q.setReady(!0)))};try{i.open("POST",n,!0),i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){},i.withCredentials=r,W.beaconEncoder.visitXhr(i),setTimeout(function(){try{i.send(e)}catch(e){L.log("Failed sending (in) POST request ("+t+") to url "+n+": "+e.message,e),Q.setReady(!0)}},0)}catch(e){L.log("Failed sending POST request ("+t+") to url "+n+": "+e.message,e),Q.setReady(!0)}},addFailNotesOnCookie:function(e,t,n){var r=X.get(S.cookies.debuginfo)||
"";if(!(50<r.length)){var o="";-1!==r.indexOf("|")&&(o=r.substring(0,r.indexOf("|")));var i=(o?".":"")+e+"|E"+t;X.set(S.cookies.debuginfo,o+i)}},prepareUri:function(e,t,n){var r=Q.uriPolicy.apply(ee.baseURI,e,t);if(n){var o,i=[];for(o in n)i.push(o+"\x3d"+n[o]);0<i.length&&(r+=(-1===r.indexOf("?")?"?":"\x26")+i.join("\x26"))}return r}},Z={name:"GET",domBeaconImgNum:0,uriPolicy:new We(v.reportAddUriParams),config:{maxReportSize:v.maxReportSize,maxReports:-1},gainLockToReport:function(){return!0},freeLock:function(){},
flushEvents:function(e,t,n){var r=ee.baseURI+e;Z.createRequest(Z.uriPolicy.apply(r))},createRequest:function(e){v.DOMBeaconImg?Z.changeImgSrcByDOM(e):Z.createImageWithSrc(e)},createImageWithSrc:function(e){(new Image).src=e},changeImgSrcByDOM:function(e){var t="_cls_beacon_img_"+(new Date).getTime()+" "+Z.domBeaconImgNum++,n=h.getElementById(t);null===n&&((n=h.createElement("img")).id=t,n.style.width="1px",n.style.height="1px",n.style.visibility="hidden",n.style.position="fixed",h.body&&h.body.appendChild(n)),
n.src=e}};nt.loadAndClearReports=function(e){var t=e[nt.KEY_NAME];if(delete e[nt.KEY_NAME],t){var n,r=JSON.parse(t);for(n=0;n<r.length;n++)r[n].encoding===nt.ENCODING_BASE64&&(r[n].e=nt.toBytes(L.Base64.atob(r[n].e))),delete r[n].encoding;return r}return E},nt.toBytes=function(e){var t,n=new Uint8Array(new ArrayBuffer(e.length));for(t=0;t<n.length;t++)n[t]=e.charCodeAt(t);return n},nt.KEY_NAME="_cls_rpt",nt.ENCODING_BASE64="b64";var $,ee={eventsToReport:[],freshEventsNum:0,reporter:v.reportByPost?
Q:Z,sequenceNumber:0,lastSnapshotEnabledStepType:null,lastPageSnapshotSequence:-1,stats:{count:0,flushedBytes:0,estimatedBytes:{expected:0,actual:0}},initialize:function(e){if(!N.isUndefined(v.reportURI)&&0!==v.reportURI.length)return L.log("Reporting using: "+(v.reportByPost?"POST":"GET")),L.log("Report Encoding: "+W.beaconEncoder.name),L.log("Report Compression: "+(v.reportCompress?"ENABLED":"DISABLED")+" supported by encoder:"+W.beaconEncoder.supportsCompression),ee.baseURI=v.reportURI,v.reportByPost||
(ee.baseURI+=-1!==v.reportURI.indexOf("?")?"\x26":"?"),ee.pageId=W.page.id,ee.idleLatestEventTime=ee.idleBaseTime=L.currentTimestamp(),ee.freshStartInd=0,e.on("init:loaded",ee.startTimer),e.on("saveEvent",ee.saveEvent),e.on("event:document",ee.reportOnLoad),e.on("event:unload",ee.reportOnUnload),e.on("reportImmediately",ee.reportImmediately),e.on("pageSnapshot:report",ee.onPageSnapshot),!0;console.log("ERROR[EyeView-1401]: Detector script is missing configuration for 'reportURI'. Please add it.")},
sendStoragePendingReports:function(){try{var e,t=nt.loadAndClearReports(window.sessionStorage);if(t)for(L.log("about to send "+t.length+" storage pending report(s)."),e=0;e<t.length;e++)ee.reporter.flushEvents(t[e].e,t[e].sn,{pid:t[e].pid,storage:"true"})}catch(e){L.log("error: could not send pending storage reports. message:",e.message)}},onPageSnapshot:function(e){ee.reportImmediately(),X.set(S.cookies.sub_session,L.uuid()),e.cookie=h.cookie,ee.lastPageSnapshotSequence=e.seq},startTimer:function(){ee.sendStoragePendingReports();
var e=v.reportByPost?v.reportPostInterval:v.reportInterval;e&&!ee.timer&&(ee.timer=setInterval(ee.reportQueuedEvents,e),L.log("Beacon: events will be reported in intervals of "+e+" ms."))},isTargetDomOmitted:function(e){return void 0===$&&($=W.plugins.domRecordingPlugin?W.plugins.domRecordingPlugin.getMasker():null),!(!e.element||!$)&&$.isDomMasked(e.element,re.SELF_OR_ANY_PARENT,ne.OMIT)},saveEvent:function(e){if(q.diluteEvents(ee.eventsToReport,e)&&!ee.isTargetDomOmitted(e)){W.tryAttachSnapshotToEvent(e);
var t=!1;"pageUpdate"!==e.type||e.domSnapshot||(t=!0),t||ee.eventsToReport.push(e)}ee.elapseIdleTimes()},reportOnLoad:function(e){v.reportAllOnUnload&&ee.reportQueuedEvents(!0)},reportOnUnload:function(e){L.log("Beacon: unloading page, "+ee.eventsToReport.length+" events to report."),v.reportToStorageAfterUnload&&(void 0!==nt&&void 0!==window.sessionStorage?(L.log("switching to StorageReporter, following 'unload' event"),ee.reporter=new nt(window.sessionStorage,W.page.id)):L.log("error: either StorageReporter or window.sessionStorage is undefined, cannot switch to storage reporting.")),
ee.reportQueuedEventsUnload()},reportQueuedEventsUnload:function(){0<ee.eventsToReport.length&&(v.reportAllOnUnload||!v.truncateEventsWithUnload||v.reportByPost||(ee.eventsToReport=q.truncateEventsForUnload(ee.eventsToReport)),ee.reportAllCollectedEvents(!0))},hasDependentEventsOnly:function(e,t){for(var n=t;n<e.length;n++)if(!e[n].dependent)return!1;return!0},reportImmediately:function(){ee.reportQueuedEvents(!0)},reportQueuedEvents:function(e){try{if(e&&0<ee.eventsToReport.length)return void ee.reportAllCollectedEvents();
if(ee.eventsToReport.length>ee.freshStartInd)return v.reportAllOnUnload?void(ee.freshStartInd=ee.eventsToReport.length):ee.hasDependentEventsOnly(ee.eventsToReport,ee.freshStartInd)?void(ee.freshStartInd=ee.eventsToReport.length):void ee.reportAllCollectedEvents();0<v.idleEventTimeInterval&&L.currentTimestamp()-ee.idleLatestEventTime>=v.idleEventTimeInterval&&L.currentTimestamp()-ee.idleBaseTime<v.maxTimeForIdleEvent&&(ee.reportIdleEvent(ee.idleLatestEventTime),ee.idleLatestEventTime=L.currentTimestamp())}catch(e){L.log("ERROR: while reporting queued events. Exception: ",
e.stack?e.stack:e.message)}},elapseIdleTimes:function(){ee.idleLatestEventTime=ee.idleBaseTime=L.currentTimestamp()},reportAllCollectedEvents:function(e){if(ee.reporter.gainLockToReport()||e){var t=ee.eventsToReport;ee.eventsToReport=[];try{ee.reportEvents(t,e)}catch(e){L.log("ERROR: while reporting events. Exception: ",e.stack?e.stack:e.message),ee.reporter.freeLock()}ee.freshStartInd=0,q.notifyEventsFlush()}else L.log("reporter not ready yet. postponing "+ee.eventsToReport.length+" events reports.")},
reportIdleEvent:function(e){var t=W.createEventObject("idle",L.currentTimestamp(),null),n=L.currentTimestamp();if(t.value=n-ee.idleBaseTime,t.binding={valueEncoding:H.encodeNumber},t.setExtraInfo(Ye.prototype.TIME_SINCE_LAST_EVENT,n-e),v.reportAllOnUnload)ee.eventsToReport.push(t);else{var r=[t];ee.reportEvents(r)}},reportEvents:function(e,t){t=t||!1;var n,r=ee.reporter.config.maxReports;if(!W.config.reportByPost&&t&&(r=v.maxReportsWithUnload),t&&v.domOmitAfterUnload)for(n=0;n<e.length;n++)delete e[n].domSnapshot;
ee.encodeAndConcatenateEvents(e,ee.reporter.config.maxReportSize,r)},encodeAndConcatenateEvents:function(e,t,n){var r,o=null;-1!==n&&1<e.length&&"unload"===e[e.length-1].type&&(o=e.pop());for(var i,a,s=0,c=[],l="",u=0,d=e[0].type,p=W.segmentManager.createSegmentTracker(),f=0;f<e.length;f++){r=e[f],a=p.track(r);var m=r.type,g=d===m,h=N.isUndefined(r.selectorExpression)||null==r.selectorExpression?S.encoding.rootSelector:r.selectorExpression,v=h;if(S.repeatingElementSelector&&!N.isUndefined(S.repeatingElementSelector)&&
(h===S.encoding.rootSelector?l="":(h===l&&(v=S.repeatingElementSelector),l=h)),i=ee.safeEncodeEvent(r,v),N.contains(S.nobelEventTypes,r.type))0<c.length&&ee.flushEvents(c,p.getLast()),ee.flushEvents([i],p.getCurrent()),c=[],u=0,l="",d=m;else{var E=!(0!==c.length&&!g)||!(N.contains(S.socialNobelEventTypes,r.type)||N.contains(S.socialNobelEventTypes,d)),y=i.length+(0===c.length?0:S.encoding.delimiters.events.length),b=-1===t||W.beaconEncoder.estimateBeaconSize(u+y)<t;if(a&&b&&E)u+=y,c.push(i);else{if(0<
c.length){if(s++,-1!==n&&n<=s){if(null!==o){var _=e.length-f;L.log("Reached max number of reports allowed ("+n+"). Lost "+_+" events."),o.setExtraInfo(o.LOST_EVENTS_NUM,_),i=W.beaconEncoder.encodeEvent(o),c.push(i),ee.flushEvents(c,p.getLast(),u)}return}ee.flushEvents(c,p.getLast(),u),c=[],u=0}v===S.repeatingElementSelector&&(i=ee.safeEncodeEvent(r,h)),-1!==t&&W.beaconEncoder.estimateBeaconSize(i.length)>t?(ee.flushEvents([i],p.getCurrent()),l=""):(c.push(i),u+=i.length)}d=m}}if(0<c.length){if(null!==
o){var T=W.beaconEncoder.encodeEvent(o);c.push(T)}ee.flushEvents(c,p.getLast(),u)}},safeEncodeEvent:function(t,n){try{return W.beaconEncoder.encodeEvent(t,n)}catch(e){L.log("ERROR: while encoding event: "+t.type+" . Exception: ",e.stack?e.stack:e.message);var r=ee.generateClsdebugEventInstead(t,e);return W.beaconEncoder.encodeEvent(r,n)}},generateClsdebugEventInstead:function(e,t){var n="";if(void 0!==e.value)try{n=JSON.stringify(e.value),n=L.truncateStr(n,400,!0)}catch(e){n="cannot stringify value because: "+
e.message}var r="encoding event: '"+e.type+"' with value: {"+n+"}",o=W.formatClsDebugMessage(r,t,"event cancelled");0===o.length&&(o="CLS Error in\tencoding event: '"+e.type+"' ...");var i=W.createEventObject("clsdebug",L.currentTimestamp(),null);return i.value=o,i},flushEvents:function(e,t,n){ee.sequenceNumber++;var r=ee.buildBeaconPayload(t.referrer,t.subPage,e,ee.sequenceNumber);ee.reporter.flushEvents(r,ee.sequenceNumber),ee.updateStats(r.length,n),L.trace("Beacon["+ee.sequenceNumber+" payload-len:"+
r.length+"]: "+ee.reporter.name+" reported "+e.length+" events"+(0<t.subPage.length?" [on "+t.subPage+"]":""),e)},updateStats:function(e,t){ee.stats.count++,ee.stats.flushedBytes+=e,t&&(ee.stats.estimatedBytes.actual+=e,ee.stats.estimatedBytes.expected+=t,ee.stats.estimationRatio=ee.stats.estimatedBytes.expected/ee.stats.estimatedBytes.actual)},buildBeaconPayload:function(e,t,n,r){return W.beaconEncoder.encodeBeacon(S.beaconVersion,r,v.reportIncludeReferrer?e:E,ee.pageId,t,-1!==ee.lastPageSnapshotSequence?
ee.lastPageSnapshotSequence:E,n)}};W.registerPlugin("beaconReport",ee),function(e,t){(L||window||this).pako=function i(a,s,c){function l(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r;}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return l(t||e)},o,o.exports,i,a,s,c)}return s[n].exports}for(var u="function"==typeof require&&require,
e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){var a=e("./zlib/deflate"),s=e("./utils/common"),c=e("./utils/strings"),o=e("./zlib/messages"),i=e("./zlib/zstream"),l=Object.prototype.toString,u=0,d=-1,p=0,f=8;function m(e){if(!(this instanceof m))return new m(e);this.options=s.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=
16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(o[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=a.deflateSetDictionary(this.strm,r))!==u)throw new Error(o[n]);this._dict_set=
!0}}function r(e,t){var n=new m(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}m.prototype.push=function(e,t){var n,r,o=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=c.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(i),o.next_out=0,o.avail_out=i),1!==(n=a.deflate(o,r))&&n!==u)return this.onEnd(n),!(this.ended=
!0);0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(c.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===r?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==r||(this.onEnd(u),!(o.avail_out=0))},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):
this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=m,n.deflate=r,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,r(e,t)}},{"./utils/common":2,"./utils/strings":3,"./zlib/deflate":6,"./zlib/messages":7,"./zlib/zstream":9}],2:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,
1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=o=0,n=e.length;t<
n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],3:[function(e,t,n){var c=e("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=
!1}for(var l=new c.Buf8(256),r=0;r<256;r++)l[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;function u(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,c.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}l[254]=l[254]=1,n.string2buf=function(e){var t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<
65536?3:4;for(t=new c.Buf8(s),o=i=0;i<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t},n.buf2binstring=function(e){return u(e,e.length)},n.binstring2buf=function(e){for(var t=new c.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,
t){var n,r,o,i,a=t||e.length,s=new Array(2*a);for(n=r=0;n<a;)if((o=e[n++])<128)s[r++]=o;else if(4<(i=l[o]))s[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&n<a;)o=o<<6|63&e[n++],i--;1<i?s[r++]=65533:o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|1023&o)}return u(s,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":2}],4:[function(e,t,n){t.exports=function(e,t,n,
r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2E3<n?2E3:n;o=o+t[r++]|0,i=i+o|0,--a;);o%=65521,i%=65521}return o|i<<16|0}},{}],5:[function(e,t,n){var s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=s,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],6:[function(e,t,n){var l,d=e("../utils/common"),u=e("./trees"),p=e("./adler32"),f=e("./crc32"),r=e("./messages"),
m=0,g=4,h=0,v=-2,c=-1,E=4,o=2,y=8,b=9,i=286,a=30,s=19,_=2*i+1,T=15,S=3,w=258,C=w+S+1,I=42,A=113,x=1,N=2,R=3,M=4;function k(e,t){return e.msg=r[t],t}function O(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function L(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(d.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function U(e,t){u._tr_flush_block(e,
0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t,n,r){var o=e.avail_in;return r<o&&(o=r),0===o?0:(e.avail_in-=o,d.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=p(e.adler,t,o,n):2===e.state.wrap&&(e.adler=f(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function H(e,t){var n,r,o=e.max_chain_length,
i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-C?e.strstart-(e.w_size-C):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+w,f=l[i+a-1],m=l[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do if(l[(n=t)+a]===m&&l[n+a-1]===f&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do;while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<p);if(r=w-(p-i),i=p-w,a<r){if(e.match_start=t,s<=(a=
r))break;f=l[i+a-1],m=l[i+a]}}while((t=d[t&u])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function j(e){var t,n,r,o,i,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-C)){for(d.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;r=e.head[--t],e.head[t]=a<=r?r-a:0,--n;);for(t=n=a;r=e.prev[--t],e.prev[t]=a<=r?r-a:0,--n;);o+=a}if(0===e.strm.avail_in)break;if(n=F(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+
e.insert>=S)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+S-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<C&&0!==e.strm.avail_in)}function z(e,t){for(var n,r;;){if(e.lookahead<C){if(j(e),e.lookahead<C&&t===m)return x;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+
S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n)),e.match_length>=S)if(r=u._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);
e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(U(e,!1),0===e.strm.avail_out))return x}return e.insert=e.strstart<S-1?e.strstart:S-1,t===g?(U(e,!0),0===e.strm.avail_out?R:M):e.last_lit&&(U(e,!1),0===e.strm.avail_out)?x:N}function V(e,t){for(var n,r,o;;){if(e.lookahead<C){if(j(e),e.lookahead<C&&t===m)return x;if(0===
e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-C&&(e.match_length=H(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(o=
e.strstart+e.lookahead-S,r=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,r&&(U(e,!1),0===e.strm.avail_out))return x}else if(e.match_available){if((r=u._tr_tally(e,0,e.window[e.strstart-1]))&&U(e,!1),e.strstart++,
e.lookahead--,0===e.strm.avail_out)return x}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===g?(U(e,!0),0===e.strm.avail_out?R:M):e.last_lit&&(U(e,!1),0===e.strm.avail_out)?x:N}function W(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=
0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=
0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*_),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*s+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(T+1),this.heap=new d.Buf16(2*i+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*i+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=
0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=o,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?I:A,e.adler=2===t.wrap?0:1,t.last_flush=m,u._tr_init(t),h):k(e,v)}function G(e){var t,n=X(e);return n===h&&((t=e.state).window_size=2*t.w_size,D(t.head),t.max_lazy_match=l[t.level].max_lazy,t.good_match=l[t.level].good_length,t.nice_match=l[t.level].nice_length,t.max_chain_length=
l[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=S-1,t.match_available=0,t.ins_h=0),n}function K(e,t,n,r,o,i){if(!e)return v;var a=1;if(t===c&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||b<o||n!==y||r<8||15<r||t<0||9<t||i<0||E<i)return k(e,v);8===r&&(r=9);var s=new q;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=
~~((s.hash_bits+S-1)/S),s.window=new d.Buf8(2*s.w_size),s.head=new d.Buf16(s.hash_size),s.prev=new d.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new d.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,G(e)}l=[new W(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===m)return x;if(0===e.lookahead)break}e.strstart+=e.lookahead,
e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,U(e,!1),0===e.strm.avail_out))return x;if(e.strstart-e.block_start>=e.w_size-C&&(U(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(U(e,!0),0===e.strm.avail_out?R:M):(e.strstart>e.block_start&&(U(e,!1),e.strm.avail_out),x)}),new W(4,4,8,4,z),new W(4,5,16,8,z),new W(4,6,32,32,z),new W(4,4,16,16,V),new W(8,16,32,32,V),new W(8,16,128,128,V),new W(8,32,128,256,V),new W(32,128,258,
1024,V),new W(32,258,258,4096,V)],n.deflateInit=function(e,t){return K(e,t,y,15,8,0)},n.deflateInit2=K,n.deflateReset=G,n.deflateResetKeep=X,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?v:(e.state.gzhead=t,h):v},n.deflate=function(e,t){var n,r,o,i;if(!e||!e.state||5<t||t<0)return e?k(e,v):v;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==g)return k(e,0===e.avail_out?-5:v);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===I)if(2===r.wrap)e.adler=0,B(r,
31),B(r,139),B(r,8),r.gzhead?(B(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),B(r,255&r.gzhead.time),B(r,r.gzhead.time>>8&255),B(r,r.gzhead.time>>16&255),B(r,r.gzhead.time>>24&255),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(B(r,255&r.gzhead.extra.length),B(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=f(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=
69):(B(r,0),B(r,0),B(r,0),B(r,0),B(r,0),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,3),r.status=A);else{var a=y+(r.w_bits-8<<4)<<8,s=-1;s=2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3,a|=s<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=A,P(r,a),0!==r.strstart&&(P(r,e.adler>>>16),P(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,
r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending!==r.pending_buf_size));)B(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=
r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,B(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,r.pending_buf,r.pending-o,o)),L(e),o=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):
0,B(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>o&&(e.adler=f(e.adler,r.pending_buf,r.pending-o,o)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&L(e),r.pending+2<=r.pending_buf_size&&(B(r,255&e.adler),B(r,e.adler>>8&255),e.adler=0,r.status=A)):r.status=A),0!==r.pending){if(L(e),0===e.avail_out)return r.last_flush=-1,h}else if(0===e.avail_in&&O(t)<=O(n)&&t!==g)return k(e,-5);if(666===r.status&&0!==e.avail_in)return k(e,-5);if(0!==e.avail_in||
0!==r.lookahead||t!==m&&666!==r.status){var c=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===m)return x;break}if(e.match_length=0,n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(U(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(U(e,!0),0===e.strm.avail_out?R:M):e.last_lit&&(U(e,!1),0===e.strm.avail_out)?x:N}(r,t):3===r.strategy?function(e,t){for(var n,r,o,i,a=e.window;;){if(e.lookahead<=w){if(j(e),e.lookahead<=w&&t===
m)return x;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(o=e.strstart-1,(r=a[o])===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+w;do;while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=w-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(n=u._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=u._tr_tally(e,0,
e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(U(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===g?(U(e,!0),0===e.strm.avail_out?R:M):e.last_lit&&(U(e,!1),0===e.strm.avail_out)?x:N}(r,t):l[r.level].func(r,t);if(c!==R&&c!==M||(r.status=666),c===x||c===R)return 0===e.avail_out&&(r.last_flush=-1),h;if(c===N&&(1===t?u._tr_align(r):5!==t&&(u._tr_stored_block(r,0,0,!1),3===t&&(D(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),L(e),0===e.avail_out))return r.last_flush=
-1,h}return t!==g?h:r.wrap<=0?1:(2===r.wrap?(B(r,255&e.adler),B(r,e.adler>>8&255),B(r,e.adler>>16&255),B(r,e.adler>>24&255),B(r,255&e.total_in),B(r,e.total_in>>8&255),B(r,e.total_in>>16&255),B(r,e.total_in>>24&255)):(P(r,e.adler>>>16),P(r,65535&e.adler)),L(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==I&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?k(e,v):(e.state=null,t===A?k(e,-3):h):v},n.deflateSetDictionary=function(e,
t){var n,r,o,i,a,s,c,l,u=t.length;if(!e||!e.state)return v;if(n=e.state,2===(i=n.wrap)||1===i&&n.status!==I||n.lookahead)return v;for(1===i&&(e.adler=p(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===i&&(D(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new d.Buf8(n.w_size),d.arraySet(l,t,u-n.w_size,n.w_size,0),t=l,u=n.w_size),a=e.avail_in,s=e.next_in,c=e.input,e.avail_in=u,e.next_in=0,e.input=t,j(n);n.lookahead>=S;){for(r=n.strstart,o=n.lookahead-(S-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+S-1])&
n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=S-1,j(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,e.next_in=s,e.input=c,e.avail_in=a,n.wrap=i,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":2,"./adler32":4,"./crc32":5,"./messages":7,"./trees":8}],7:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end","0":"","-1":"file error",
"-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],8:[function(e,t,n){var c=e("../utils/common"),s=0,l=1;function r(e){for(var t=e.length;0<=--t;)e[t]=0}var u=0,a=29,d=256,p=d+1+a,f=30,m=19,h=2*p+1,v=15,o=16,g=7,E=256,y=16,b=17,_=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,
5,11,4,12,3,13,2,14,1,15],I=new Array(2*(p+2));r(I);var A=new Array(2*f);r(A);var x=new Array(512);r(x);var N=new Array(256);r(N);var R=new Array(a);r(R);var M,k,O,D=new Array(f);function L(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function i(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?x[e]:x[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=
t>>>8&255}function P(e,t,n){e.bi_valid>o-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>o-e.bi_valid,e.bi_valid+=n-o):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){P(e,n[2*t],n[2*t+1])}function H(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function j(e,t,n){var r,o,i=new Array(v+1),a=0;for(r=1;r<=v;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=H(i[s]++,s))}}function z(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*
t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*E]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?B(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function q(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&W(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!W(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function X(e,t,n){var r,
o,i,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?F(e,o,t):(i=N[o],F(e,i+d+1,t),0!==(a=T[i])&&(o-=R[i],P(e,o,a)),i=U(--r),F(e,i,n),0!==(a=S[i])&&(r-=D[i],P(e,r,a))),s<e.last_lit;);F(e,E,t)}function G(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<
2;)o=e.heap[++e.heap_len]=l<2?++l:0,i[2*o]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)q(e,i,n);for(o=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,q(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,
d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(i=0;i<=v;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)r=e.heap[n],i=c[2*c[2*r+1]+1]+1,m<i&&(i=m,g++),c[2*r+1]=i,l<r||(e.bl_count[i]++,a=0,f<=r&&(a=p[r-f]),s=c[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==g){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==
r;)o=e.heap[--n],l<o||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),r--)}}(e,t),j(i,l,e.bl_count)}function K(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<l?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*_]++,i=o,(s=0)===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4))}function Y(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),r=0;r<=n;r++)if(o=
a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<l)for(;F(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(F(e,o,e.bl_tree),s--),F(e,y,e.bl_tree),P(e,s-3,2)):s<=10?(F(e,b,e.bl_tree),P(e,s-3,3)):(F(e,_,e.bl_tree),P(e,s-11,7));i=o,(s=0)===a?(c=138,l=3):o===a?(c=6,l=3):(c=7,l=4)}}r(D);var J=!1;function Q(e,t,n,r){var o,i,a,s;P(e,(u<<1)+(r?1:0),3),i=t,a=n,s=!0,V(o=e),s&&(B(o,a),B(o,~a)),c.arraySet(o.pending_buf,o.window,i,a,o.pending),o.pending+=a}n._tr_init=function(e){J||(function(){var e,t,n,r,o,i=new Array(v+1);
for(r=n=0;r<a-1;r++)for(R[r]=n,e=0;e<1<<T[r];e++)N[n++]=r;for(N[n-1]=r,r=o=0;r<16;r++)for(D[r]=o,e=0;e<1<<S[r];e++)x[o++]=r;for(o>>=7;r<f;r++)for(D[r]=o<<7,e=0;e<1<<S[r]-7;e++)x[256+o++]=r;for(t=0;t<=v;t++)i[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,i[8]++;for(;e<=255;)I[2*e+1]=9,e++,i[9]++;for(;e<=279;)I[2*e+1]=7,e++,i[7]++;for(;e<=287;)I[2*e+1]=8,e++,i[8]++;for(j(I,p+1,i),e=0;e<f;e++)A[2*e+1]=5,A[2*e]=H(e,5);M=new L(I,T,d+1,p,v),k=new L(A,S,0,f,v),O=new L(new Array(0),w,0,m,g)}(),J=!0),e.l_desc=new i(e.dyn_ltree,
M),e.d_desc=new i(e.dyn_dtree,k),e.bl_desc=new i(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,z(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var o,i,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return l;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return l;return s}(e)),G(e,e.l_desc),G(e,e.d_desc),a=function(e){var t;for(K(e,e.dyn_ltree,
e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=m-1;3<=t&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?Q(e,t,n,r):4===e.strategy||i===o?(P(e,2+(r?1:0),3),X(e,I,A)):(P(e,4+(r?1:0),3),function(e,t,n,r){var o;for(P(e,t-257,5),P(e,n-1,5),P(e,r-4,4),o=0;o<r;o++)P(e,e.bl_tree[2*C[o]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),X(e,
e.dyn_ltree,e.dyn_dtree)),z(e),r&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(N[n]+d+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;P(e,2,3),F(e,E,I),16===(t=e).bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,
t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":2}],9:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[1])(1)}();var te=function(){var i=[],a=["script","xmlhttprequest","subdocument","iframe"],e=function(e){for(var t={},n=0;n<i.length;n++){var r=i[n];e&&console.log(""+r),t[r.getStatus()]?t[r.getStatus()]=t[r.getStatus()]+
1:t[r.getStatus()]=1}console.log("Total: "+i.length,t)};return{fetchAll:function(){if(L.pako){var o=performance.getEntriesByType("resource"),e=function(r){setTimeout(function(){var e,t,n=new c(o[r]);if(i.push(n),n.setIndex(r),console.log(n.toString()),t=(e=n).getInitiatorType(),-1!==a.indexOf(t)||"other"===t&&-1!==e.getUrl().indexOf("blob"))n.setStatus(n.Status.SKIPPED),L.log(n.getUrl()+" - skipped");else new s(n)},80*r)};console.log("Going to fetch "+o.length+" resources");for(var t=0;t<o.length;t++)e(t)}else console.log("Fetch resources is not supported for the current environment.")},
fetchStatus:function(){e(!1)},fetchLog:function(){e(!0)}};function s(n){var r=n.getUrl();try{var o=U.createXMLHTTPObject();if(!o)return console.log("Failed creating an XMLHttpRequest object for resource send"),void n.setStatus(n.Status.FAILED);o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e=o.response.length;L.log("success - fetching resource data: "+r+" ("+e+" b )");var t=o.getResponseHeader("Content-Type");n.setStatus(n.Status.READY),n.setContentType(t),n.setContent(o.response),
W.saveResourceDataEvent(n)}else L.log("Failed getting resource data by Ajax for url : "+r+" status:"+o.status+"  "+o.statusText),o.abort(),n.setStatus(n.Status.FAILED),n.setError("status: "+o.statusText+" ("+o.status+")"),W.saveResourceDataEvent(n)},o.cls_own=!0,o.responseType="arraybuffer",o.open("GET",r,!0),o.send(),n.setStatus(n.Status.FETCHING)}catch(e){console.log("Exception: Failed getting resource data by Ajax for url "+r+": "+e.message,e),n.setError("Exception: "+e.message)}}function c(e){var t,
n,r,o,i,a;void 0!==e&&(t=e.name,n=e.initiatorType);var s={SKIPPED:"SKIPPED",INIT:"INIT",FETCHING:"FETCHING",READY:"READY",FAILED:"FAILED",SENT:"SENT",SENTERROR:"SENT_ERROR"},c=s.INIT;return{Status:s,setUrl:function(e){t=e},getUrl:function(){return t},getInitiatorType:function(){return n},setIndex:function(e){r=e},getIndex:function(){return r},setStatus:function(e){(c=e)===s.SENT&&(i=E)},getStatus:function(){return c},setContentType:function(e){o=e},getContentType:function(){return o},setContent:function(e){i=
L.pako.gzip(e)},getContent:function(){return i},getError:function(){return a},setError:function(e){a=e},toString:function(){return"Resource["+r+"]: "+t+" (from "+n+") - "+c}}}}();at.IGNORABLE_TAGS=L.immutableSet("NOSCRIPT","SCRIPT"),ct.prototype.selector=function(){return void 0===this._resolvedSelector&&(this._resolvedSelector=this.nodeCache.selectorFor(this.element,this._useId)),this._resolvedSelector},ct.prototype.invalidateId=function(){this._useId=!1,this._resolvedSelector=E},ut.propertyForElement=
function(e){return"SELECT"===e.tagName?"selectedIndex":"TEXTAREA"===e.tagName?"value":"INPUT"===e.tagName?"checkbox"===e.getAttribute("type")||"radio"===e.getAttribute("type")?"checked":"value":E},ut.defaultValue=function(e,t){if("checked"===t)return e.hasAttribute("checked");if("selectedIndex"===t){var n=e.querySelector("option[selected]");return n?n.index:null!==e.querySelector("option")?0:-1}var r=e.getAttribute(t);return r||"value"!==t?r:""},dt.GB_ID_ATTRIBUTE_NAME="gbid",gt.DefaultOptions={addHeader:!(ht.prototype.toString=
function(){return"seq:"+this.seq+"referrer"+this.referrer+"charset:"+this.charset+"cookie-len"+(this.cookie?this.cookie.length:0)+(20<this.html.length?"html length: "+this.html.length:"html: "+this.html)})},gt.CLS_COMMENT_PREFIX=" CLS_DISABLED ",gt.CLS_HEADER_PREFIX=" GlassBox synthetic page ",gt.HTML_SCHEMA_PREFIX="\x3c!DOCTYPE HTML\x3e\n",gt.AttributeUpdaters={value:function(e,t){"password"===e.getAttribute("type")?e.setAttribute("value",yt.maskValueOf(e.value)):e.setAttribute("value",t?t.maskValue(e):
e.value)},checked:function(e){e.checked&&e.setAttribute("checked","")},selectedIndex:function(e){var t=e.selectedIndex,n=e.getElementsByTagName("option");n[t]&&n[t].setAttribute("selected","")}},yt.prototype.maskValue=function(e){var t=this._options.valueMaskingMode===S.ValueMaskingMode.WhiteList;return e.hasAttribute(S.maskingAttribute)?t=!0:L.hasClassName(e,"cls_mask")?t=!0:this._options.valueMaskIds&&N.contains(this._options.valueMaskIds,L.getElementId(e))?t=!t:this._options.valueMaskClasses&&
L.hasOneOfClassNames(e,this._options.valueMaskClasses)&&(t=!t),t&&e.value?yt.maskValueOf(e.value):e.value},yt.prototype.isDomMasked=function(e,t){var n,r,o=Array.prototype.slice.call(arguments,2);for(n=0;n<o.length;n++)if((r=this._selectorsByMaskingType[o[n].name])&&t.follow(e,r))return!0;return!1},yt.prototype.domMaskNode=function(e){var t,n,r,o,i,a=Array.prototype.slice.call(arguments,1);for(t=0;t<a.length;t++)if(o=a[t],i=this._selectorsByMaskingType[o.name])for(r=[],e.nodeType===Node.ELEMENT_NODE&&
yt.elementMatches.call(e,i)&&r.push(e),"function"==typeof e.querySelectorAll&&(r=Array.prototype.concat.apply(r,e.querySelectorAll(i))),n=0;n<r.length;n++)o.apply(r[n])},yt.prototype.domMaskNodeForce=function(e){var t,n=Array.prototype.slice.call(arguments,1);for(t=0;t<n.length;t++)n[t].apply(e)};var ne={TEXT:{name:"TEXT",apply:function(e){yt.maskTextContent(yt.textNodesOf(e))}},VALUE_ATTRIBUTE:{name:"VALUE_ATTRIBUTE",apply:function(e){var t=e.getAttribute("value");t&&e.setAttribute("value",yt.maskValueOf(t))}},
OMIT:{name:"OMIT",apply:function(e){e.parentNode&&e.parentNode.removeChild(e)}}},re={SELF:{follow:function(e,t){return!(e.nodeType!==Node.ELEMENT_NODE||!yt.elementMatches.call(e,t))}},SELF_OR_ANY_PARENT:{follow:function(e,t){for(var n=e;n&&n.nodeType===Node.ELEMENT_NODE;){if(yt.elementMatches.call(n,t))return!0;n=n.parentNode}return!1}},SELF_OR_ANY_CHILD:{follow:function(e,t){return!(e.nodeType!==Node.ELEMENT_NODE||!yt.elementMatches.call(e,t))||"function"==typeof e.querySelectorAll&&0<e.querySelectorAll(t).length}}};
yt.textNodesOf=function(e){if(e.nodeType===Node.TEXT_NODE)return[e];for(var t,n=[],r=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=r.nextNode();)n.push(t);return n},yt.MASK_CHAR="*",yt.maskValueOf=function(e){return(new Array((e||"").length+1)).join(yt.MASK_CHAR)},yt.maskTextContent=function(e){var t,n,r,o;for(t=0;t<e.length;t++)e[t].textContent&&e[t].textContent.trim()&&(n=e[t].textContent.trim(),r=yt.maskValueOf(n),n.length!==e[t].textContent.length&&(o=e[t].textContent.indexOf(n),
r=e[t].textContent.substring(0,o)+r+e[t].textContent.substring(o+n.length)),e[t].textContent=r)},yt.prototype.maskCookie=function(e){if(!e||!this._cookieMaskSet)return e;var t,n,r,o,i,a=e.split(";"),s=[];for(t=0;t<a.length;t++)-1!==(r=(n=a[t]).indexOf("\x3d"))?(o=n.substring(0,r).trim(),i=n.substring(r+1),s.push(o+"\x3d"+(i&&this._cookieMaskSet.hasOwnProperty(o)?yt.maskValueOf(i):i))):s.push(n);return s.join("; ")},yt.elementMatches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n};var oe,ie,ae,se,ce,le,ue,de,pe,fe,me,ge,he,ve,Ee,ye,be,_e,Te,Se,we,Ce,Ie=(oe=new dt(function(e,t){if("HTML"===e.tagName)return"html";var n=P.getSelectorExpression(e,!1,{useId:t});return null===n&&e===h.body&&(n="BODY"),n},v.domAssignGlassboxId),ie=new yt({valueMaskingMode:v.maskingMode,
valueMaskIds:v.maskList,valueMaskClasses:v.maskClassList,domMaskIds:v.domMaskContentById,domMaskClasses:v.domMaskContentById,domOmitIds:v.domMaskOmitById,domOmitClasses:v.domMaskOmitByClass,cookieMask:v.maskCookies}),ae=new function(e){var t=e.implementation.createHTMLDocument("clonner-doc");this.cloneNode=function(e){return t.importNode(e,!0)}}(h),se=new it(!v.domKeepComments,["iframe","script","noscript"],null,v.domKeepScriptMatching),ce=new it(!v.domKeepComments,["script","noscript"],{input:v.domIgnoredFormElements},
v.domKeepScriptMatching),le=function(e,t){var n;for(n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1}(h.location.href,v.domPartialWhenLocationContains||[]),de=new pt(ue=D,h,at),pe=new Et({usingGlassboxIds:v.domAssignGlassboxId},{name:"DOM-mutations",tracker:new lt(D,oe),providers:le?[]:function(c,l,u,e){u=u||function(){return!1};var t=function(e,t){var n=e.attributes?Object.keys(e.attributes):[];if(n&&0<n.length&&!u(e.element)){var r,o,i={};for(r=0;r<n.length;r++)o=e.element.getAttribute(n[r]),
"INPUT"===e.element.tagName&&"value"===n[r]&&(o="password"===e.element.getAttribute("type")?yt.maskValueOf(o):l.maskValue(e.element)),i[n[r]]={value:o,ordinal:e.attributes[n[r]]};L.ensureProperty(t,"domChanges",e.selector()).attributes=i}},n=function(e,t){if(void 0!==e.characterDataChild){var n=L.indexOfNode(e.element.childNodes,e.characterDataChild);if(0<=n){var r=e.characterDataChild;if(u(r))return;l&&l.isDomMasked(e.element,re.SELF_OR_ANY_PARENT,ne.TEXT)&&(r=c.cloneNode(e.characterDataChild),l.domMaskNodeForce(r,
ne.TEXT)),L.ensureProperty(t,"domChanges",e.selector()).characterData={value:r.textContent,child:n}}}},r=function(e,t){if(void 0!==e.childListOrdinal){if(l.isDomMasked(e.element,re.SELF_OR_ANY_PARENT,ne.OMIT))return;var n,r,o,i=[],a=!1,s=l.isDomMasked(e.element,re.SELF_OR_ANY_PARENT,ne.TEXT);for(n=0;n<e.element.childNodes.length;n++)r=e.element.childNodes.item(n),u(r)||l.isDomMasked(r,re.SELF,ne.OMIT)||(s?(r=c.cloneNode(r),l.domMaskNodeForce(r)):(a=!1,l.isDomMasked(r,re.SELF_OR_ANY_CHILD,ne.OMIT)&&
(r=c.cloneNode(r),l.domMaskNode(r,ne.OMIT),a=!0),l.isDomMasked(r,re.SELF_OR_ANY_CHILD,ne.TEXT,ne.VALUE_ATTRIBUTE)&&(a||(r=c.cloneNode(r)),l.domMaskNode(r,ne.TEXT,ne.VALUE_ATTRIBUTE))),(o=L.DOMElement2Str(r))&&i.push(o));L.ensureProperty(t,"domChanges",e.selector()).children={ordinal:e.childListOrdinal,childList:i}}};return{all:function(){return[t,n,r]}}}(ae,ie,at).all()},{name:"property",tracker:new ut(h,oe),providers:vt(ie,{ignoredFormElement:v.domIgnoredFormElements}).all()}),fe=new gt(h,ae,ie,
se,ce),me={triggers:v.domNewPageTriggers,ajaxTriggers:v.domNewPageAjaxTriggers,onLoadTimeoutReport:v.domStartAfter,updateOnWsCount:v.domUpdateEveryWsMsgIn,compressionEnabled:v.domCompress,semiDomEnabled:v.semiDomEnabled},be=ye=Ee=0,_e=ve=he=ge=!1,Te=function(){ve=he=!1,Ee=0},Se=function(){Te(),we()},we=function(e){if(!ve&&!he){if(2<=Ee++){var t=fe.lastError||"";return console.error("[EyeView-1502]: failed to obtain page snapshot 2 times. aborting DOM based recording. lastError: "+t.message+" stack:"+
t.stack),!(ve=!0)}oe.introduceDocument(h),de.start();var n=((r=fe.take(ye))&&(ye++,ue.emit("pageSnapshot:save",r),ue.emit("pageSnapshot:report",r)),r);n?(e||ue.emit("domTrackingStarted"),pe.start(),he=!0,L.log("reporting full page snapshot and starting DOM mutations tracking. snapshotData:"+n)):L.log("could not take page snapshot (is it too early?)")}var r;return he},Ce=function(){++be%me.updateOnWsCount==0&&(L.log("dispatching DOM update event. ws messages:"+be),ue.emit("pageUpdate"))},ue.on("event:mousedown",
function(e){if(!ge)return E;-1!==me.triggers.indexOf(e.selectorExpression)&&(L.log("new dom-based page trigger was clicked. selector:"+e.selectorExpression),Se())}),ue.on("ajax:send",function(e){if(!ge)return E;var t;for(t=0;t<me.ajaxTriggers.length;t++)if(-1!==e.url.indexOf(me.ajaxTriggers[t]))return L.log("new dom-based page trigger by ajax. trigger uri:"+e.url),void Se()}),ue.on("init:loaded",function(){_e||(de.start(),!ge||he||_e||ve||!me||void 0===me.onLoadTimeoutReport||-1===me.onLoadTimeoutReport||
setTimeout(we,me.onLoadTimeoutReport))}),{initialize:function(e){return fe.supported()?(de.supported()||(me.semiDomEnabled?(L.log("DOMObserver is not supported by the browser. Activating Semi-Dom support"),_e=!0,fe.setOption("removeScripts",!1)):(L.log("DOMObserver is not supported by the browser, using old Mutation Events for full DOM support."),de=new ft(e,h,at))),-1!==me.updateOnWsCount&&new st(window,Ce),me.compressionEnabled&&L.log("DOM snapshots compression ENABLED."),le&&L.log("DOM snapshots partial mode ENABLED (by location)."),
ge=!0):(L.log("Cannot record using DOM recorder. Current environment does not support needed API."),!(ve=!0))},getDomSnapshot:function(){return ge&&we()?_e?E:pe.getSnapshot():E},ensureStarted:function(e){return we(e)},isAborted:function(){return ve},isSemiDomActivated:function(){return _e},isStarted:function(){return he},reset:Te,getMasker:function(){return ie},getNodeCache:function(){return oe}});v.domRecordEnabled&&W.registerPlugin("domRecordingPlugin",Ie),(e[o]=W).initialize(i)}else void 0!==window.console&&
"function"==typeof window.console.log&&console.log("WARNING[EyeView-1301]: detector script has been loaded more than once. Please fix to have a single detector loading. (Extra script loading will be ignored)");function Ae(e,t){var n,r,o,i=t+"\x3d",a=e.cookie.split(";");for(n=0;n<a.length;n++)if(-1!==(o=(r=a[n]).indexOf(i)))return r.substring(o+i.length,r.length);return null}function xe(e,t){if(null==t)return!1;if(-1===t.indexOf("://"))return!0;var n=e.createElement("a");return n.href=t,n.hostname===
e.location.hostname&&n.port===e.location.port&&n.protocol===e.location.protocol&&"file:"!==e.location.protocol}function Ne(){var a=[];this.add=function(e,t,n,r,o,i){this[o.toLowerCase()]={type:e,nullable:t,parser:n,name:o,required:i,validator:r},i&&a.push(o)},this.requiredFieldsMask=function(){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}}function Re(){this.errors=[],this.warnings=[]}function Me(e,t){var n,r="_cls_by_chances_"+t,o="_cls_last_chance_"+t,i=Ae(h,r),a=Ae(h,o);return a!==""+e&&
(i=a=null),null===i?(n=Math.random()<e,h.cookie=r+"\x3d"+n,h.cookie=o+"\x3d"+e):n="true"===i,n}function ke(i,e,t,n,s,c,l){if(n){c=c||{};var r,o,a,u,d=this,p=n.getAttribute("id"),f=(r=p,o=L.toAbsoluteUrl(i.document,n.getAttribute("src")),function(e){var t=e.createElement("script");return t.setAttribute("type","text/javascript"),r&&t.setAttribute("id",r),t.setAttribute("src",o),t.setAttribute("data-clsautoinjected","true"),t}),m=(a=100,function(){return""+a++}),g=(u=e,function(e){var t=L.shallowExtend(u,
{});return t.reportToStorageAfterUnload=!0,t}),h=function(){return L.uuid()},v=function(n,e,r){var t,o,i,a=c.assignContainerId?((o=(t=n).getAttribute(ke.CONTAINER_ID_ATTRIBUTE))||(o=m(),t.setAttribute(ke.CONTAINER_ID_ATTRIBUTE,o)),o):E;return!((i=n).contentDocument&&"complete"===i.contentDocument.readyState&&i.contentDocument.body.hasChildNodes()&&!function(e,t,n,r){if(e._cls_auto_injected)return!1;var o=e.document;return p&&o.querySelector("script[id\x3d'"+p+"']")?(L.log("iframe detector injection skipped since the iframe already contains Glassbox detector."),
!1):(e._cls_container_id=r,e._cls_parent_pageId=n,e._cls_forced_pageId=t,e._cls_auto_injected=!0,e._cls_config=g(e),o.head.appendChild(f(o)),l&&setTimeout(l.bind(null,e),0),!0)}(n.contentWindow,e,r,a))&&(n.addEventListener("load",function e(){try{n.removeEventListener("load",e),delete (t=n).contentWindow[s],t.contentWindow._cls_auto_injected=!1,d.tryInjectFrame(n,r)}catch(e){L.log("error during iframe injection after 'load' event. error:"+e)}var t}),!0)};this.scanAndInjectIFrames=function(e,t){if(!t)return-1;
var n,r=0,o=e.document.getElementsByTagName("iframe");for(n=0;n<o.length;n++)try{!R.isCrossOriginFrame(i,o[n])&&v(o[n],h(),t)&&r++}catch(e){L.log("error during iframe injection (ignoring). error:"+e)}return r},this.tryInjectFrame=function(e,t){if(!t)return!1;try{return!R.isCrossOriginFrame(i,e)&&v(e,h(),t)}catch(e){L.log("error during iframe auto-injection. error:"+e)}return!1}}else this.scanAndInjectIFrames=this.tryInjectFrame=function(){if(!n)return L.log("WARNING: IFrameInjector cannot perform injection - top most detector script tag was not found."),
-1}}function Oe(e,r,o,t,n){function i(e,t,n){try{if(e[r])return n?setTimeout(function(){e[r].utils.bus.emit(t,o)},0):e[r].utils.bus.emit(t,o),!0}catch(e){}return!1}e.on("event:unload",function(){o.top!==o&&i(o.top,"innerFrameUnload",!1)}),e.on("domTrackingStarted",function(){i(o.top,"topMostOrInnerFrameDomTrackingStarted",!0)}),e.on("saveEvent",function(e){t.isStarted()&&"pageUpdate"!==e.type&&-1!==S.snapshotApplicableEventType.indexOf(e.type)&&i(o.top,"topMostOrInnerFrameEvent",!0)}),e.on("topMostOrInnerFrameDomTrackingStarted",
function(t){t!==o&&o[r].plugins.domRecordingPlugin.ensureStarted(!0),R.bfsVisitFrames(o,function(e){if(e.contentWindow!==t){if(R.isCrossOriginFrame(o,e))return!1;e.contentWindow[r]&&e.contentWindow[r].plugins.domRecordingPlugin.ensureStarted(!0)}return!0})}),e.on("innerFrameUnload",function(){setTimeout(function(){n.sendStoragePendingReports()},0)}),e.on("topMostOrInnerFrameEvent",function(t){o!==t&&o[r].savePageUpdate(),R.bfsVisitFrames(o,function(e){if(e.contentWindow!==t){if(R.isCrossOriginFrame(o,
e))return!1;e.contentWindow[r]&&e.contentWindow[r].savePageUpdate()}return!0})})}function De(){this.readyState=XMLHttpRequest.UNSENT,this.status=E,this._url=E,this._contentType=E,this.cls_own=!0}function Le(){this.readyState=XMLHttpRequest.UNSENT,this.status=E,this.xdr=new XDomainRequest,this.xdr.onprogress=function(){},this.xdr.ontimeout=function(){};var e=this;this.xdr.onload=function(){e.status=200,e.readyState=XMLHttpRequest.DONE,e.onreadystatechange&&e.onreadystatechange()},this.xdr.onerror=
function(){e.status=400,e.readyState=XMLHttpRequest.DONE,e.onreadystatechange&&e.onreadystatechange()}}function Ue(e){this.size=0,this.limit=e,this._keymap={}}function Be(t,o,n){var u=[],d=[];function p(e,t,n,r){o.emit("navigation",{direction:e,urlType:t,fromUrl:n,toUrl:r})}function r(e,t){e=e||"";var n=u.length;if(0===n)return u.push(e),!1;if(u[n-1]===e)return!1;var r=u[u.length-1],o=f(r),i=f(e),a=2===o.length&&2===i.length&&o[0]===i[0]?Be.UrlType.HASH_ONLY:Be.UrlType.FUlL_URL,s=null;2<=n&&u[n-2]===
e?(u.pop(),d.push(r),s=Be.DirectionType.BACK):0<d.length&&d[d.length-1]===e?(d.pop(),u.push(e),s=Be.DirectionType.FORWARD):(u.push(e),d=[]);var c=a===Be.UrlType.FUlL_URL?e:i[1],l=a===Be.UrlType.FUlL_URL?r:o[1];return t?setTimeout(function(){p(s,a,l,c)},0):p(s,a,l,c),!0}function f(e){var t=e.split("#");return[t[0],t[1]||""]}function e(t){if("function"==typeof n[t]){var e=n[t];n[t]=function(){try{3<=arguments.length&&r(arguments[2],!0)}catch(e){L.log("error while intercepting history."+t+" method. error:"+
e)}return e.apply(n,[].slice.call(arguments))}}}try{e("pushState"),e("replaceState")}catch(e){L.log("failed hooking native history manipulation methods.",e)}o.on("init:loaded",function(){var e=void 0!==t.onpopstate?"popstate":"hashchange";t.addEventListener(e,function(){r(t.location.href,!1)}),r(t.location.href,!0)}),this.printHistory=function(){var e;for(e=0;e<u.length;e++)console.log("  - "+e+" : "+u[e])}}function Pe(e,n,r){var o=r?function(e){var t;for(t=0;t<r.length;t++)if(-1!==e.indexOf(r[t]))return!0;
return!1}:Pe.ALWAYS_FALSE,i=!1;function t(e){if(o(e)!==i){var t=!i;L.log((t?"ENTERING":"LEAVING")+" recording blackout for new location:"+e),n.emit(t?Pe.EVENTS.BlackoutEnter:Pe.EVENTS.BlackoutLeave,e),i=t}}this.isUnderBlackout=function(){return i},n.on("init:loaded",function(){t(e.location.href)}),n.on("navigation",function(){t(e.location.href)})}function Fe(e,t,n,r){this.severity=e,this.code=t,this.count=n,r&&(this.msg=r)}function He(r,n){this.compressionRatio=He.INITIAL_COMPRESSION_FACTOR,n||(n=
{compress:!0,forceBase64:!0});var t=n.compress||n.forceBase64?1.33:1,o=1,i=function(e,t){return(e?"1":"0")+(t?"1":"0")};this.newPayload=function(){return new je},this.encode=n.compress?function(e){if(0==e._updates.length)return"";var t=JSON.stringify(e._updates),n=L.Base64.bytesToBase64(r.compress(t));return function(e){this.compressionRatio=Math.max(e,He.MINIMAL_COMPRESSION_FACTOR)}(n.length/t.length),i(!0,!0)+n}:function(e){if(0==e._updates.length)return"";var t=JSON.stringify(e._updates);return i(!1,
n.forceBase64)+(n.forceBase64?L.Base64.toBase64(t):t)},this.refForEvent=function(e){return""+o++ +L.hashcode(e.type+e.timestamp)},this.estimatedDomUpdateSize=function(e){return(e?JSON.stringify(e).length:0)*t*(n.compress?this.compressionRatio:1)}}function je(){this._updates=[]}function ze(l,u,d,p,f){f||(f={});var m=f.base64UriEncoder||encodeURIComponent,g=new He(p,{forceBase64:!0,compress:f.domCompress});this.name="FORM-URL",this.supportsCompression=!1,this.isCompressing=function(){return!1},this.visitXhr=
function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},this.encodeSnapshotHtml=function(e){return f.domCompress?{encoded:d.Base64.bytesToBase64(p.compress(e)),plain:!1,compressed:!0}:{encoded:d.Base64.encode(e),plain:!1,compressed:!1}},this.estimateBeaconSize=function(e){return e},this.encodeEvent=function(e,t){var n=u.encoding.delimiters.eventParts,r=p.encodeTimestamp(e),o=p.encodeEventType(e.type),i=l.isUndefined(e.binding)||l.isUndefined(e.binding.valueEncoding)?e.value:
e.binding.valueEncoding(e.value);void 0===t&&(t=l.isUndefined(e.selectorExpression)||null==e.selectorExpression?u.encoding.rootSelector:e.selectorExpression);var a=r+n+o+n+t;l.isString(i)&&0<i.length?a+=n+(e.shouldEncodeValue?u.encoding.valueEncodedPrefix:u.encoding.valueNotEncodedPrefix)+(e.shouldEncodeValue?d.Base64.encode(i):i):a+=n+"-";l.isUndefined(e.extraInfo)?a+=n+"-":a+=n+p.encodeExtraInfo(e);f.reportDebugInfo&&!l.isUndefined(e.debugInfo)?a+=n+p.encodeDebugInfo(e):a+=n+"-";var s="";e.domSnapshot&&
(s=g.refForEvent(e),a+=n+u.encoding.domSnapshotRefPrefix+s),d.trace("encoding ("+e.type+") "+(l.contains(["webSocketFrame","resourceContent","pageSnapshot"],e.type)?r+n+o+n+"{event string is too long}":a)+(0<e.getSubPage().length?" [on "+e.getSubPage()+"]":""));var c={event:encodeURIComponent(a),domUpdate:e.domSnapshot,domUpdateRef:s};return c.length=c.event.length+g.estimatedDomUpdateSize(e.domSnapshot),c},this.encodeBeacon=function(e,t,n,r,o,i,a){var s,c=[],l=g.newPayload();for(s=0;s<a.length;s++)c.push(a[s].event),
a[s].domUpdate&&l.add(a[s].domUpdate,a[s].domUpdateRef);return"v\x3d"+e+(void 0!==n?"\x26r\x3d"+encodeURIComponent(n):"")+"\x26sn\x3d"+t+"\x26p\x3d"+r+(void 0!==o?"\x26sp\x3d"+encodeURIComponent(o):"")+(void 0!==i?"\x26pssn\x3d"+i:"")+"\x26e\x3d"+c.join(u.encoding.delimiters.events)+"\x26dom\x3d"+m(g.encode(l))}}function Ve(a,s,f,m,g){g||(g={});var h=0.25,v=new He(m,{forceBase64:!1,compress:!g.compress&&g.domCompress});this.name="JSON",this.supportsCompression=!0,this.isCompressing=function(){return!0},
this.visitXhr=function(e){g.corsSafelisted?e.setRequestHeader("Content-Type","text/plain"+(g.compress?"; charset\x3d"+Ve.COMPRESSED_INDICATION_CHARSET:"")):(e.setRequestHeader("Content-Type","application/json"),g.compress&&e.setRequestHeader("Content-Encoding","gzip"))},this.encodeSnapshotHtml=function(e){return!g.compress&&g.domCompress?{encoded:f.Base64.bytesToBase64(m.compress(e)),plain:!1,compressed:!0}:{encoded:e,plain:!0,compressed:!1}},this.estimateBeaconSize=function(e){return g.compress?
e*h:e},this.encodeEvent=function(e,t){var n={timestamp:m.encodeTimestamp(e),type:""+m.encodeEventType(e.type)};void 0===t&&(t=a.isUndefined(e.selectorExpression)||null==e.selectorExpression?s.encoding.rootSelector:e.selectorExpression),n.selector=t;var r=a.isUndefined(e.binding)||a.isUndefined(e.binding.valueEncoding)?e.value:e.binding.valueEncoding(e.value);if(a.isString(r)&&0<r.length){var o=e.shouldEncodeValue?s.encoding.valueEncodedPrefix:s.encoding.valueNotEncodedPrefix;r=e.shouldEncodeValue?
f.Base64.encode(r):r,n.value=o+r}else n.value="-";a.isUndefined(e.extraInfo)?n.extraInfo="-":n.extraInfo=m.encodeExtraInfo(e),g.reportDebugInfo&&!a.isUndefined(e.debugInfo)?n.debugInfo=m.encodeDebugInfo(e):n.debugInfo="-";var i="";return e.domSnapshot?(i=v.refForEvent(e),n.domSnapshot=s.encoding.domSnapshotRefPrefix+i):n.domSnapshot="-",f.trace("json encoding ("+e.type+") "+n.timestamp+";"+n.type+" {event string is too long}"+(0<e.getSubPage().length?" [on "+e.getSubPage()+"]":"")),function(e){var t,
n=0;for(t in e.event)"string"==typeof e.event[t]&&(n+=t.length+e.event[t].length+6);return e.length=n+2+v.estimatedDomUpdateSize(e.domUpdate),e}({event:n,domUpdate:e.domSnapshot,domUpdateRef:i})},this.encodeBeacon=function(e,t,n,r,o,i,a){var s,c=[],l=v.newPayload();for(s=0;s<a.length;s++)c.push(a[s].event),a[s].domUpdate&&l.add(a[s].domUpdate,a[s].domUpdateRef);var u={ver:e,sn:t,pageId:r,events:c,dom:v.encode(l)};n&&(u.referrer=n),void 0!==o&&0<o.length&&(u.subPage=o),void 0!==i&&(u.pssn=i);var d=
JSON.stringify(u);if(g.compress){var p=m.compress(d);return h=Math.max(p.length/d.length,Ve.MINIMAL_COMPRESSION_FACTOR),f.log("applying json compression. before:"+d.length+" after:"+p.length+" (ratio:"+h+")"),p}return d}}function We(r){function i(e,t){return e+"\x3d"+t}function n(e,t,n){n&&-1!==r.indexOf(t)&&e.push(i(t,n))}if(r&&0!==r.length){function a(e){var t=[];return n(t,"clsjsv",encodeURIComponent(W.version)),n(t,"_cls_s",X.get(S.cookies.session)),n(t,"_cls_v",X.get(S.cookies.visitor)),n(t,
"pid",e),t.join("\x26")}var s=function(){return e||(e=a(W.page.id)),e},c=-1!==r.indexOf("sn"),l=-1!==r.indexOf("ref"),u=-1!==r.indexOf("_cls_subs");this.apply=function(e,t,n){var r=n?a(n):s();if(!(r||c||u||l))return e;var o=[];return l&&o.push("ref\x3d"+encodeURIComponent(We.currentRef())),r&&o.push(r),u&&X.get(S.cookies.sub_session)&&o.push(i("_cls_subs",X.get(S.cookies.sub_session))),c&&t&&o.push(i("sn",t)),0<o.length?e+(-1!==e.indexOf("?")?"\x26":"?")+o.join("\x26"):e}}else this.apply=function(e,
t,n){return e};var e}function qe(){this.current=null,this.last=null}function Xe(e,t,n){this.url=t,this.timestamp=n,this.type=e}function Ge(e,t){this.x=e,this.y=t}function Ke(e){this.map={},this.cookieName=e,this.readFromCookie()}function Ye(e,t,n,r){this.pageId=r,this.timestamp=t,this.type=e,this.element=n,this.report=!0,this.shouldEncodeValue=!0,this.dependent=!1,this.subPage=window.location.hash,this.referrer=L.stripHash(window.location.href)}function Je(e,t,n){this.element=e,this.message=0<t.length?
t:"NONE",this.selector=n}function Qe(e){this.value=e}function Ze(n){var r=Ze.extractTLD(n),i={always:function(){return function(){return!0}},never:function(){return function(){return!1}},fqdn:function(){return function(e){var t=L.extractHostname(e.interception.url);return!t||t===n}},tld:function(){return function(e){var t=L.extractHostname(e.interception.url);return!t||Ze.extractTLD(t)===r}},statusgte:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'status'.");
var t=parseInt(e);return function(e){return e.status>=t}},urimatches:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'pattern'.");var t=new RegExp(e);return function(e){return null!==t.exec(e.interception.url)}},and:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'inner arguments'.");var n=t(e);return function(e){var t;for(t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'inner arguments'.");
var n=t(e);return function(e){var t;for(t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}};function a(e){var t=e.indexOf("(");if(-1<t){var n,r=-1,o=1;for(n=t+1;n<e.length;n++)if("("===e.charAt(n)&&o++,")"===e.charAt(n)&&0==--o){r=n;break}if(-1===r)throw new SyntaxError("illegal ajax predicate format: missing argument closing ')'");return[L.trim(e.substring(0,t).toLowerCase()),L.trim(e.substring(t+1,r))]}return[e.toLowerCase()]}function t(e){var t,n,r=[],o=(e||"").split(",");for(t=0;t<o.length;t++){if(n=
a(L.trim(o[t])),!i[n[0]])throw new SyntaxError("illegal ajax predicate format: unknown predicate type '"+n[0]+"'.");r.push(i[n[0]](n[1]))}return r}i.true=i.always,i.false=i.never,this.create=function(e){if(!e)return i.never();var t=a(e);if(!i[t[0]])throw new SyntaxError("illegal ajax predicate format: unknown predicate type '"+t[0]+"'.");return i[t[0]](t[1])}}function $e(e,n,r,o){var u=r.ajaxDebug,t=function(){return!1},d=t,p=t,f=t,m=t,g=t;function i(e){D.emit("ajax:load",new et(this,L.currentTimestamp())),
u&&L.trace("AJAX load intercepted",this)}function a(e){D.emit("ajax:error",new et(this,L.currentTimestamp())),u&&L.trace("AJAX error intercepted",this)}function s(e){u&&L.trace("AJAX onLoadstart intercepted",this),this.interception?(this.interception.startTime=L.currentTimestamp(),this.interception.lastFocusedElement=h.activeElement):L.trace("AJAX onLoadstart - missing cls xhr interception data")}function c(e){if(u&&L.trace("AJAX onLoadend intercepted",this),this.interception){var o=this,i=L.currentTimestamp(),
a=f(o),s=a||p(o),c=g(o),l=c||m(o);if(!(l||s||d(o)))return!1;setTimeout(function(){var e=o.getAllResponseHeaders(),t=a&&$e.hasGzipContentEncoding(e),n=a?$e.captureContent(o,t):null,r=new et(o,i,l&&o.interception.requestHeaders?o.interception.requestHeaders.join("\r\n"):null,c?o.interception.requestContent:null,s?$e.fixHeaders(e,n?n.length:E):null,n,t);0<o.interception.startTime?r.duration=i-o.interception.startTime:r.duration=-1,r.lastFocusedElement=o.interception.lastFocusedElement,r.status=o.status,
r.statusText=o.statusText,D.emit("ajax:loadend",r)},0)}else L.trace("AJAX onLoadend - missing cls xhr interception data for url: "+(this.responseURL||""))}function l(){var n=XMLHttpRequest.prototype.open,r=XMLHttpRequest.prototype.send,t=XMLHttpRequest.prototype.setRequestHeader;n&&r?(e.XMLHttpRequest.prototype.open=function(){var t,e=this;try{(function(e,t){if($e.isClsOwnAjax(e))return!1;var n,r=t.toLowerCase();for(n=0;n<o.length;n++)if(0<=r.indexOf(o[n]))return!1;return!0})(e,t="object"==typeof arguments[1]?
arguments[1].toString():arguments[1])&&(e.interception={uuid:L.uuid(),requestHeaders:[],method:arguments[0],url:t,async:arguments[2]},e.addEventListener("load",i,!1),e.addEventListener("error",a,!1),e.addEventListener("loadstart",s,!1),e.addEventListener("loadend",c,!1),D.emit("ajax:open",new et(e,L.currentTimestamp())),u&&L.trace("AJAX open intercepted",e))}catch(e){L.log("Exception occurred when intercepting ajax 'open' for url: "+t+" Error: "+e.message,e)}n.apply(this,arguments)},e.XMLHttpRequest.prototype.send=
function(){if(this.interception)try{var e=arguments[0],t=new et(this,L.currentTimestamp());0<arguments.length&&(this.interception.requestContent=e,t.data=e),D.emit("ajax:send",t),u&&L.trace("AJAX send intercepted",this)}catch(e){L.log("Exception occurred when intercepting ajax 'send'. Error: "+e.message,e)}r.apply(this,arguments)},e.XMLHttpRequest.prototype.setRequestHeader=function(){var e=this;if(e.interception)try{e.interception&&e.interception.requestHeaders&&e.interception.requestHeaders.push(arguments[0]+
": "+arguments[1]),u&&L.trace("AJAX 'setRequestHeader' intercepted",e)}catch(e){L.log("Exception occurred when intercepting ajax 'setRequestHeader'. Error: "+e.message,e)}t.apply(this,arguments)}):L.log("WARNING: cannot intercept ajax, XMLHttpRequest prototype was altered (other, earlier loaded, 3rd party js?).")}this.initialize=function(e){try{$e.cfgBackwardComp(r)&&L.log("Warning: using deprecated ajax configuration modifiers.");var t=new Ze(n);v.ajaxRecordMetadata&&(d=t.create(v.ajaxRecordMetadata)),
v.ajaxRecordResponseHeaders&&(p=t.create(v.ajaxRecordResponseHeaders)),v.ajaxRecordResponseBody&&(f=t.create(v.ajaxRecordResponseBody)),v.ajaxRecordRequestHeaders&&(m=t.create(v.ajaxRecordRequestHeaders)),v.ajaxRecordRequestBody&&(g=t.create(v.ajaxRecordRequestBody))}catch(e){return L.log("Error while parsing Ajax predicates from configuration. interception disabled. error:"+e),!1}return $e.supportAjaxOnProgressEvents()?(e.on("init:preloaded",l),L.log("Intercepting AJAX calls."),!0):(L.log("Ajax interception not supported."),
!1)}}function et(e,t,n,r,o,i,a){try{if(!e.interception)return void(debugMode&&L.trace("AjaxCall - missing cls xhr interception data for url: "+(e.responseURL||"")));this.xhr=e,this.timestamp=t,this.interception=e.interception,this.url=$e.safeEncodeURI(e.interception.url),this.method=e.interception.method,this.requestHeaders=n||null,this.requestContent="string"==typeof r?r:null,this.responseHeaders=o,this.responseContent=i,this.responseCompressed=a}catch(e){console.log("Error in AjaxCall construction: "+
e)}}function tt(r,s,c,l){s=s||"",l=l||[];var u=null!==L.readCookie(tt.READY_COOKIE)?tt.STATE.READY:tt.STATE.INIT,d=[],p=function(e){e&&(r.cookie=tt.READY_COOKIE+"\x3d;path\x3d/;domain\x3d"+X.getDefaultDomain());var t=d;d=[],u=tt.STATE.READY;for(var n=0;n<t.length;n++)t[n](e)};this.help=function(e,t){if(u===tt.STATE.READY)return t(!0);var n,r,o=[];for(n in S.cookies)(r=L.readCookie(S.cookies[n]))&&o.push(S.cookies[n]+"\x3d"+encodeURIComponent(r));for(n=0;n<l.length;n++)(r=L.readCookie(l[n]))&&o.push(l[n]+
"\x3d"+encodeURIComponent(r));if(d.push(t),0<o.length){if(u===tt.STATE.HELPING)return;u=tt.STATE.HELPING;var i=s+"?"+o.join("\x26"),a=e();a.onreadystatechange=function(){4===a.readyState&&(200===a.status?p(!0):(L.log("failed to execute CORS support request. statusCode:"+a.status),p(!1)))},a.open("GET",c.apply(i),!0),a.withCredentials=!0,a.send()}else L.log("ERROR: could not retain cls cookies (was the TLD configured and detected correctly?)"),p(!1)}}function nt(n,a){this.config={maxReportSize:-1,
maxReports:-1},this.gainLockToReport=function(){return!0},this.freeLock=function(){},this.flushEvents=function(e,t){try{n[nt.KEY_NAME]=function(e,t,n,r){var o,i;if("object"==typeof t)o=L.Base64.bytesToBase64(t),i=nt.ENCODING_BASE64;else{if("string"!=typeof t)throw"cannot report to storage: unsupported input type: "+typeof t;o=t,i="plain"}return(e=e?JSON.parse(e):[]).push({ts:n,pid:a,sn:r,encoding:i,e:o}),JSON.stringify(e)}(n[nt.KEY_NAME],e,L.currentTimestamp(),t)}catch(e){L.log("error: could not flush client events into storage. "+
e.message),delete n[nt.KEY_NAME]}}}function rt(i,a,s,c){c=c||function(){return!1},i.on("domMutation",function(e){var t,n,r,o=!1;if("childList"===e.type)for(t=0;t<e.addedNodes.length;t++)if("IFRAME"===e.addedNodes[t].tagName&&s.tryInjectFrame(e.addedNodes[t],a))L.log("new frame was detected and auto-injected."),o=!0;else{if("function"==typeof e.addedNodes[t].getElementsByTagName)for(r=e.addedNodes[t].getElementsByTagName("iframe"),n=0;n<r.length;n++)s.tryInjectFrame(r[n],a)&&(L.log("new frame was detected and auto-injected."),
o=!0)}else"attributes"===e.type&&"IFRAME"===e.actualTarget.tagName&&(o=e.attributeName!==ke.CONTAINER_ID_ATTRIBUTE);o&&c()&&i.emit("pageUpdate")})}function ot(e,r,o,i){i=i||function(){return!1};var a={};function s(e){for(var t,n=e.parentElement;n&&(t=o.idOf(n,!1),!a[t]);)a[t]=!0,n=n.parentElement}function c(e){var t,n=e.querySelectorAll("iframe");for(t=0;t<n.length;t++)s(n[t]);return 0<n.length}r.on("domMutation",function(e){var t,n=!1;if("childList"===e.type)for(t=0;t<e.addedNodes.length;t++)"IFRAME"===
e.addedNodes[t].tagName?(s(e.addedNodes[t]),n=!0):"function"==typeof e.addedNodes[t].getElementsByTagName&&(n=c(e.addedNodes[t]));else"attributes"===e.type&&(n="IFRAME"===e.actualTarget.tagName||a[o.idOf(e.actualTarget,!0)]);n&&i()&&r.emit("pageUpdate")}),c(e)}function it(o,i,a,s){s=s&&new RegExp(s);var c=function(e){var t,n=[],r=e.getElementsByTagName("script");for(t=0;t<r.length;t++)s.exec(r[t].innerText)||n.push(r[t]);return n};this.sanitize=function(e){var t,n,r=[];if(o&&Array.prototype.push.apply(r,
function(e){var t=[];if(e.ownerDocument)for(var n,r=e.ownerDocument.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!0);n=r.nextNode();)t.push(n);return t}(e)),i&&"function"==typeof e.getElementsByTagName)for(t=0;t<i.length;t++)s&&"script"===i[t]?Array.prototype.push.apply(r,c(e)):Array.prototype.push.apply(r,e.getElementsByTagName(i[t]));if(a&&"function"==typeof e.querySelector)for(n in a)for(t=0;t<a[n].length;t++)e.querySelector(n+"#"+a[n][t])&&r.push(e.querySelector(n+"#"+a[n][t]));!function(e){var t;
for(t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}(r),L.log("sanitation of DOM element completed. removedNodes:"+r.length)}}function at(e){return e instanceof Comment||!("IFRAME"!==e.tagName||!e.parentNode||"HEAD"!==e.parentNode.tagName)||at.IGNORABLE_TAGS.hasOwnProperty(e.nodeName)}function st(e,r){if(e.WebSocket){var o=e.WebSocket,t=function(e,t){var n=t?new o(e,t):new o(e);try{n.addEventListener("message",r)}catch(e){L.log("failed intercepting WebSocket constructor: "+e.message,e)}return n};
(t.prototype=o.prototype).constructor=o,t.CONNECTING=0,t.OPEN=1,t.CLOSING=2,t.CLOSED=3,e.WebSocket=t}else L.log("WebSocket interface is not supported by the browser.")}function ct(e,t){this.element=e,this.nodeCache=t,this._useId=!0,this._resolvedSelector=E}function lt(e,a){var s={},c=0;function r(e){var t,n,r=0;if("function"==typeof e.element.contains)for(t in s)s[t].removed||(n=s[t].element)!==e.element&&e.element.contains(n)&&(s[t].removed=!0,r++);return r}function o(e){for(var t,n,r=e.element.parentNode;r;){if(n=
s[a.idOf(r,!0)])for(t=0;t<n.length;t++)if(void 0!==n[t].childListOrdinal)return e.removed=!0,n[t]=e.childListOrdinal,1;r=r.parentNode}return 0}function t(e){if("attributes"!==e.type||e.attributeName!==ke.CONTAINER_ID_ATTRIBUTE){var t,n,r,o=c++,i=(t=e.actualTarget,n=a.idOf(t),(r=s[n])||(r=new ct(t,a),s[n]=r),r);"characterData"===e.type?i.characterDataChild=e.target:"childList"===e.type?(i.childListOrdinal=o,i.characterDataChild=E):"attributes"===e.type&&(i.attributes||(i.attributes={}),i.attributes[e.attributeName]=
o,"id"===e.attributeName&&i.invalidateId())}}this.start=function(){e.on("domMutation",t),L.log("DOM mutation tracking started.")},this.track=function(){var e=s,t=function(){var e,t,n=0;for(e in s)(t=s[e]).removed||(L.isAttachedToDOM(t.element)?void 0!==t.childListOrdinal&&(n+=o(t),n+=t.removed?0:r(t)):(n++,t.removed=!0));return n}();return L.log("DOM changes log was compacted by "+t+" entries."),c=0,s={},e}}function ut(a,s){var c=!0,l={},u=function(e,t,n){var r=ut.propertyForElement(e);if(r){var o=
(l[t]||{})[r],i=e[r];(c?i!==ut.defaultValue(e,r):o!==i)&&(n[t]||(n[t]=new ct(e,s),n[t].properties=[]),n[t].properties.push(r));var a={};a[r]=i,l[t]=a}};this.start=function(){L.log("DOM elements properties tracking started.")},this.track=function(){var e,t,n,r={},o={},i=a.querySelectorAll("input,select,textarea");for(e=0;e<i.length;e++)t=s.idOf(i[e]),u(i[e],t,r),o[t]=!0;for(n in l)o[n]||delete l[n];return c=!1,r}}function dt(r,o){var e,n=(e=0,function(){return++e}),i=function(e){var t=e[dt.GB_ID_ATTRIBUTE_NAME];
return t||(t=n(),e[dt.GB_ID_ATTRIBUTE_NAME]=t,o&&"function"==typeof e.setAttribute&&e.setAttribute(dt.GB_ID_ATTRIBUTE_NAME,t)),t};this.usingGlassboxIds=o,this.idOf=function(e,t){return t?e[dt.GB_ID_ATTRIBUTE_NAME]:i(e)},this.selectorFor=function(e,t){return o?(n=i(e),"["+dt.GB_ID_ATTRIBUTE_NAME+"\x3d'"+n+"']"):r(e,t);var n},this.introduceDocument=function(e){if(o&&!e._gb_scanned){for(var t,n=e.createNodeIterator(e.documentElement,NodeFilter.SHOW_ELEMENT,null,!0);t=n.nextNode();)i(t);e._gb_scanned=
!0}}}function pt(r,e,o){var t,n=!1,i=null;"undefined"!=typeof MutationObserver?i=MutationObserver:"undefined"!=typeof WebKitMutationObserver&&(i=WebKitMutationObserver);var a=function(e){for(var t=0;t<e.length;t++)if(!o(e.item(t)))return!1;return!0},s=function(e){var t=e.target;if("attributes"===e.type){if(e.attributeName===dt.GB_ID_ATTRIBUTE_NAME)return}else"characterData"===e.type&&t instanceof CharacterData&&(t=t.parentNode||t);if(!o(t)){if("childList"===e.type){for(var n=0;n<e.removedNodes.length;n++)delete e.removedNodes.item(n)[dt.GB_ID_ATTRIBUTE_NAME];
if(a(e.addedNodes)&&a(e.removedNodes))return}e.actualTarget=t,r.emit("domMutation",e)}},c={attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};this.supported=function(){return null!==i},this.start=function(){if(!n){if(!t){if(!i)throw new Error("cannot start DomObserver: native interface not supported by the browser.");t=new i(function(e){e.forEach(s)})}t.observe(e,c),n=!0}},this.isActive=function(){return n}}function ft(r,t,o){var n=!1,i=function(e){var t=
{};t._cls_orig_type=e.type;var n=e.target;if("DOMNodeInserted"===e.type&&(n=n.parentNode||n,t.type="childList"),"DOMNodeRemoved"===e.type&&(delete n[dt.GB_ID_ATTRIBUTE_NAME],n=n.parentNode||n,t.type="childList"),"DOMCharacterDataModified"===e.type&&(n=n.parentNode||n,t.type="characterData"),!o(n)){if("DOMAttrModified"===e.type){if(e.attrName===dt.GB_ID_ATTRIBUTE_NAME)return;t.type="attributes",t.attributeName=e.attrName}t.actualTarget=n,r.emit("domMutation",t)}};this.supported=function(){return"undefined"!=
typeof MutationEvent},this.start=function(){var e;(e=t).addEventListener("DOMNodeInserted",function(e){i(e)},!1),e.addEventListener("DOMCharacterDataModified",function(e){i(e)},!1),e.addEventListener("DOMNodeRemoved",function(e){i(e)},!1),e.addEventListener("DOMAttrModified",function(e){i(e)},!1),n=!0},this.isActive=function(){return n}}function mt(t,n){var r;n.on("init:loaded",function(){r=t.title}),n.on("domMutation",function(){var e;e=!r||r===t.title,r=t.title,e||setTimeout(function(){n.emit("titleChanged")},
0)})}function gt(d,p,f,m,g,h){h=L.shallowExtend(gt.DefaultOptions,h);var v=function(e,t,n){var r,o,i,a=e.getElementsByTagName(t);for(r=0;r<a.length;r++)for(i=a[r],o=0;o<n.length;o++)gt.AttributeUpdaters[n[o]](i,f)};this.supported=function(){return"undefined"!=typeof NodeFilter},this.setOption=function(e,t){h[e]=t},this.take=function(e){if(null===d.body)return E;var t,n,r,o=L.currentTimeStamp();try{var i=p.cloneNode(d.documentElement),a=i.querySelector("head"),s=i.querySelector("body");m&&m.sanitize(a),
g&&g.sanitize(s),v(i,"input",["value","checked"]),v(i,"textarea",["value"]),v(i,"textarea",["selectedIndex"]),h.addHeader&&(t=i,n=e,r=gt.CLS_HEADER_PREFIX+"[createdAt:"+L.currentTimeStamp()+" seq:"+n+"] ",t.head.insertBefore(t.createComment(r),t.head.childNodes[0])),f&&f.domMaskNode(i,ne.OMIT,ne.TEXT,ne.VALUE_ATTRIBUTE);var c=gt.HTML_SCHEMA_PREFIX+i.outerHTML,l=f?f.maskCookie(d.cookie):d.cookie;return new ht(c,d.referrer,e,l,d.characterSet)}catch(e){return L.log("could not obtain page snapshot. error: "+
e),this.lastError=e,E}finally{var u=L.currentTimeStamp();L.log("full page snapshot capturing took:"+(u-o)+"msc")}}}function ht(e,t,n,r,o){this.html=e,this.referrer=t,this.seq=n,this.charset=o,this.cookie=r}function vt(u,d){var p=L.immutableSet("checkbox","radio"),f={INPUT:"inputs",SELECT:"selects",TEXTAREA:"textareas"},e=function(e,t){var n,r,o,i;if(!function(e){if(!d||void 0===d.ignoredFormElement)return!1;var t=L.getElementId(e);return!!t&&N.contains(d.ignoredFormElement,t)}(e.element)&&e.properties&&
0<e.properties.length){var a,s,c=f[e.element.tagName],l={};if(c){for(a=0;a<e.properties.length;a++)o=e.element,i=e.properties[a],l[s="SELECT"===o.tagName?"selectedIndex":"INPUT"===o.tagName&&p[o.getAttribute("type")||""]?"checked":i]=(n=e.element,r=s,u&&"value"===r?u.maskValue(n):n[r]);L.ensureProperty(t,c)[e.selector()]=l}}};return{all:function(){return[e]}}}function Et(c){var l=[].slice.call(arguments,1),u=0;function d(e,t,n){if(t.removed)return!1;var r;for(r=0;r<e.length;r++)e[r](t,n);return!0}
c=c||{},this.getSnapshot=function(){var e,t,n,r,o,i,a={timestamp:u++,propertiesMode:"modifiedOnly",selectors:c.usingGlassboxIds?"gb":"native"},s=0;for(e=0;e<l.length;e++){for(t in i=0,n=(o=l[e]).tracker.track())r=n[t],d(o.providers,r,a)&&i++;s+=i,L.log(i+" change entries of type "+o.name+" were processed and assigned to DOM update.")}return 0===s&&(a=E),a},this.start=function(){var e;for(e=0;e<l.length;e++)l[e].tracker.start();L.log("dom mutation accumulation started.")}}function yt(e){function t(e,
t,n){var r,o=[];if(e)for(r=0;r<e.length;r++)o.push("#"+CSS.escape(e[r]));if(t)for(r=0;r<t.length;r++)o.push("."+CSS.escape(t[r]));return 0===o.length?null:n?o.map(function(e){return":not("+e+")"}).join(""):o.join(",")}this._options=e||{},this._cookieMaskSet=e.cookieMask?L.immutableSet.apply(null,e.cookieMask):null,this._selectorsByMaskingType={},this._selectorsByMaskingType[ne.TEXT.name]=t(e.domMaskIds,e.domMaskClasses),this._selectorsByMaskingType[ne.OMIT.name]=t(e.domOmitIds,e.domOmitClasses),this._selectorsByMaskingType[ne.VALUE_ATTRIBUTE.name]=
"input"+t(e.valueMaskIds,["cls_mask"].concat(e.valueMaskClasses||[]),S.ValueMaskingMode.WhiteList===e.valueMaskingMode)}}("_detector",window,document,"5.6.176B127")},2613161,555592);